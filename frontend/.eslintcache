[{"C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\index.js":"1","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\App.js":"2","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\reportWebVitals.js":"3","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\reduxStore.js":"4","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\utils\\setAuthToken.js":"5","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\utils\\PrivateRoute.js":"6","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\reduxActions\\authActions.js":"7","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\launchLandingPage.js":"8","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\TermsPrivacy.js":"9","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\Signup.js":"10","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\AboutUs.js":"11","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\Login.js":"12","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\scrollToTop.js":"13","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\Page404.js":"14","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\Index.js":"15","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\reduxActions\\types.js":"16","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\reduxReducers\\index.js":"17","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\microComponents\\Footer.js":"18","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\microComponents\\MvpFooter.js":"19","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\reduxReducers\\errorReducers.js":"20","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\reduxReducers\\authReducers.js":"21","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\microComponents\\ListingCard.js":"22","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\microComponents\\DesktopTopNav.js":"23","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\microComponents\\MobileBottomNav.js":"24","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\Profile.js":"25","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\ListingPage.js":"26","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\microComponents\\ActivityTicker.js":"27","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\Saved.js":"28","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\microComponents\\ListingCardSmallCard.js":"29","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\orderHistory.js":"30","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\listings.js":"31","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\microComponents\\SpecialListingCard.js":"32","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\ProfileLinks.js":"33","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\Account.js":"34","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\following.js":"35","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\NewListing.js":"36","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\Search.js":"37","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\microComponents\\BodyContainer.js":"38","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\microComponents\\Modal.js":"39","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\microComponents\\ReviewsCard.js":"40","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\microComponents\\LoaderAnimation.js":"41","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\IndexLoggedIn.js":"42","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\IndexLandingPage.js":"43","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\microComponents\\LoginCard.js":"44","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\utils\\PublicOnlyRoute.js":"45","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\ActivityPageMobile.js":"46","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\Community.js":"47","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\AdyenPayment.js":"48","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\AccountSetup.js":"49","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\StripePayment.js":"50","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\microComponents\\InputKeyValue.js":"51","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\PaymentInstructions.js":"52","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\microComponents\\SnackBar.js":"53","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\VerifyListing.js":"54","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\LogoutScript.js":"55","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\Warzone.js":"56","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\miscFunctions.js":"57","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\BlogPost.js":"58","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\serviceWorkerRegistration.js":"59","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\subscription.js":"60","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\employeeScripts\\PrivateRoute.js":"61","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\employeeScripts\\views\\Login.js":"62","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\employeeScripts\\views\\Signup.js":"63","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\employeeScripts\\views\\BlogPosts.js":"64","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\employeeScripts\\views\\EditBlogPost.js":"65","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\employeeScripts\\views\\Listings.js":"66","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\employeeScripts\\views\\Dashboard.js":"67","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\employeeScripts\\views\\PredefinedItems.js":"68","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\PredefItems.js":"69","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\microComponents\\MobileSearch.js":"70","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\employeeScripts\\views\\NewGuestUsers.js":"71","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\employeeScripts\\views\\NewGuestListing.js":"72","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\employeeScripts\\views\\ExistingGuestListings.js":"73"},{"size":1077,"mtime":1620824582234,"results":"74","hashOfConfig":"75"},{"size":6158,"mtime":1620954367873,"results":"76","hashOfConfig":"75"},{"size":362,"mtime":499162500000,"results":"77","hashOfConfig":"75"},{"size":352,"mtime":1611513415524,"results":"78","hashOfConfig":"75"},{"size":362,"mtime":1615990961760,"results":"79","hashOfConfig":"75"},{"size":669,"mtime":1611512633159,"results":"80","hashOfConfig":"75"},{"size":3330,"mtime":1619140867904,"results":"81","hashOfConfig":"75"},{"size":9506,"mtime":1619184239109,"results":"82","hashOfConfig":"75"},{"size":2194,"mtime":1611532322386,"results":"83","hashOfConfig":"75"},{"size":14319,"mtime":1622582121080,"results":"84","hashOfConfig":"75"},{"size":2836,"mtime":1611770266111,"results":"85","hashOfConfig":"75"},{"size":4818,"mtime":1615990837405,"results":"86","hashOfConfig":"75"},{"size":437,"mtime":1610906091685,"results":"87","hashOfConfig":"75"},{"size":219,"mtime":1610906074062,"results":"88","hashOfConfig":"75"},{"size":10432,"mtime":1611518837114,"results":"89","hashOfConfig":"75"},{"size":137,"mtime":1611508687921,"results":"90","hashOfConfig":"75"},{"size":221,"mtime":1616034218600,"results":"91","hashOfConfig":"75"},{"size":3612,"mtime":1620954620027,"results":"92","hashOfConfig":"75"},{"size":1255,"mtime":1611596508740,"results":"93","hashOfConfig":"75"},{"size":307,"mtime":1616033707298,"results":"94","hashOfConfig":"75"},{"size":1284,"mtime":1616033612026,"results":"95","hashOfConfig":"75"},{"size":5553,"mtime":1622404128658,"results":"96","hashOfConfig":"75"},{"size":13199,"mtime":1623853050630,"results":"97","hashOfConfig":"75"},{"size":3884,"mtime":1622127614648,"results":"98","hashOfConfig":"75"},{"size":13411,"mtime":1622476186188,"results":"99","hashOfConfig":"75"},{"size":31253,"mtime":1622516764739,"results":"100","hashOfConfig":"75"},{"size":3640,"mtime":1622124361969,"results":"101","hashOfConfig":"75"},{"size":2769,"mtime":1614271152609,"results":"102","hashOfConfig":"75"},{"size":4840,"mtime":1622406718157,"results":"103","hashOfConfig":"75"},{"size":30182,"mtime":1622126305036,"results":"104","hashOfConfig":"75"},{"size":40733,"mtime":1622126145473,"results":"105","hashOfConfig":"75"},{"size":12485,"mtime":1619140810762,"results":"106","hashOfConfig":"75"},{"size":3440,"mtime":1621042868008,"results":"107","hashOfConfig":"75"},{"size":7651,"mtime":1622126527390,"results":"108","hashOfConfig":"75"},{"size":8705,"mtime":1621465262102,"results":"109","hashOfConfig":"75"},{"size":30058,"mtime":1621719705012,"results":"110","hashOfConfig":"75"},{"size":15477,"mtime":1622125957776,"results":"111","hashOfConfig":"75"},{"size":217,"mtime":1613717562032,"results":"112","hashOfConfig":"75"},{"size":1838,"mtime":1616388962982,"results":"113","hashOfConfig":"75"},{"size":2861,"mtime":1619140793408,"results":"114","hashOfConfig":"75"},{"size":509,"mtime":1614214915482,"results":"115","hashOfConfig":"75"},{"size":22185,"mtime":1619141088768,"results":"116","hashOfConfig":"75"},{"size":28040,"mtime":1619141067320,"results":"117","hashOfConfig":"75"},{"size":4293,"mtime":1614272442831,"results":"118","hashOfConfig":"75"},{"size":669,"mtime":1614270145992,"results":"119","hashOfConfig":"75"},{"size":1034,"mtime":1614653441462,"results":"120","hashOfConfig":"75"},{"size":5572,"mtime":1620954411334,"results":"121","hashOfConfig":"75"},{"size":2016,"mtime":1614720316139,"results":"122","hashOfConfig":"75"},{"size":8819,"mtime":1620676684589,"results":"123","hashOfConfig":"75"},{"size":10164,"mtime":1621040961301,"results":"124","hashOfConfig":"75"},{"size":304,"mtime":1614732618809,"results":"125","hashOfConfig":"75"},{"size":4208,"mtime":1619141298358,"results":"126","hashOfConfig":"75"},{"size":755,"mtime":1615265616160,"results":"127","hashOfConfig":"75"},{"size":7876,"mtime":1619141439172,"results":"128","hashOfConfig":"75"},{"size":579,"mtime":1615421873511,"results":"129","hashOfConfig":"75"},{"size":17474,"mtime":1623853407217,"results":"130","hashOfConfig":"75"},{"size":885,"mtime":1615863516362,"results":"131","hashOfConfig":"75"},{"size":2948,"mtime":1620680934985,"results":"132","hashOfConfig":"75"},{"size":5125,"mtime":1615954397077,"results":"133","hashOfConfig":"75"},{"size":2891,"mtime":1619141578547,"results":"134","hashOfConfig":"75"},{"size":678,"mtime":1616028608654,"results":"135","hashOfConfig":"75"},{"size":4952,"mtime":1616035024231,"results":"136","hashOfConfig":"75"},{"size":13872,"mtime":1616034382116,"results":"137","hashOfConfig":"75"},{"size":2722,"mtime":1619140596341,"results":"138","hashOfConfig":"75"},{"size":6840,"mtime":1619140620579,"results":"139","hashOfConfig":"75"},{"size":2674,"mtime":1620793416149,"results":"140","hashOfConfig":"75"},{"size":8025,"mtime":1622517428325,"results":"141","hashOfConfig":"75"},{"size":16126,"mtime":1619140686354,"results":"142","hashOfConfig":"75"},{"size":2224,"mtime":1620786402755,"results":"143","hashOfConfig":"75"},{"size":9736,"mtime":1621288010939,"results":"144","hashOfConfig":"75"},{"size":3734,"mtime":1622587665169,"results":"145","hashOfConfig":"75"},{"size":19988,"mtime":1622515500295,"results":"146","hashOfConfig":"75"},{"size":4712,"mtime":1622519162182,"results":"147","hashOfConfig":"75"},{"filePath":"148","messages":"149","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"150","usedDeprecatedRules":"151"},"1h3n1ep",{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"151"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"151"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"151"},{"filePath":"158","messages":"159","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"151"},{"filePath":"160","messages":"161","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"151"},{"filePath":"162","messages":"163","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"151"},{"filePath":"164","messages":"165","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"166","usedDeprecatedRules":"151"},{"filePath":"167","messages":"168","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"151"},{"filePath":"169","messages":"170","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"171","usedDeprecatedRules":"151"},{"filePath":"172","messages":"173","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"174","usedDeprecatedRules":"151"},{"filePath":"175","messages":"176","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"177","usedDeprecatedRules":"151"},{"filePath":"178","messages":"179","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"180","usedDeprecatedRules":"151"},{"filePath":"181","messages":"182","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"151"},{"filePath":"183","messages":"184","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"185"},{"filePath":"186","messages":"187","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"151"},{"filePath":"188","messages":"189","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"151"},{"filePath":"190","messages":"191","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"151"},{"filePath":"192","messages":"193","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"151"},{"filePath":"194","messages":"195","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"151"},{"filePath":"196","messages":"197","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"151"},{"filePath":"198","messages":"199","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"200","usedDeprecatedRules":"151"},{"filePath":"201","messages":"202","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"203","usedDeprecatedRules":"151"},{"filePath":"204","messages":"205","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"206","usedDeprecatedRules":"151"},{"filePath":"207","messages":"208","errorCount":0,"warningCount":19,"fixableErrorCount":0,"fixableWarningCount":0,"source":"209","usedDeprecatedRules":"151"},{"filePath":"210","messages":"211","errorCount":0,"warningCount":40,"fixableErrorCount":0,"fixableWarningCount":0,"source":"212","usedDeprecatedRules":"151"},{"filePath":"213","messages":"214","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"215","usedDeprecatedRules":"151"},{"filePath":"216","messages":"217","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"218","usedDeprecatedRules":"151"},{"filePath":"219","messages":"220","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"221","usedDeprecatedRules":"151"},{"filePath":"222","messages":"223","errorCount":0,"warningCount":22,"fixableErrorCount":0,"fixableWarningCount":0,"source":"224","usedDeprecatedRules":"151"},{"filePath":"225","messages":"226","errorCount":0,"warningCount":22,"fixableErrorCount":0,"fixableWarningCount":0,"source":"227","usedDeprecatedRules":"151"},{"filePath":"228","messages":"229","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"230","usedDeprecatedRules":"151"},{"filePath":"231","messages":"232","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"233","usedDeprecatedRules":"151"},{"filePath":"234","messages":"235","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"236","usedDeprecatedRules":"151"},{"filePath":"237","messages":"238","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"239","usedDeprecatedRules":"151"},{"filePath":"240","messages":"241","errorCount":0,"warningCount":33,"fixableErrorCount":0,"fixableWarningCount":0,"source":"242","usedDeprecatedRules":"151"},{"filePath":"243","messages":"244","errorCount":0,"warningCount":26,"fixableErrorCount":0,"fixableWarningCount":0,"source":"245","usedDeprecatedRules":"151"},{"filePath":"246","messages":"247","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"151"},{"filePath":"248","messages":"249","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"250","usedDeprecatedRules":"151"},{"filePath":"251","messages":"252","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"253","usedDeprecatedRules":"151"},{"filePath":"254","messages":"255","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"151"},{"filePath":"256","messages":"257","errorCount":0,"warningCount":26,"fixableErrorCount":0,"fixableWarningCount":0,"source":"258","usedDeprecatedRules":"259"},{"filePath":"260","messages":"261","errorCount":0,"warningCount":28,"fixableErrorCount":0,"fixableWarningCount":0,"source":"262","usedDeprecatedRules":"259"},{"filePath":"263","messages":"264","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"265","usedDeprecatedRules":"151"},{"filePath":"266","messages":"267","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"151"},{"filePath":"268","messages":"269","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"270","usedDeprecatedRules":"151"},{"filePath":"271","messages":"272","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"273","usedDeprecatedRules":"151"},{"filePath":"274","messages":"275","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"276","messages":"277","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"278","usedDeprecatedRules":"151"},{"filePath":"279","messages":"280","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"281","usedDeprecatedRules":"151"},{"filePath":"282","messages":"283","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"284"},{"filePath":"285","messages":"286","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"287","usedDeprecatedRules":"151"},{"filePath":"288","messages":"289","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"151"},{"filePath":"290","messages":"291","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"292","usedDeprecatedRules":"151"},{"filePath":"293","messages":"294","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"151"},{"filePath":"295","messages":"296","errorCount":0,"warningCount":22,"fixableErrorCount":0,"fixableWarningCount":0,"source":"297","usedDeprecatedRules":"151"},{"filePath":"298","messages":"299","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"151"},{"filePath":"300","messages":"301","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"302","usedDeprecatedRules":"151"},{"filePath":"303","messages":"304","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"151"},{"filePath":"305","messages":"306","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"307","messages":"308","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"309"},{"filePath":"310","messages":"311","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"312","usedDeprecatedRules":"309"},{"filePath":"313","messages":"314","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"315","usedDeprecatedRules":"309"},{"filePath":"316","messages":"317","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"318","usedDeprecatedRules":"151"},{"filePath":"319","messages":"320","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"321","usedDeprecatedRules":"151"},{"filePath":"322","messages":"323","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"324","usedDeprecatedRules":"151"},{"filePath":"325","messages":"326","errorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":0,"source":"327","usedDeprecatedRules":"151"},{"filePath":"328","messages":"329","errorCount":0,"warningCount":31,"fixableErrorCount":0,"fixableWarningCount":0,"source":"330","usedDeprecatedRules":"151"},{"filePath":"331","messages":"332","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"333","usedDeprecatedRules":"151"},{"filePath":"334","messages":"335","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"336","usedDeprecatedRules":"151"},{"filePath":"337","messages":"338","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"339","usedDeprecatedRules":"151"},{"filePath":"340","messages":"341","errorCount":0,"warningCount":24,"fixableErrorCount":0,"fixableWarningCount":0,"source":"342","usedDeprecatedRules":"151"},{"filePath":"343","messages":"344","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"345","usedDeprecatedRules":"151"},"C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\index.js",["346","347"],"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\n\nimport { Elements } from '@stripe/react-stripe-js';\nimport { loadStripe } from '@stripe/stripe-js';\n\nconst stripePromise = loadStripe('pk_test_51INowtBvRwHUiPD96mG208wgpPjFuiM3Cf4zs9okCmKwAGrGSSXJhnjP7phCLsmqHjipiLcD2fcB0zLESzvCpdIp00MeanOVre');\n\nif(process.env.NODE_ENV && process.env.NODE_ENV == \"development\"){\n    window.api_prefix = \"\";\n}else{\n    window.api_prefix = \"https://api.joincambio.com\";\n}\n\nReactDOM.render(\n  <Elements stripe={stripePromise}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Elements>,\n  document.getElementById('root')\n);\n// serviceWorkerRegistration.register();\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\n",["348","349"],"C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\App.js",[],"C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\reportWebVitals.js",[],"C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\reduxStore.js",[],"C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\utils\\setAuthToken.js",[],"C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\utils\\PrivateRoute.js",[],"C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\reduxActions\\authActions.js",[],"C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\launchLandingPage.js",["350","351","352","353","354","355","356","357","358","359"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport styles from \"public/style/launchLandingPage.module.css\";\r\nimport axios from \"axios\";\r\nimport Footer from \"microComponents/MvpFooter\";\r\nimport queryString from \"query-string\";\r\nimport { Helmet } from \"react-helmet\";\r\n\r\n\r\nconst emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\n\r\nclass landingPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            mainInput: \"\",\r\n            userHasJoined: false,\r\n            joinErrorMessage: \"\",\r\n            shareLink: \"\",\r\n            linkIsCopied: false,\r\n            refEmail: \"\"\r\n        }\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.submitButton = this.submitButton.bind(this);\r\n        this.copyReferralLink = this.copyReferralLink.bind(this);\r\n\r\n        this.linkInput = React.createRef();\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        const { value, name } = e.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    submitButton() {\r\n        this.setState({\r\n            joinErrorMessage: \"\"\r\n        });\r\n        if (this.state.mainInput.length > 0) {\r\n            if (emailRegex.test(this.state.mainInput) === true) {\r\n                let requestObj = {};\r\n                requestObj.email = this.state.mainInput;\r\n                if (queryString.parse(window.location.search).ref) {\r\n                    requestObj.refToken = queryString.parse(window.location.search).ref;\r\n                }\r\n                axios.post(window.api_prefix+'/addUserToWaitlist', requestObj).then(resp => {\r\n                    let refEmail = \"\";\r\n                    if (resp.data.referralEmail) {\r\n                        refEmail = resp.data.referralEmail;\r\n                    }\r\n                    this.setState({\r\n                        userHasJoined: true,\r\n                        joinErrorMessage: \"\",\r\n                        shareLink: \"www.joinCambio.com?ref=\" + resp.data.shareToken,\r\n                        referralEmail: refEmail\r\n                    });\r\n                }).catch(err => {\r\n                    if (err.response) {\r\n                        if (err.response.status === 403) {\r\n                            this.setState({\r\n                                joinErrorMessage: \"This email address is already on our waitlist.\",\r\n                                userHasJoined: false\r\n                            });\r\n                        } else {\r\n                            this.setState({\r\n                                joinErrorMessage: \"There has been a server error, please try again.\",\r\n                                userHasJoined: false\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    joinErrorMessage: \"Please enter a valid email address.\"\r\n                });\r\n            }\r\n        } else {\r\n            this.setState({\r\n                joinErrorMessage: \"Please fill in your email address.\"\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    copyReferralLink() {\r\n        if (this.linkInput.current) {\r\n            let input = this.linkInput.current;\r\n            input.select();\r\n            input.setSelectionRange(0, 99999);\r\n            document.execCommand(\"copy\");\r\n            if (window.getSelection) { window.getSelection().removeAllRanges(); }\r\n            else if (document.selection) { document.selection.empty(); }\r\n            this.setState({\r\n                linkIsCopied: true\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        let inputs;\r\n        if (this.state.userHasJoined === false) {\r\n            let errorMessage;\r\n            if (this.state.joinErrorMessage.length > 0) {\r\n                errorMessage = <p className={\"errorText \" + styles.regularText}>{this.state.joinErrorMessage}</p>\r\n            }\r\n            inputs = (\r\n                <div>\r\n                    <p className={\"regularText \" + styles.regularText}>Join our waitlist to be in the first batch of users</p>\r\n                    <input className={\"inputText \" + styles.input} placeholder=\"Email address\" value={this.state.mainInput} name=\"mainInput\" onChange={this.handleInputChange} type=\"email\"></input>\r\n                    <button id={styles.submitButton} className={\"regularTextMedium\"} onClick={this.submitButton}>Join</button>\r\n                    <p className={\"smallText \" + styles.regularText}>Don't worry we won't spam you, promise!</p>\r\n                    {errorMessage}\r\n                </div>\r\n            );\r\n        } else {\r\n            let middleSentence;\r\n            if (this.state.referralEmail.length > 0) {\r\n                middleSentence = <p className={\"regularText \" + styles.regularText}>Thanks for joining Cambio's waitlist, one referral has been added to {this.state.referralEmail}. <span className={\"regularTextBold\"}>Refer 5 users </span>and skip the waitlist when we launch!</p>\r\n            } else {\r\n                middleSentence = <p className={\"regularText \" + styles.regularText}>Thanks for joining Cambio's waitlist. <span className={\"regularTextBold\"}>Refer 5 users </span>to skip the waitlist when we launch!</p>\r\n            }\r\n\r\n\r\n            let twitterHref = \"https://twitter.com/share?url=\" + this.state.shareLink + \"&text=Join Cambio's waitlist to purchase affordable pre-owned electronics you can trust.\";\r\n            let whatsappHref = \"https://wa.me/?text=Join Cambio's waitlist to purchase affordable pre-owned electronics you can trust. \" + this.state.shareLink;\r\n\r\n            inputs = (\r\n                <div>\r\n                    <p className={\"title2 \" + styles.regularText}>Hooray!</p>\r\n                    {middleSentence}\r\n                    <div id={styles.mainShareContainer}>\r\n                        <div id={styles.topShareContainer}>\r\n                            <input ref={this.linkInput} readOnly type=\"text\" className={\"inputText\"} value={this.state.shareLink}></input><button onClick={this.copyReferralLink} className={\"regularTextMedium\"}>{this.state.linkIsCopied == true ? \"Copied\" : \"Copy\"}</button>\r\n                        </div>\r\n                        <div id={styles.bottomShareContainer}>\r\n                            <p className={\"regularText\"}>Share on:</p>\r\n                            <a href={twitterHref} target=\"_blank\">\r\n                                <img className={styles.shareIcons} src=\"https://staticassets2020.s3.amazonaws.com/icons/twitter-white.svg\" />\r\n                            </a>\r\n                            <a href={whatsappHref} target=\"_blank\">\r\n                                <img className={styles.shareIcons} src=\"https://staticassets2020.s3.amazonaws.com/icons/whatsapp-white.svg\" />\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div id={styles.mainContainer}>\r\n                <Helmet>\r\n                    <meta charSet=\"utf-8\" />\r\n                    <title>Cambio - Pre-owned electronics you can trust</title>\r\n                    <meta name=\"description\" content=\"Purchase affordable pre-owned electronics you can trust. No stolen devices. No sketchy transactions. Every pucharse is covered under our buyer's warranty.\" />\r\n\r\n                    <link rel=\"canonical\" href=\"http://joincambio.com\" />\r\n                </Helmet>\r\n                <div id={styles.header}>\r\n                    <a href=\"https://twitter.com/joinCambio\">\r\n                        <svg className={styles.socialIcon} xmlns=\"http://www.w3.org/2000/svg\" width=\"35\" height=\"35\" viewBox=\"0 0 72 72\" fill=\"#1da1f2\">\r\n                            <path d=\"M67.812 16.141a26.246 26.246 0 01-7.519 2.06 13.134 13.134 0 005.756-7.244 26.127 26.127 0 01-8.313 3.176A13.075 13.075 0 0048.182 10c-7.229 0-13.092 5.861-13.092 13.093 0 1.026.118 2.021.338 2.981-10.885-.548-20.528-5.757-26.987-13.679a13.048 13.048 0 00-1.771 6.581c0 4.542 2.312 8.551 5.824 10.898a13.048 13.048 0 01-5.93-1.638c-.002.055-.002.11-.002.162 0 6.345 4.513 11.638 10.504 12.84a13.177 13.177 0 01-3.449.457c-.846 0-1.667-.078-2.465-.231 1.667 5.2 6.499 8.986 12.23 9.09a26.276 26.276 0 01-16.26 5.606A26.21 26.21 0 014 55.976a37.036 37.036 0 0020.067 5.882c24.083 0 37.251-19.949 37.251-37.249 0-.566-.014-1.134-.039-1.694a26.597 26.597 0 006.533-6.774z\">\r\n                            </path>\r\n                        </svg>\r\n                    </a>\r\n                </div>\r\n                <div id={styles.mainInnerContainer}>\r\n                    <div className={styles.halfDiv}>\r\n                        <img id={styles.logo} src=\"https://staticassets2020.s3.amazonaws.com/logos/logoV1orange.png\" />\r\n                        <p className={\"title1 \" + styles.regularText}>Find affordable pre-owned electronics you can trust.</p>\r\n                        {inputs}\r\n                    </div>\r\n                    <div className={styles.halfDiv}>\r\n                        <img alt=\"mockup\" id={styles.mockupImg} src=\"https://staticassets2020.s3.amazonaws.com/landingPageAssets/mockup.png\" />\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withTranslation()(landingPage);","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\TermsPrivacy.js",[],"C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\Signup.js",["360","361","362","363","364","365","366","367","368"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { registerUser } from \"../reduxActions/authActions\";\r\nimport styles from \"public/style/authenticationForms.module.css\";\r\nimport Spinner from \"microComponents/LoaderAnimation\";\r\nimport axios from \"axios\";\r\nimport queryString from \"query-string\";\r\n\r\n\r\nconst emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\nclass Signup extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email: \"\",\r\n            password: \"\",\r\n            username: \"\",\r\n            formErrorMessage: \"\",\r\n            isDataLoading: false,\r\n            serverErrorMessage: \"\",\r\n            usernameErrorMessage: \"\",\r\n            usernameSuccessMessage: \"\",\r\n            unameIsValid: false,\r\n            isLoading: true,\r\n            tokenValue: null,\r\n            waitlistSuccessMessage: \"\"\r\n        }\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleFormSubmit = this.handleFormSubmit.bind(this);\r\n        this.verifyUsername = this.verifyUsername.bind(this);\r\n        this.handleWaitlistSubmit = this.handleWaitlistSubmit.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        // If logged in and user navigates to Register page, should redirect them to dashboard\r\n        if (this.props.auth.isAuthenticated) {\r\n            this.props.history.push(\"/home\");\r\n        }\r\n        if (queryString.parse(window.location.search).token) {\r\n            let tokenValue = queryString.parse(window.location.search).token;\r\n            this.setState({\r\n                isLoading: false,\r\n                tokenValue: tokenValue\r\n            });\r\n        } else {\r\n            this.setState({\r\n                isLoading: false,\r\n            });\r\n        }\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState) {\r\n        if (nextProps.errors && nextProps.errors.message) {\r\n            return { serverErrorMessage: nextProps.errors.message, isDataLoading: false };\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n    handleInputChange(e) {\r\n        const { name, value } = e.target;\r\n        if (name === \"username\") {\r\n            this.setState({\r\n                [name]: value,\r\n                unameIsValid: false\r\n            });\r\n        } else {\r\n            this.setState({\r\n                [name]: value\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    verifyUsername() {\r\n        this.setState({\r\n            usernameSuccessMessage: \"\",\r\n            usernameErrorMessage: \"\"\r\n        });\r\n        if (this.state.username.length > 0) {\r\n            axios.get(window.api_prefix+\"/usernameIsValid?uname=\" + this.state.username).then(resp => {\r\n                if (parseInt(resp.data.count) > 0) {\r\n                    this.setState({\r\n                        usernameSuccessMessage: \"\",\r\n                        usernameErrorMessage: \"This username is already taken.\",\r\n                        unameIsValid: false\r\n                    });\r\n                } else {\r\n                    this.setState({\r\n                        usernameSuccessMessage: \"Congrats, this username is stil available.\",\r\n                        usernameErrorMessage: \"\",\r\n                        unameIsValid: true\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    handleWaitlistSubmit() {\r\n        this.setState({\r\n            formErrorMessage: \"\",\r\n        });\r\n        if (this.state.email.length > 0) {\r\n            if (emailRegex.test(this.state.email) === true) {\r\n                if (this.state.email.length >= 6 && this.state.email.length < 255) {\r\n                    this.setState({\r\n                        isDataLoading: true\r\n                    });\r\n                    let signupObj = { email: this.state.email };\r\n                    axios.post(window.api_prefix+\"/addUserToWaitlist\", signupObj).then(resp => {\r\n                        this.setState({\r\n                            isDataLoading: false,\r\n                            waitlistSuccessMessage: \"You have successfully been added to our waitlist! Check your emails regularly.\"\r\n                        });\r\n                    }).catch(err => {\r\n                        this.setState({\r\n                            formErrorMessage: \"There has been a server error, please try again.\"\r\n                        });\r\n                        this.setState({\r\n                            isDataLoading: false\r\n                        });\r\n                    });\r\n                } else {\r\n                    this.setState({\r\n                        formErrorMessage: \"Your email should have between 6 and 255 characters.\"\r\n                    });\r\n                    this.setState({\r\n                        isDataLoading: false\r\n                    });\r\n                }\r\n            } else {\r\n                this.setState({\r\n                    formErrorMessage: \"Your email is not valid.\"\r\n                });\r\n                this.setState({\r\n                    isDataLoading: false\r\n                });\r\n            }\r\n        } else {\r\n            this.setState({\r\n                formErrorMessage: \"Please fill in all the fields.\"\r\n            });\r\n        }\r\n    }\r\n\r\n    handleFormSubmit() {\r\n        this.setState({\r\n            formErrorMessage: \"\",\r\n        });\r\n        if (this.state.email.length > 0 && this.state.password.length > 0 && this.state.username.length > 0 && this.state.tokenValue != null) {\r\n            if (emailRegex.test(this.state.email) === true) {\r\n                if (this.state.email.length >= 6 && this.state.email.length < 255) {\r\n                    if (this.state.password.length >= 6 && this.state.password.length < 255) {\r\n                        if (this.state.username.length < 255) {\r\n                            if (this.state.unameIsValid == true) {\r\n                                this.setState({\r\n                                    isDataLoading: true\r\n                                });\r\n                                let signupObj = { token: this.state.tokenValue, email: this.state.email, password: this.state.password, username: this.state.username };\r\n                                let queryStringValues = queryString.parse(window.location.search);\r\n                                if(typeof queryStringValues.pwd != \"undefined\" && typeof queryStringValues.uid != \"undefined\"){\r\n                                    signupObj.guestUserPassword = queryStringValues.pwd;\r\n                                    signupObj.guestUserId = queryStringValues.uid;\r\n                                }\r\n\r\n\r\n                                this.props.registerUser(signupObj, this.props.history);\r\n                            } else {\r\n                                this.setState({\r\n                                    formErrorMessage: \"Please pick a valid username.\"\r\n                                });\r\n                            }\r\n                        } else {\r\n                            this.setState({\r\n                                formErrorMessage: \"Your last name should have less than 255 characters.\"\r\n                            });\r\n                        }\r\n                    } else {\r\n                        this.setState({\r\n                            formErrorMessage: \"Your password should have between 6 and 255 characters.\"\r\n                        });\r\n                    }\r\n                } else {\r\n                    this.setState({\r\n                        formErrorMessage: \"Your email should have between 6 and 255 characters.\"\r\n                    });\r\n                }\r\n            } else {\r\n                this.setState({\r\n                    formErrorMessage: \"Your email is not valid.\"\r\n                });\r\n            }\r\n        } else {\r\n            this.setState({\r\n                formErrorMessage: \"Please fill in all the fields.\"\r\n            });\r\n        }\r\n    }\r\n    render() {\r\n\r\n        let errorMessage;\r\n        if (this.state.formErrorMessage.length > 0) {\r\n            errorMessage = <p className={\"errorText \" + styles.regularText}>{this.state.formErrorMessage}</p>\r\n        } else if (this.state.serverErrorMessage.length > 0) {\r\n            errorMessage = <p className={\"errorText \" + styles.regularText}>{this.state.serverErrorMessage}</p>\r\n        }\r\n\r\n        let usernameMessage;\r\n        if (this.state.usernameErrorMessage.length > 0) {\r\n            usernameMessage = <p className={\"errorText \" + styles.regularText}>{this.state.usernameErrorMessage}</p>;\r\n        } else if (this.state.usernameSuccessMessage.length > 0) {\r\n            usernameMessage = <p className={styles.regularText} style={{ color: \"green\" }}>{this.state.usernameSuccessMessage}</p>;\r\n        }\r\n\r\n\r\n        if (this.state.isLoading == true) {\r\n            return <p>Loading...</p>\r\n        }\r\n        if (this.state.waitlistSuccessMessage.length > 0) {\r\n            return (\r\n                <div>\r\n                    <div id={styles.bodyContainer}>\r\n                        <div id={styles.formCard}>\r\n                            <Link to=\"/\">\r\n                                <img alt=\"logo\" id={styles.logo} src=\"https://staticassets2020.s3.amazonaws.com/logos/logoV1orangeTransparent.png\" />\r\n                            </Link>\r\n                            <p className={\"title1 \" + styles.regularText}>We're currently still in beta release and it looks like you weren't on our waitlist!</p>\r\n                            <p className={\"regularTextMedium \" + styles.regularText}>{this.state.waitlistSuccessMessage}</p>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        this.state.isDataLoading == true ?\r\n                            <Spinner />\r\n                            :\r\n                            null\r\n                    }\r\n                </div>\r\n            );\r\n        }\r\n        if (this.state.tokenValue == null) {\r\n            return (\r\n                <div>\r\n                    <div id={styles.bodyContainer}>\r\n                        <div id={styles.formCard}>\r\n                            <Link to=\"/\">\r\n                                <img alt=\"logo\" id={styles.logo} src=\"https://staticassets2020.s3.amazonaws.com/logos/logoV1orangeTransparent.png\" />\r\n                            </Link>\r\n                            <p className={\"title1 \" + styles.regularText}>We're currently still in beta release and it looks like you weren't on our waitlist!</p>\r\n                            <p className={\"regularTextMedium \" + styles.regularText}>Join our waitlist now to be the next member of our community.</p>\r\n                            <input className={styles.inputText + \" inputText regularText\"} type=\"email\" name=\"email\" value={this.state.email} onChange={this.handleInputChange} placeholder=\"Email address\"></input>\r\n                            {errorMessage}\r\n                            <p className={\"regularText \" + styles.regularText}>Already have an account? <Link to=\"/login\" className={styles.link + \" \" + styles.regularText}>Sign in now.</Link></p>\r\n                            <button className={styles.button + \" buttonCta regularTextMedium\"} onClick={this.handleWaitlistSubmit}>Continue</button>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        this.state.isDataLoading == true ?\r\n                            <Spinner />\r\n                            :\r\n                            null\r\n                    }\r\n                </div>\r\n            );\r\n        }\r\n\r\n\r\n        return (\r\n            <div>\r\n                <div id={styles.bodyContainer}>\r\n                    <div id={styles.formCard}>\r\n                        <Link to=\"/\">\r\n                            <img alt=\"logo\" id={styles.logo} src=\"https://staticassets2020.s3.amazonaws.com/logos/logoV1orangeTransparent.png\" />\r\n                        </Link>\r\n                        <p className={\"title1 \" + styles.regularText}>Let's get started!</p>\r\n                        <input className={styles.inputText + \" inputText regularText\"} type=\"text\" name=\"username\" value={this.state.username} onChange={this.handleInputChange} onBlur={this.verifyUsername} placeholder=\"Pick a username\"></input>\r\n                        {usernameMessage}\r\n                        <div id={styles.invSpace}></div>\r\n                        <input className={styles.inputText + \" inputText regularText\"} type=\"email\" name=\"email\" value={this.state.email} onChange={this.handleInputChange} placeholder=\"Email address\"></input>\r\n                        <input className={styles.inputText + \" inputText regularText\"} type=\"password\" name=\"password\" value={this.state.password} onChange={this.handleInputChange} placeholder=\"Password\"></input>\r\n                        {errorMessage}\r\n                        <p>By registering, you agree to our <Link className={styles.link + \" \" + styles.regularText}>Privacy policy</Link> and <Link className={styles.link + \" \" + styles.regularText}>Terms and conditions</Link></p>\r\n                        <p className={\"regularText \" + styles.regularText}>Already have an account? <Link to=\"/login\" className={styles.link + \" \" + styles.regularText}>Sign in now.</Link></p>\r\n                        <button className={styles.button + \" buttonCta regularTextMedium\"} onClick={this.handleFormSubmit}>Continue</button>\r\n                    </div>\r\n                </div>\r\n                {\r\n                    this.state.isDataLoading == true ?\r\n                        <Spinner />\r\n                        :\r\n                        null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nSignup.propTypes = {\r\n    registerUser: PropTypes.func.isRequired,\r\n    auth: PropTypes.object.isRequired,\r\n    errors: PropTypes.object.isRequired\r\n};\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    errors: state.errors\r\n});\r\n\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    { registerUser }\r\n)(withRouter(withTranslation()(Signup)));","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\AboutUs.js",["369"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport styles from \"public/style/aboutUs.module.css\";\r\nimport Footer from \"microComponents/MvpFooter\";\r\nimport { Helmet } from \"react-helmet\";\r\nclass aboutUs extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        }\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div id={styles.mainContainer}>\r\n                <Helmet>\r\n                    <meta charSet=\"utf-8\" />\r\n                    <title>About Cambio - Pre-owned electronics you can trust</title>\r\n                    <link rel=\"canonical\" href=\"http://joincambio.com/about-us\" />\r\n                </Helmet>\r\n                <div id={styles.header}>\r\n                    <img id={styles.logo} src=\"https://staticassets2020.s3.amazonaws.com/logos/logoV1orange.png\" />\r\n\r\n                    <a href=\"https://twitter.com/joinCambio\">\r\n                        <svg className={styles.socialIcon} xmlns=\"http://www.w3.org/2000/svg\" width=\"35\" height=\"35\" viewBox=\"0 0 72 72\" fill=\"#1da1f2\">\r\n                            <path d=\"M67.812 16.141a26.246 26.246 0 01-7.519 2.06 13.134 13.134 0 005.756-7.244 26.127 26.127 0 01-8.313 3.176A13.075 13.075 0 0048.182 10c-7.229 0-13.092 5.861-13.092 13.093 0 1.026.118 2.021.338 2.981-10.885-.548-20.528-5.757-26.987-13.679a13.048 13.048 0 00-1.771 6.581c0 4.542 2.312 8.551 5.824 10.898a13.048 13.048 0 01-5.93-1.638c-.002.055-.002.11-.002.162 0 6.345 4.513 11.638 10.504 12.84a13.177 13.177 0 01-3.449.457c-.846 0-1.667-.078-2.465-.231 1.667 5.2 6.499 8.986 12.23 9.09a26.276 26.276 0 01-16.26 5.606A26.21 26.21 0 014 55.976a37.036 37.036 0 0020.067 5.882c24.083 0 37.251-19.949 37.251-37.249 0-.566-.014-1.134-.039-1.694a26.597 26.597 0 006.533-6.774z\">\r\n                            </path>\r\n                        </svg>\r\n                    </a>\r\n                </div>\r\n                <div id={styles.mainInnerContainer}>\r\n                    <div className={styles.halfDiv}>\r\n\r\n\r\n                        <p className={\"title1\"} id={styles.headlineText}>About Cambio</p>\r\n                        <p className={\"regularText \" + styles.regularText} id={styles.headlineText}>The team created Cambio in an effort to structure and elevate the experience of buying used tech hardware. As people who buy their devices and accessories on online forums, we couldn't believe no one had built a proper marketplace to distribute pre-owned products. <br></br><br></br>We understand trust is your biggest concern, and ours is too. We are developing a safe way to exchange items, by creating a chain of trust from seller to buyer.</p>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default withTranslation()(aboutUs);","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\Login.js",["370","371","372","373","374"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { loginUser } from \"../reduxActions/authActions\";\r\nimport styles from \"public/style/authenticationForms.module.css\";\r\nimport Spinner from \"microComponents/LoaderAnimation\";\r\nconst emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\nclass Login extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email: \"\",\r\n            password: \"\",\r\n            formErrorMessage: \"\",\r\n            isDataLoading: false,\r\n            serverErrorMessage: \"\"\r\n        }\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleFormSubmit = this.handleFormSubmit.bind(this);\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        // If logged in and user navigates to Register page, should redirect them to dashboard\r\n        if (this.props.auth.isAuthenticated) {\r\n            this.props.history.push(\"/home\");\r\n        }\r\n    }\r\n\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState) {\r\n        if (nextProps.auth.isAuthenticated) {\r\n            nextProps.history.push(\"/home\"); // push user to dashboard when they login\r\n            return null;\r\n        } else if (nextProps.errors && nextProps.errors.message) {\r\n            return { serverErrorMessage: nextProps.errors.message, isDataLoading: false };\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        const { name, value } = e.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    handleFormSubmit() {\r\n        this.setState({\r\n            formErrorMessage: \"\"\r\n        });\r\n        if (this.state.email.length > 0 && this.state.password.length > 0) {\r\n            if (emailRegex.test(this.state.email) === true) {\r\n                this.setState({ isDataLoading: true });\r\n                let loginObj = { email: this.state.email, password: this.state.password };\r\n                this.props.loginUser(loginObj);\r\n            } else {\r\n                this.setState({\r\n                    formErrorMessage: \"Your email is not valid.\"\r\n                });\r\n            }\r\n        } else {\r\n            this.setState({\r\n                formErrorMessage: \"Please fill in all the fields.\"\r\n            });\r\n        }\r\n    }\r\n    render() {\r\n        let errorMessage;\r\n        if (this.state.formErrorMessage.length > 0) {\r\n            errorMessage = <p className={\"errorText \" + styles.regularText}>{this.state.formErrorMessage}</p>\r\n        } else if (this.state.serverErrorMessage.length > 0) {\r\n            errorMessage = <p className={\"errorText \" + styles.regularText}>{this.state.serverErrorMessage}</p>\r\n        }\r\n        return (\r\n            <div>\r\n                <div id={styles.bodyContainer}>\r\n                    <div id={styles.formCard}>\r\n                        <Link to=\"/\">\r\n                            <img alt=\"logo\" id={styles.logo} src=\"https://staticassets2020.s3.amazonaws.com/logos/logoV1orangeTransparent.png\" />\r\n                        </Link>\r\n                        <p className={\"title1 \" + styles.regularText}>Welcome back!</p>\r\n                        <input className={styles.inputText + \" inputText regularText\"} type=\"email\" name=\"email\" value={this.state.email} onChange={this.handleInputChange} placeholder=\"Email address\"></input>\r\n                        <input className={styles.inputText + \" inputText regularText\"} type=\"password\" name=\"password\" value={this.state.password} onChange={this.handleInputChange} placeholder=\"Password\"></input>\r\n                        {errorMessage}\r\n                        <p className={\"regularText \" + styles.regularText}>Don't have an account? <Link to=\"/signup\" className={styles.link + \" \" + styles.regularText}>Sign up now.</Link></p>\r\n                        <button className={styles.button + \" buttonCta regularTextMedium\"} onClick={this.handleFormSubmit}>Continue</button>\r\n                    </div>\r\n                </div>\r\n                {\r\n                    this.state.isDataLoading == true ?\r\n                        <Spinner />\r\n                        :\r\n                        null\r\n                }\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nLogin.propTypes = {\r\n    loginUser: PropTypes.func.isRequired,\r\n    auth: PropTypes.object.isRequired,\r\n    errors: PropTypes.object.isRequired\r\n};\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    errors: state.errors\r\n});\r\nexport default connect(\r\n    mapStateToProps,\r\n    { loginUser }\r\n)(withTranslation()(Login));","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\scrollToTop.js",["375"],"import React, { useEffect, Fragment } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nfunction ScrollToTop({ history, children }) {\r\n    useEffect(() => {\r\n        const unlisten = history.listen(() => {\r\n            window.scrollTo(0, 0);\r\n        });\r\n        return () => {\r\n            unlisten();\r\n        }\r\n    }, []);\r\n\r\n    return <Fragment>{children}</Fragment>;\r\n}\r\n\r\nexport default withRouter(ScrollToTop);\r\n","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\Page404.js",[],"C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\Index.js",[],["376","377"],"C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\reduxActions\\types.js",[],"C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\reduxReducers\\index.js",[],"C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\microComponents\\Footer.js",[],"C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\microComponents\\MvpFooter.js",[],"C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\reduxReducers\\errorReducers.js",[],"C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\reduxReducers\\authReducers.js",[],"C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\microComponents\\ListingCard.js",["378","379","380","381","382","383","384"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styles from \"public/style/listingCard.module.css\";\r\nimport { integerToMoneyString } from \"miscFunctions\";\r\n\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            searchInput: \"\",\r\n            displayAccountModel: false,\r\n            searchSuggestions: [],\r\n            historyEvents: [],\r\n            listing: {},\r\n            isLoading: true\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            listing: this.props.listing,\r\n            isLoading: false\r\n        });\r\n    }\r\n\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n        if (this.state.isLoading === true) {\r\n            return null;\r\n        } else {\r\n\r\n            let conditionsOptionsArray = [\r\n                {\r\n                    id: 0,\r\n                    name: \"New\",\r\n                    color:\"#ff7700\"\r\n                },\r\n                {\r\n                    id: 1,\r\n                    name: \"Like new\",\r\n                    color:\"#ff7700\"\r\n                },\r\n                {\r\n                    id: 2,\r\n                    name: \"Lightly used\",\r\n                    color:\"#ff7700\"\r\n                },\r\n                {\r\n                    id: 3,\r\n                    name: \"Used\",\r\n                    color:\"#ff7700\"\r\n                },\r\n                {\r\n                    id: 4,\r\n                    name: \"Broken\",\r\n                    color:\"#ff7700\"\r\n                },\r\n                {\r\n                    id: 5,\r\n                    name: \"For parts\",\r\n                    color:\"#ff7700\"\r\n                }\r\n            ];\r\n\r\n            let avgRating;\r\n            if (this.state.listing.avgrating == 0 || this.state.listing.avgrating == null || typeof this.state.listing.avgrating == \"undefined\") {\r\n                avgRating = \"No ratings yet.\";\r\n            }else{\r\n                avgRating = [];\r\n                let rating = this.state.listing.avgrating;\r\n                let nbFullStars = Math.floor(rating);\r\n                for(let i = 0;i<nbFullStars;i++){\r\n                    avgRating.push(\r\n                        <img src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow.svg\"} />\r\n                    );\r\n                }\r\n                if(nbFullStars != rating){\r\n                    avgRating.push(\r\n                        <img src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow-half.svg\"} />\r\n                    );\r\n                }\r\n            }\r\n            return (\r\n                <div id={styles.mainContainer}>\r\n                    <Link to={\"/listing?id=\" + this.state.listing.id}>\r\n                        <div className={styles.mainDivisors}>\r\n                            <div id={styles.productPicture} style={{ backgroundImage: !this.state.listing.pictures || this.state.listing.pictures.length == 0 ? \"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/image.svg')\" : \"url('\" + this.state.listing.pictures[0] + \"')\" }}>\r\n                                {/*<p className={\"regularTextMedium \"+styles.mediumBigText}>{integerToMoneyString(this.state.listing.price)} • <span style={{color:\"grey\"}} className={\"regularText\"}>{conditionsOptionsArray[this.state.listing.condition].name}</span></p>*/}\r\n                                <div id={styles.itemStateContainer} style={{backgroundColor:conditionsOptionsArray[this.state.listing.condition].color}}><p className={\"regularText\"}>{conditionsOptionsArray[this.state.listing.condition].name}</p></div>\r\n                            </div>\r\n                        </div>\r\n                        <div className={styles.mainDivisors}>\r\n                            <div id={styles.productTextContainer}>\r\n                                <div style={{minHeight:\"90px\"}}>\r\n                                    <p className={\"regularTextMedium \"+styles.listingTitle}>{this.state.listing.title}</p>\r\n                                    <p id={styles.priceP} className={\"regularTextMedium\"}>{integerToMoneyString(this.state.listing.price)}</p>\r\n                                </div>\r\n\r\n                                <div className={styles.userInfoDivisor}>\r\n                                    <div id={styles.userPicture} style={{\r\n                                        backgroundImage: !this.state.listing.sellerprofilepicture || this.state.listing.sellerprofilepicture.length == 0 ? \"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/smiley.svg')\" : \"url('\" + this.state.listing.sellerprofilepicture + \"')\"\r\n                                    }}></div>\r\n                                    <Link to={\"/user?id=\" + this.state.listing.sellerid}>\r\n                                        <div id={styles.userTextContainer}>\r\n                                            <p className={styles.noMarginP + \" regularTextMedium\"}>@{this.state.listing.sellername}</p>\r\n                                            {/*<div><p className={styles.noMarginP + \" regularText\"} id={styles.starP} style={{ color: \"#f9f9f9\" }}>{avgRating}</p></div>*/}\r\n                                        </div>\r\n                                    </Link>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Link>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(Index);\r\n","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\microComponents\\DesktopTopNav.js",["385","386","387","388","389","390","391","392","393"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport styles from \"public/style/desktopTopNav.module.css\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { logoutUser } from \"../reduxActions/authActions\";\r\nimport Modal from \"microComponents/Modal.js\";\r\nimport LoginCard from \"microComponents/LoginCard.js\";\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            searchInput: \"\",\r\n            displayAccountModel: false,\r\n            searchSuggestions: [],\r\n            showProfileModal: false,\r\n            allowClickOutsideProfileModal: true,\r\n            isLoginModalDisplayed: false,\r\n            showSearchSuggestion: false\r\n        }\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.closeSearchInput = this.closeSearchInput.bind(this);\r\n\r\n\r\n        this.searchSuggestModalRef = React.createRef();\r\n        this.searchInputRef = React.createRef();\r\n        this.searchInputDivRef = React.createRef();\r\n        this.profileModalRef = React.createRef();\r\n    }\r\n    componentDidMount() {\r\n        if ((this.props.auth.isAuthenticated == true) && !(localStorage.getItem(\"setupVerif\") == \"true\")) {\r\n            this.props.history.push(\"/account-setup\");\r\n        }\r\n        document.onclick = (e) => {\r\n            if (this.searchInputRef.current && this.searchInputDivRef.current) {\r\n\r\n\r\n                if (this.searchSuggestModalRef.current) {\r\n                    //search suggest is active\r\n                    if (e.target !== this.searchInputRef.current && e.target !== this.searchSuggestModalRef.current && e.target.id !== styles.iconTopMobileNav && !e.target.classList.contains(styles.searchSuggestP) && e.target !== this.searchInputDivRef.current) {\r\n                        this.closeSearchInput();\r\n                    }\r\n                } else {\r\n                    if (e.target !== this.searchInputRef.current && e.target.id !== styles.iconTopMobileNav && e.target !== this.searchInputDivRef.current) {\r\n                        this.closeSearchInput();\r\n                    }\r\n                }\r\n            }\r\n            if (this.state.allowClickOutsideProfileModal === false && this.profileModalRef.current && e.target !== this.profileModalRef.current) {\r\n                this.setState({\r\n                    showProfileModal: false,\r\n                    allowClickOutsideProfileModal: true\r\n                });\r\n            }\r\n        }\r\n\r\n        document.onresize = (e) => {\r\n            if (this.searchSuggestModalRef.current) {\r\n                let leftValue = this.searchInputDivRef.current.offsetLeft;\r\n                let widthValue = this.searchInputDivRef.current.offsetWidth;\r\n                this.searchSuggestModalRef.style.left = leftValue;\r\n                this.searchSuggestModalRef.style.width = widthValue;\r\n            }\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        document.onclick = undefined;\r\n        document.onresize = undefined;\r\n    }\r\n    closeSearchInput() {\r\n        this.searchInputDivRef.current.classList.remove(styles.searchInputActive);\r\n        this.setState({\r\n            searchSuggestions: [],\r\n            showSearchSuggestion: false\r\n        });\r\n    }\r\n    handleInputChange(e) {\r\n        const { name, value } = e.target;\r\n\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n\r\n        if (name === \"searchInput\") {\r\n            if (value.length == 0) {\r\n                this.setState({\r\n                    searchSuggestions: [],\r\n                    showSearchSuggestion: false\r\n                });\r\n            } else {\r\n                axios.get(window.api_prefix+\"/searchQuerySuggest?q=\"+value).then(resp=>{\r\n                    this.setState({\r\n                        searchSuggestions: resp.data,\r\n                        showSearchSuggestion: true\r\n                    });\r\n                }).catch(err=>{\r\n                    if(err.response){\r\n                        this.setState({\r\n                            searchSuggestions: [],\r\n                            showSearchSuggestion: true\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n        let searchSuggestArray = [];\r\n        let searchSuggest;\r\n\r\n        if (this.searchInputDivRef.current && this.state.showSearchSuggestion) {\r\n            let leftValue = this.searchInputDivRef.current.offsetLeft;\r\n            let widthValue = this.searchInputDivRef.current.offsetWidth;\r\n            if ((this.state.searchSuggestions.categories.length > 0 || this.state.searchSuggestions.predefItems.length >0) && this.state.searchInput.length > 0) {\r\n                let nbCategories = this.state.searchSuggestions.categories.length;\r\n                for (let i = 0; i < this.state.searchSuggestions.predefItems.length && nbCategories+i <= 6; i++) {\r\n                    searchSuggestArray.push(\r\n                        <p onClick={()=>{this.props.history.push(\"/search?predefType=\"+this.state.searchSuggestions.predefItems[i].id); this.props.history.go();}} className={styles.searchSuggestP} key={i + \"_-1\"}>{this.state.searchSuggestions.predefItems[i].title}</p>\r\n                    );\r\n                }\r\n                for(let i = 0; i < nbCategories; i++){\r\n                    searchSuggestArray.push(\r\n                        <p onClick={()=>{this.props.history.push(\"/search?cat=\"+this.state.searchSuggestions.categories[i].id); this.props.history.go();}} className={styles.searchSuggestP} key={i + \"_-2\"}>{this.state.searchSuggestions.categories[i].name}</p>\r\n                    );\r\n                }\r\n\r\n\r\n                searchSuggest = (\r\n                    <div ref={this.searchSuggestModalRef} style={{ left: leftValue, width: widthValue }} id={styles.searchSuggestMainContainer}>\r\n                        {searchSuggestArray}\r\n                    </div>\r\n                );\r\n            } else {\r\n                searchSuggest = (\r\n                    <div ref={this.searchSuggestModalRef} style={{ left: leftValue, width: widthValue }} id={styles.searchSuggestMainContainer}>\r\n                        No results.\r\n                    </div>\r\n                );\r\n            }\r\n        }\r\n\r\n\r\n        let profileModal;\r\n        if (this.state.showProfileModal === true) {\r\n            profileModal = (\r\n                <div ref={this.profileModalRef} id={styles.profileModalMainContainer}>\r\n                    <div className={styles.arrow_example + \" \" + styles.arrow_border_example}></div>\r\n                    <div className={styles.arrow_example}></div>\r\n                    <Link to=\"/new-listing\">\r\n                        <p className={styles.profileModalText + \" regularTextMedium\"}>Create a listing</p>\r\n                    </Link>\r\n                    <Link to=\"/my-purchases\">\r\n                        <p className={styles.profileModalText + \" regularTextMedium\"}>Buying</p>\r\n                    </Link>\r\n\r\n                    <Link to=\"/my-listings\">\r\n                        <p className={styles.profileModalText + \" regularTextMedium\"}>Selling</p>\r\n                    </Link>\r\n\r\n                    <Link to=\"/account\">\r\n                        <p className={styles.profileModalText + \" regularTextMedium\"}>Edit profile</p>\r\n                    </Link>\r\n\r\n                    <Link to=\"/following\">\r\n                        <p className={styles.profileModalText + \" regularTextMedium\"}>Following</p>\r\n                    </Link>\r\n                    <p className={styles.profileModalText + \" regularTextMedium\"} onClick={this.props.logoutUser}>Logout</p>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        let profileIcon;\r\n        if (this.props.auth.isAuthenticated === true) {\r\n            profileIcon = (\r\n                <div className={styles.iconSeparator} onClick={() => {\r\n                    if (this.state.allowClickOutsideProfileModal === true) {\r\n                        this.setState({ showProfileModal: true });\r\n                        setTimeout(() => { this.setState({ allowClickOutsideProfileModal: false }); }, 100);\r\n                    } else {\r\n                        this.setState({\r\n                            showProfileModal: false,\r\n                            allowClickOutsideProfileModal: true\r\n                        });\r\n                    }\r\n\r\n                }}>\r\n                    <div className={styles.iconContainer}>\r\n                        <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/person.svg\" />\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else {\r\n            profileIcon = (\r\n                <div className={styles.iconSeparator} onClick={() => {\r\n                    this.setState({\r\n                        isLoginModalDisplayed: true\r\n                    })\r\n                }}>\r\n                    <div className={styles.iconContainer}>\r\n                        <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/person.svg\" />\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n\r\n        let homeLink = \"/\";\r\n        if (this.props.auth.isAuthenticated === true) {\r\n            homeLink = \"/home\"\r\n        }\r\n        return (\r\n            <div>\r\n                <div id={styles.desktopTopNav} >\r\n                    <div id={styles.desktopTopNavInnerContainer}>\r\n                        <Link to={homeLink}>\r\n                            <img id={styles.logoDesktopTopNav} src=\"https://staticassets2020.s3.amazonaws.com/logos/logoV1orangeTransparent.png\" />\r\n                        </Link>\r\n                        <div id={styles.searchInputDiv} ref={this.searchInputDivRef}>\r\n                            <img ref={this.searchIconRef} id={styles.iconTopMobileNav} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/search-grey.svg\" />\r\n                            <input id={styles.searchInput} ref={this.searchInputRef} value={this.state.searchInput} name=\"searchInput\" onChange={this.handleInputChange} placeholder=\"search Cambio\" className={\"regularText\"} type=\"text\"></input>\r\n                        </div>\r\n                        {searchSuggest}\r\n                        <div id={styles.desktopTopNavIconsContainer}>\r\n                            <Link to=\"/faq\">\r\n                                <div className={styles.iconSeparator}>\r\n                                    <div className={styles.textContainer}>\r\n                                        <p className=\"regularText\">FAQ</p>\r\n                                    </div>\r\n                                </div>\r\n                            </Link>\r\n                            {/* <Link to=\"/inbox\">\r\n                            <div className={styles.iconSeparator}>\r\n                                <div className={styles.iconContainer}>\r\n                                    <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/comment-discussion-grey.svg\" />\r\n                                </div>\r\n                                <div className={styles.textContainer}>\r\n                                    <p>Inbox</p>\r\n                                </div>\r\n                            </div>\r\n                        </Link> */}\r\n                            {/* <div className={styles.iconSeparator}>\r\n                    <div className={styles.iconContainer}>\r\n                        <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/tag-grey.svg\" />\r\n                    </div>\r\n                    <div className={styles.textContainer}>\r\n                        <p>Orders</p>\r\n                    </div>\r\n                </div> */}\r\n                            {/* <Link to=\"/saved\">\r\n                            <div className={styles.iconSeparator}>\r\n                                <div className={styles.iconContainer}>\r\n                                    <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/heart-grey.svg\" />\r\n                                </div>\r\n                                <div className={styles.textContainer}>\r\n                                    <p>Saved</p>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </Link> */}\r\n                            {profileIcon}\r\n                        </div>\r\n                    </div>\r\n                    {profileModal}\r\n                </div>\r\n                <Modal closeModal={() => {\r\n                    this.setState({\r\n                        isLoginModalDisplayed: false,\r\n                    })\r\n                }} show={this.state.isLoginModalDisplayed} >\r\n                    <LoginCard {...this.props} />\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nIndex.propTypes = {\r\n    logoutUser: PropTypes.func.isRequired,\r\n    auth: PropTypes.object.isRequired\r\n};\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth\r\n});\r\nexport default connect(\r\n    mapStateToProps,\r\n    { logoutUser }\r\n)(Index);","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\microComponents\\MobileBottomNav.js",["394","395","396","397","398"],"import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport styles from \"public/style/mobileBottomNav.module.css\";\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n\r\n        return (\r\n            <div id={styles.mainContainer}>\r\n                <Link to=\"/index\">\r\n                    <div className={styles.iconSeparator}>\r\n                        <div className={styles.iconContainer}>\r\n                            <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/home.svg\" />\r\n                        </div>\r\n                        <div className={styles.textContainer}>\r\n                            <p className={\"regularText\"}>Home</p>\r\n                        </div>\r\n                    </div>\r\n                </Link>\r\n\r\n                {/* <div className={styles.iconSeparator}>\r\n                    <div className={styles.iconContainer}>\r\n                        <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/comment-discussion-grey.svg\" />\r\n                    </div>\r\n                    <div className={styles.textContainer}>\r\n                        <p>Inbox</p>\r\n                    </div>\r\n                </div> */}\r\n\r\n\r\n                {/*<Link to=\"/activity\">*/}\r\n                {/*    <div className={styles.iconSeparator}>*/}\r\n                {/*        <div className={styles.iconContainer}>*/}\r\n                {/*            <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/flame.svg\" />*/}\r\n                {/*        </div>*/}\r\n                {/*        <div className={styles.textContainer}>*/}\r\n                {/*            <p className={\"regularText\"}>Activity</p>*/}\r\n                {/*        </div>*/}\r\n                {/*    </div>*/}\r\n                {/*</Link>*/}\r\n\r\n                <Link to=\"/new-listing\">\r\n                    <div className={styles.iconSeparator}>\r\n                        <div className={styles.iconContainer}>\r\n                            <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/diff-added.svg\" />\r\n                        </div>\r\n                        <div className={styles.textContainer}>\r\n                            <p className={\"regularText\"}>New listing</p>\r\n                        </div>\r\n                    </div>\r\n                </Link>\r\n\r\n\r\n                {/* <div className={styles.iconSeparator}>\r\n                    <div className={styles.iconContainer}>\r\n                        <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/tag-grey.svg\" />\r\n                    </div>\r\n                    <div className={styles.textContainer}>\r\n                        <p>Orders</p>\r\n                    </div>\r\n                </div> */}\r\n                {/* <div className={styles.iconSeparator}>\r\n                    <div className={styles.iconContainer}>\r\n                        <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/heart-grey.svg\" />\r\n                    </div>\r\n                    <div className={styles.textContainer}>\r\n                        <p>Saved</p>\r\n                    </div>\r\n                </div> */}\r\n                <Link to=\"/profile\">\r\n                    <div className={styles.iconSeparator}>\r\n                        <div className={styles.iconContainer}>\r\n                            <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/person.svg\" />\r\n                        </div>\r\n                        <div className={styles.textContainer}>\r\n                            <p className={\"regularText\"}>Account</p>\r\n                        </div>\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default Index;\r\n","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\Profile.js",["399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417"],"import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport axios from \"axios\";\r\nimport Footer from \"microComponents/Footer.js\";\r\nimport styles from \"public/style/profile.module.css\";\r\nimport DesktopTopNav from \"microComponents/DesktopTopNav.js\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\nimport queryString from \"query-string\";\r\nimport ListingCardSmallCard from \"../microComponents/ListingCardSmallCard\";\r\nimport ActivityTicker from \"microComponents/ActivityTicker\";\r\nimport BodyContainer from \"microComponents/BodyContainer\";\r\nimport {integerToMoneyString} from \"../miscFunctions\";\r\nlet conditionsOptionsArray = [\"New (sealed)\", \"Like new\", \"Lightly used\", \"Used\", \"Broken\", \"For parts\"];\r\nclass Profile extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            dataIsLoading: true,\r\n            id: \"\",\r\n            name: \"\",\r\n            reviews: [],\r\n            signupDate: new Date(),\r\n            avgRating: 1,\r\n            description: \"\",\r\n            picture: \"\",\r\n            activeListings: [],\r\n            recentPurchases: [],\r\n            errorMessage: \"\",\r\n            displayLoginPopup: false,\r\n            userIsFollowed: false,\r\n            isOwnProfile: false\r\n        }\r\n        this.followUser = this.followUser.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        let userId;\r\n        if (queryString.parse(window.location.search).id) {\r\n            userId = queryString.parse(window.location.search).id;\r\n        } else {\r\n            this.props.history.push(\"/\");\r\n        }\r\n\r\n        axios.get(window.api_prefix+\"/userReviewsReceived?id=\" + userId).then((resp) => {\r\n            this.setState({\r\n                reviews: resp.data,\r\n            })\r\n        });\r\n\r\n        axios.get(window.api_prefix+\"/userFromIdActiveListings?userId=\" + userId).then((resp) => {\r\n            this.setState({\r\n                activeListings: resp.data,\r\n            })\r\n        });\r\n\r\n        axios.get(window.api_prefix+\"/userFromIdPurchaseHistory?userId=\" + userId).then((resp) => {\r\n            console.log(resp);\r\n            this.setState({\r\n                recentPurchases: resp.data,\r\n            })\r\n        });\r\n\r\n        axios.get(window.api_prefix+\"/userProfile?id=\" + userId).then((res) => {\r\n            let info = res.data.userInfos;\r\n            this.setState({\r\n                id: userId,\r\n                userIsFollowed: res.data.followedInfo && res.data.followedInfo.length > 0 ? true : false,\r\n                dataIsLoading: false,\r\n                isOwnProfile: this.props.auth.user.id == userId,\r\n                signupDate: new Date(info.signupdate),\r\n                name: info.name,\r\n                avgRating: info.avgrating,\r\n                profilePicture: info.profilepicture ? info.profilepicture : \"\",\r\n                description: info.bio ? info.bio : \"\",\r\n            });\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                this.setState({\r\n                    dataIsLoading: false,\r\n                    errorMessage: err.response.data.message\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    followUser() {\r\n        if (this.props.auth.isAuthenticated === true) {\r\n            this.setState(prevState => ({\r\n                userIsFollowed: !prevState.userIsFollowed\r\n            }));\r\n            axios.post(window.api_prefix+\"/followUser\", { id: this.state.id }).then((resp) => {\r\n                this.setState({\r\n                    userIsFollowed: resp.data.isFollowing\r\n                });\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    this.setState(prevState => ({\r\n                        userIsFollowed: !prevState.userIsFollowed\r\n                    }));\r\n                }\r\n            });\r\n        } else {\r\n            this.setState({\r\n                displayLoginPopup: true\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n\r\n        let reviewsList = <p>No reviews yet.</p>;\r\n\r\n        if (this.state.reviews.length > 0) {\r\n            reviewsList = this.state.reviews.map((review, key) => {\r\n                let reviewRating = review.rating;\r\n                let reviewRatingStarArray;\r\n                if (reviewRating == 0 || reviewRating == null || typeof reviewRating == \"undefined\") {\r\n                    reviewRatingStarArray = \"No ratings yet.\";\r\n                }else{\r\n                    reviewRatingStarArray = [];\r\n                    let nbFullStars = Math.floor(reviewRating);\r\n                    for(let i = 0;i<nbFullStars;i++){\r\n                        reviewRatingStarArray.push(\r\n                            <img className={styles.starIcon} src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow.svg\"} />\r\n                        );\r\n                    }\r\n                    if(nbFullStars != reviewRating){\r\n                        reviewRatingStarArray.push(\r\n                            <img className={styles.starIcon} src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow-half.svg\"} />\r\n                        );\r\n                    }\r\n                }\r\n                return (\r\n                    <div key={key} className={styles.reviewCardContainer}>\r\n                        <Link to={\"/user?id=\" + review.reviewerid}>\r\n                            <div className={styles.reviewCardInnerContainer}>\r\n                                <div className={styles.profilePictureImg} style={{\r\n                                    backgroundImage: !review.profilePicture || review.profilePicture.length == 0 ? \"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/smiley.svg')\" : \"url('\" + review.profilePicture + \"')\"\r\n                                }}></div>\r\n                                < p className={\" regularText\"} > {review.name}</p>\r\n                            </div>\r\n                        </Link>\r\n                        <div className={styles.reviewCardInnerContainer}>\r\n                            <p className={styles.regularTextNoMargin + \" regularText\"}>{review.comment}</p>\r\n                        </div>\r\n                        <div className={styles.reviewCardInnerContainer}>\r\n                            <p className={styles.regularTextNoMargin + \" regularText\"}>{reviewRatingStarArray}</p>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            });\r\n        }\r\n\r\n        if (this.state.dataIsLoading === true) {\r\n            return <p>Loading...</p>\r\n        } else {\r\n            if (this.state.errorMessage.length > 0) {\r\n                return <p>{this.state.errorMessage}</p>\r\n            }\r\n\r\n            let activeListings = <p>No listings.</p>;\r\n            if (this.state.activeListings.length > 0) {\r\n                activeListings = this.state.activeListings.map((listing, key) => {\r\n                    console.log(listing);\r\n                    return (\r\n                        <ListingCardSmallCard key={key} listing={listing} />\r\n                    );\r\n                });\r\n            }\r\n\r\n            let recentPurchases = <p>No recent purchases.</p>;\r\n            if (this.state.recentPurchases.length > 0) {\r\n                recentPurchases = this.state.recentPurchases.map((listing, key) => {\r\n                    return (\r\n                        <Link key={key} to={\"/listing?id=\" + listing.id}>\r\n                            <div className={styles.listingSmallCard}>\r\n                                <div className={styles.listingPicture} style={{ backgroundImage: !listing.pictures || listing.pictures.length == 0 ? \"url('/https://staticassets2020.s3.amazonaws.com/octiconsSvg/image.svg')\" : \"url('\" + listing.pictures[0] + \"')\" }}><p className={styles.listingPrice + \" regularTextBold\"}>{integerToMoneyString(listing.price)}</p></div>\r\n                                <p className={styles.regularTextHalfMargin + \" regularTextBold\"}>{listing.title}</p>\r\n                                <p className={styles.regularTextHalfMargin + \" regularText\"}>{conditionsOptionsArray[listing.condition]}</p>\r\n                            </div>\r\n                        </Link>\r\n                    );\r\n                });\r\n            }\r\n\r\n            let profilePicture;\r\n            if (this.state.profilePicture.length > 0) {\r\n                profilePicture = <div className={styles.profilePictureImg} style={{ backgroundImage: \"url('\" + this.state.profilePicture + \"')\" }}></div>;\r\n            } else {\r\n                profilePicture = <div className={styles.profilePictureImg}><img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/smiley.svg\" /></div>\r\n            }\r\n\r\n            let followButton;\r\n            if (this.state.isOwnProfile === false && (this.props.auth.isAuthenticated == true)) {\r\n                followButton = (\r\n                    <div className={styles.followButtonMainContainer}>\r\n                        {this.state.userIsFollowed === true ? <button className={\"secondaryButton \" + styles.buttonCta} onClick={this.followUser}>Following <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/check-inactive.svg\"/></button> : <button className={\"secondaryButton \" + styles.buttonCta} onClick={this.followUser}>Follow <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/plus.svg\"/></button>}\r\n                        {/* <button className={\"buttonCta \" + styles.buttonCta}>Message</button> */}\r\n                    </div>\r\n                );\r\n            }\r\n\r\n\r\n            let avgRating = this.state.avgRating;\r\n            let sellerRatingStarArray;\r\n            if (avgRating == 0 || avgRating == null || typeof avgRating == \"undefined\") {\r\n                sellerRatingStarArray = \"No ratings yet.\";\r\n            }else{\r\n                sellerRatingStarArray = [];\r\n                let nbFullStars = Math.floor(avgRating);\r\n                for(let i = 0;i<nbFullStars;i++){\r\n                    sellerRatingStarArray.push(\r\n                        <img className={styles.starIcon} src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow.svg\"} />\r\n                    );\r\n                }\r\n                if(nbFullStars != avgRating){\r\n                    sellerRatingStarArray.push(\r\n                        <img className={styles.starIcon} src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow-half.svg\"} />\r\n                    );\r\n                }\r\n            }\r\n\r\n            return (\r\n                <div>\r\n                    <BodyContainer>\r\n                        <div className={styles.innerMainContainer}>\r\n                            <div className={styles.listingComponentsMainContainer}>\r\n                                {profilePicture}\r\n\r\n                                {followButton}\r\n                                <div id={styles.sellerTextMainContainer}>\r\n                                    <div>\r\n                                        <p className={\"title2 \" + styles.regularTextNoMargin}>@{this.state.name}</p>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p className={styles.regularTextNoMargin + \" regularText\"}>{sellerRatingStarArray}</p>\r\n                                    </div>\r\n                                </div>\r\n                                <div style={{padding:\"20px 0 0 0\", minHeight:\"100px\"}}>\r\n                                    <p className={styles.regularTextNoMargin + \" regularTextMedium\"}>Member since {new Date(this.state.signupDate).getFullYear()}</p>\r\n                                    <p className={styles.regularTextNoMargin + \" regularText\"}>{this.state.description}</p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className={styles.separatorLine}></div>\r\n                            <p className={styles.regularText + \" title2\"}>Active listings ({this.state.activeListings.length})</p>\r\n                            <div className={styles.listingCarousel}>\r\n                                {activeListings}\r\n                            </div>\r\n\r\n                            {/*<div className={styles.separatorLine}></div>*/}\r\n                            {/*<p className={styles.regularText + \" regularTextBold\"}>Recent purchases</p>*/}\r\n                            {/*<div className={styles.listingCarousel}>*/}\r\n                            {/*    {recentPurchases}*/}\r\n                            {/*</div>*/}\r\n\r\n\r\n                            <div className={styles.separatorLine}></div>\r\n                            <p className={styles.regularText + \" title2\"}>Reviews ({this.state.reviews.length})</p>\r\n                            {reviewsList}\r\n                        </div>\r\n                    </BodyContainer>\r\n                    <Footer />\r\n                    <MobileBottomNav {...this.props} />\r\n                    <DesktopTopNav key={new Date().getTime()} {...this.props} />\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nProfile.propTypes = {\r\n    auth: PropTypes.object.isRequired\r\n};\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth\r\n});\r\nexport default connect(mapStateToProps)(Profile);","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\ListingPage.js",["418","419","420","421","422","423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450","451","452","453","454","455","456","457"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Footer from \"microComponents/Footer.js\";\r\nimport styles from \"public/style/listingPage.module.css\";\r\nimport DesktopTopNav from \"microComponents/DesktopTopNav.js\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport queryString from \"query-string\";\r\n// import ActivityTicker from \"microComponents/ActivityTicker\";\r\nimport BodyContainer from \"microComponents/BodyContainer\";\r\nimport Modal from \"microComponents/Modal.js\";\r\nimport Snackbar from \"microComponents/SnackBar.js\";\r\nimport Spinner from \"microComponents/LoaderAnimation\";\r\nimport { integerToMoneyString } from \"miscFunctions\";\r\nimport LoginCard from \"../microComponents/LoginCard\";\r\n\r\n\r\nlet conditionsOptionsArray = [\r\n    {\r\n        id: 0,\r\n        name: \"New (sealed)\"\r\n    },\r\n    {\r\n        id: 1,\r\n        name: \"Like new\"\r\n    },\r\n    {\r\n        id: 2,\r\n        name: \"Lightly used\"\r\n    },\r\n    {\r\n        id: 3,\r\n        name: \"Used\"\r\n    },\r\n    {\r\n        id: 4,\r\n        name: \"Broken\"\r\n    },\r\n    {\r\n        id: 5,\r\n        name: \"For parts\"\r\n    }\r\n];\r\n\r\n\r\nclass Listing extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            dataIsLoading: true,\r\n            isDoingReservation: false,\r\n            errorMessage: \"\",\r\n            id: \"\",\r\n            title: \"\",\r\n            seller: {\r\n                name: \"\",\r\n                reviews: [],\r\n                avgRating: 0,\r\n                profilePicture: \"\"\r\n            },\r\n\r\n            status: 0,\r\n            price: 0,\r\n            description: \"\",\r\n            tags: [],\r\n            isOwnListing: false,\r\n            pictures: [],\r\n            displayLoginPopup: false,\r\n            makeOfferamount: 1,\r\n            isOfferModalDisplayed: false,\r\n            isListingFound: false,\r\n            sellerReviews: [],\r\n            filters: [],\r\n            isGuestListing:true,\r\n            condition:0,\r\n\r\n            activePictureCarousel:-1,\r\n\r\n            swipeStart:0,\r\n            swipeEnd:0,\r\n            activeDesktopImgCarousel:-1,\r\n\r\n            isAnOfferMade:false,\r\n\r\n            buyType:0 //0 = buy now, 1 = offer\r\n        }\r\n        this.makeOffer = this.makeOffer.bind(this);\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n\r\n        this.snackbarRef = React.createRef();\r\n        this.shareLinkRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        let listingId;\r\n        if (queryString.parse(window.location.search).id) {\r\n            listingId = queryString.parse(window.location.search).id;\r\n        } else {\r\n            this.props.history.push(\"/\");\r\n        }\r\n        axios.get(window.api_prefix+\"/listingDetails?id=\" + listingId).then((res) => {\r\n            let info = res.data.listingDetails;\r\n            if (info) {\r\n                this.setState({\r\n                    filters: res.data.filters,\r\n                    isListingFound: true,\r\n                    isGuestListing:info.isguestlisting,\r\n                    id: listingId,\r\n                    isOwnListing: this.props.auth.user.id == info.sellerid,\r\n                    title: info.title,\r\n                    price: info.price,\r\n                    pictures: info.pictures,\r\n                    status: info.status,\r\n                    seller: {\r\n                        id: info.sellerid,\r\n                        name: info.name,\r\n                        avgRating: info.avgrating,\r\n                        profilePicture: info.profilepicture ? info.profilepicture : \"\"\r\n                    },\r\n                    description: info.description,\r\n                    condition:info.condition,\r\n                    dataIsLoading: false,\r\n                    predefType:info.predeftype\r\n                });\r\n\r\n                axios.get(window.api_prefix+\"/userReviewsReceived?id=\" + info.sellerid).then((resp) => {\r\n                    this.setState({\r\n                        sellerReviews: resp.data\r\n                    })\r\n                });\r\n\r\n            } else {\r\n                this.props.history.push(\"/home\");\r\n            }\r\n\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                this.setState({\r\n                    dataIsLoading: false,\r\n                    errorMessage: err.response.data.message\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.onscroll = undefined;\r\n        document.onclick = undefined;\r\n    }\r\n\r\n    // handleTouchMove(e){\r\n    //     // console.log(e.changedTouches[0].clientX);\r\n    // }\r\n    // handleTouchStart(e){\r\n    //     this.setState({\r\n    //         swipeStart:e.changedTouches[0].clientX\r\n    //     });\r\n    // }\r\n    // handleTouchEnd(e){\r\n    //     this.setState({\r\n    //         swipeEnd:e.changedTouches[0].clientX\r\n    //     });\r\n    // }\r\n\r\n    makeOffer() {\r\n        if (this.props.auth.isAuthenticated === true) {\r\n            this.setState({\r\n                isOfferModalDisplayed: false,\r\n                makeOfferAmount: \"\",\r\n                isAnOfferMade:true\r\n            });\r\n            axios.post(window.api_prefix+\"/makeOffer\", { listingId: this.state.id, amount: this.state.makeOfferAmount }).then((resp) => {\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n\r\n                }\r\n            });\r\n        } else {\r\n            this.setState({\r\n                displayLoginPopup: true\r\n            });\r\n        }\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        const { name, value } = e.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n        if (this.state.dataIsLoading === true) {\r\n            return <p>Loading...</p>\r\n        }\r\n        if (this.state.errorMessage.length > 0) {\r\n            return <p>{this.state.errorMessage}</p>;\r\n        }\r\n        if (this.state.isListingFound == false) {\r\n            return <p>Listing not found</p>;\r\n        }\r\n        let smallPictures = [];\r\n        //start from second picture\r\n            for (let i = 1; i < 4 && i < this.state.pictures.length; i++) {\r\n                smallPictures.push(<div onClick={()=>{\r\n                    this.setState({\r\n                        activeDesktopImgCarousel:i\r\n                    });\r\n                }} key={i} style={{ backgroundImage: \"url('\" + this.state.pictures[i] + \"')\" }} className={styles.smallPictureImg}></div>);\r\n            }\r\n            if(this.state.pictures.length == 5){\r\n                smallPictures.push(<div onClick={()=>{\r\n                    this.setState({\r\n                        activeDesktopImgCarousel:4\r\n                    });\r\n                }} key={4} style={{ backgroundImage: \"url('\" + this.state.pictures[4] + \"')\" }} className={styles.smallPictureImg}></div>);\r\n            }else if(this.state.pictures.length > 5){\r\n                smallPictures.push(\r\n                    <div onClick={()=>{\r\n                        this.setState({\r\n                            activeDesktopImgCarousel:5\r\n                        });\r\n                    }} key={5} className={styles.smallPictureImg}>\r\n                        <p>More </p>\r\n                    </div>\r\n                );\r\n            }\r\n\r\n        let carouselDots = [];\r\n        for(let i=0;i<this.state.pictures.length;i++){\r\n            carouselDots.push(\r\n                <div className={this.state.activePictureCarousel == i?styles.carouselDot+\" \"+styles.activeCarouselDot:styles.carouselDot}></div>\r\n            );\r\n        }\r\n\r\n        let mobilePics = this.state.pictures.map((pic, key)=>{\r\n            return (\r\n                <div key={key} className={styles.mainPictureImg} style={{ backgroundImage: \"url('\" + pic + \"')\" }}></div>\r\n            );\r\n        });\r\n        let mainListingPicture;\r\n        if (this.state.pictures.length > 0) {\r\n            mainListingPicture = (\r\n                <div id={styles.mainPictureContainer}>\r\n                    <div onClick={()=>{\r\n                        this.setState({\r\n                            activeDesktopImgCarousel:0\r\n                        });\r\n                    }} className={styles.mainPictureImg} id={styles.mobileNoShow} style={{ backgroundImage: \"url('\" + this.state.pictures[0] + \"')\" }}></div>\r\n                    {mobilePics}\r\n                </div>\r\n            );\r\n        } else {\r\n            mainListingPicture = (\r\n                <div id={styles.mainPictureImg}>\r\n                    <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/image.svg\" />\r\n                </div>\r\n            );\r\n        }\r\n\r\n\r\n        let reviewsList;\r\n        if (this.state.sellerReviews.length > 0) {\r\n            reviewsList = this.state.sellerReviews.map((review, key) => {\r\n                let starsArray = [];\r\n                let nbFullStars = Math.floor(review.rating);\r\n                for(let i = 0;i<nbFullStars;i++){\r\n                    starsArray.push(\r\n                        <img src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow.svg\"} />\r\n                    );\r\n                }\r\n                if(nbFullStars != review.rating){\r\n                    starsArray.push(\r\n                        <img src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow-half.svg\"} />\r\n                    );\r\n                }\r\n                return (\r\n                    <div key={key} className={styles.reviewCardContainer}>\r\n                        <Link to={\"/user?id=\" + review.reviewerid}>\r\n                            <div className={styles.reviewCardInnerContainer}>\r\n                                <div className={styles.profilePictureImg} style={{\r\n                                    backgroundImage: !review.profilepicture || review.profilepicture.length == 0 ? \"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/smiley.svg')\" : \"url('\" + review.profilepicture + \"')\"\r\n                                }}></div>\r\n                                < p className={\" regularText\"} >@{review.name}</p>\r\n                            </div>\r\n                        </Link>\r\n                        <div className={styles.reviewCardInnerContainer}>\r\n                            <p className={styles.regularTextNoMargin + \" regularText\"}>{review.comment}</p>\r\n                        </div>\r\n                        <div className={styles.reviewCardInnerContainer}>\r\n                            {/* <p className={styles.regularTextNoMargin + \" regularText\"}>{review.rating} stars</p> */}\r\n                            <p className={styles.regularTextNoMargin + \" regularText \"+styles.starP}>{starsArray}</p>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            });\r\n        } else {\r\n            reviewsList = <p>No reviews yet.</p>\r\n        }\r\n\r\n        let sellerProfilePicture;\r\n        if (this.state.seller.profilePicture.length > 0) {\r\n            sellerProfilePicture = (\r\n                sellerProfilePicture = <div className={styles.profilePictureImg} style={{ backgroundImage: \"url('\" + this.state.seller.profilePicture + \"')\" }}></div>\r\n            );\r\n        } else {\r\n            sellerProfilePicture = <div className={styles.profilePictureImg}><img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/smiley.svg\" /></div>\r\n        }\r\n\r\n        let actionButtons;\r\n        let actionButtonsArray = [];\r\n        if(this.state.isGuestListing == false){\r\n            actionButtonsArray.push(\r\n                <button className={\"secondaryButton \" + styles.floatingButtonCta} id={styles.floatingButtonRight} onClick={() => {\r\n                    this.props.history.push(\"/pay?listingId=\"+this.state.id);\r\n                }}>Buy now</button>\r\n            );\r\n            actionButtonsArray.push(\r\n                <button className={\"secondaryButton \" + styles.floatingButtonCta} id={styles.floatingButtonLeft} onClick={() => { this.setState({ isOfferModalDisplayed: true }) }}>Make offer</button>\r\n            );\r\n        }else{\r\n            actionButtonsArray.push(\r\n                <button className={\"secondaryButton \" + styles.floatingButtonFullWidth} onClick={() => { this.setState({ isOfferModalDisplayed: true }) }}>Make offer</button>\r\n            );\r\n        }\r\n        if (this.state.isOwnListing === false && this.state.status != 1 && this.state.status != 2) {\r\n            actionButtons = (\r\n                <div className={styles.listingComponentsMainContainer}>\r\n                    {actionButtonsArray}\r\n                </div>\r\n            );\r\n        }\r\n        let listingUrl = \"https://joincambio.com/listing?id=\" + this.state.id;\r\n        let twitterShareLink = \"https://twitter.com/share?url=\" + listingUrl + \"&text=\" + this.state.title + \"... \" + this.state.description;\r\n        let fbShareLink = \"https://www.facebook.com/sharer/sharer.php?u=\" + listingUrl;\r\n\r\n\r\n        let bigImgsDesktopCarousel = [];\r\n        let carouselArrows = [];\r\n        if(this.state.activeDesktopImgCarousel != -1){\r\n            if(this.state.activeDesktopImgCarousel != 0){\r\n                //past element\r\n                bigImgsDesktopCarousel.push(\r\n                    <div id={styles.carouselLeftPic} style={{backgroundImage:\"url(\"+this.state.pictures[this.state.activeDesktopImgCarousel - 1]+\")\"}}></div>\r\n                );\r\n                carouselArrows.push(\r\n                    <div id={styles.carouselArrowLeft} onClick={()=>{this.setState(prev=>({activeDesktopImgCarousel:prev.activeDesktopImgCarousel-1}))}} style={{backgroundImage:\"url(https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-left.svg)\"}}></div>\r\n                );\r\n            }\r\n\r\n            //current element\r\n            bigImgsDesktopCarousel.push(\r\n                <div id={styles.carouselMiddlePic} style={{backgroundImage:\"url(\"+this.state.pictures[this.state.activeDesktopImgCarousel]+\")\"}}></div>\r\n            );\r\n\r\n            //future element\r\n            if(this.state.activeDesktopImgCarousel != this.state.pictures.length-1){\r\n                bigImgsDesktopCarousel.push(\r\n                    <div id={styles.carouselRightPic} style={{backgroundImage:\"url(\"+this.state.pictures[this.state.activeDesktopImgCarousel + 1]+\")\"}}></div>\r\n                );\r\n                carouselArrows.push(\r\n                    <div id={styles.carouselArrowRight} onClick={()=>{this.setState(prev=>({activeDesktopImgCarousel:prev.activeDesktopImgCarousel+1}))}} style={{backgroundImage:\"url(https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-right.svg)\"}}></div>\r\n                );\r\n            }\r\n        }\r\n\r\n        let avgRating = this.state.seller.avgRating;\r\n        let sellerRatingStarArray;\r\n        if (avgRating == 0 || avgRating == null || typeof avgRating == \"undefined\") {\r\n            sellerRatingStarArray = \"No ratings yet.\";\r\n        }else{\r\n            sellerRatingStarArray = [];\r\n            let nbFullStars = Math.floor(avgRating);\r\n            for(let i = 0;i<nbFullStars;i++){\r\n               sellerRatingStarArray.push(\r\n                    <img src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow.svg\"} />\r\n                );\r\n            }\r\n            if(nbFullStars != avgRating){\r\n                sellerRatingStarArray.push(\r\n                    <img src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow-half.svg\"} />\r\n                );\r\n            }\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <BodyContainer>\r\n\r\n\r\n                    <div id={styles.desktopLeftSide}>\r\n                        <div id={styles.topMainContainer}>\r\n                            <div className={styles.listingComponentsMainContainer}>\r\n                                <p className={\"megaTitle \" + styles.regularTextHalfMargin}><Link to={\"/search?predefType=\"+this.state.predefType} style={{color:\"black\", textDecoration:\"underline\"}}>{this.state.title}</Link></p>\r\n                                <p className={\"title1 \" + styles.regularTextHalfMargin}>{integerToMoneyString(this.state.price)}</p>\r\n                                <p className={\"regularText \" + styles.regularTextHalfMargin} style={{color: \"grey\"}}>{conditionsOptionsArray[this.state.condition].name}</p>\r\n                                <p className={styles.regularText + \" regularText\"}>{this.state.description.length>0 ? this.state.description.length : \"No defects, problems, or missing parts.\" }</p>\r\n                                <Link to={\"/user?id=\" + this.state.seller.id} style={{ color: \"#000\", textDecoration: \"none\" }}>\r\n                                    {sellerProfilePicture}\r\n                                    <div id={styles.sellerTextMainContainer}>\r\n                                        <div>\r\n                                            <p className={styles.regularTextNoMargin + \" regularTextMedium\"}>@{this.state.seller.name}</p>\r\n                                        </div>\r\n                                        <div>\r\n                                            {/* <p className={styles.regularTextNoMargin + \" regularText\"}>{this.state.seller.avgRating} stars ({this.state.sellerReviews.length})</p> */}\r\n                                            <p className={styles.regularTextNoMargin + \" regularText \"+styles.starPSmall}>{sellerRatingStarArray}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </Link>\r\n                            </div>\r\n                            <div className={styles.innerMainContainer}>\r\n                                {mainListingPicture}\r\n                                <div className={styles.smallPicturesContainer}>\r\n                                    {smallPictures}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        <div className={styles.mainFeedContainers}>\r\n                            <div className={styles.innerMainContainer+\" \"+styles.sidePadding}>\r\n                                {actionButtons}\r\n                                <div id={styles.shareIconsBar}>\r\n                                    <a href={twitterShareLink} target=\"_blank\">\r\n                                        <img className={styles.shareIcons} src=\"https://staticassets2020.s3.amazonaws.com/icons/twitter-black.svg\" />\r\n                                    </a>\r\n                                    <a href={fbShareLink} target=\"_blank\">\r\n                                        <img className={styles.shareIcons} src=\"https://staticassets2020.s3.amazonaws.com/icons/fb-black.svg\" />\r\n                                    </a>\r\n                                    <img onClick={() => {\r\n                                        var copyText = this.shareLinkRef.current;\r\n\r\n                                        /* Select the text field */\r\n                                        copyText.select();\r\n                                        copyText.setSelectionRange(0, 99999); /* For mobile devices */\r\n\r\n                                        /* Copy the text inside the text field */\r\n                                        document.execCommand(\"copy\");\r\n\r\n\r\n                                        this.snackbarRef.current.openSnackBar('Listing link copied!');\r\n                                    }} src=\"https://staticassets2020.s3.amazonaws.com/icons/link-darkGrey.svg\" />\r\n                                    <input style={{ position:\"absolute\", left:\"-100%\", opacity:0, pointerEvents:\"none\" }} aria-hidden={true} readOnly ref={this.shareLinkRef} type=\"text\" value={listingUrl} />\r\n                                </div>\r\n\r\n\r\n                                <p className={styles.regularText + \" title2\"}>Seller reviews</p>\r\n                                {reviewsList}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div id={styles.desktopRightSide}>\r\n                        <div id={styles.paymentSidebarContainer}>\r\n                            {\r\n                                this.state.isGuestListing == true ?\r\n                                    <p className={\"regularTextMedium \"+styles.regularText}>Make an offer</p>\r\n                                    :\r\n                                    <div id={styles.buyTypeSelectorContainer}>\r\n                                        <div>\r\n                                            <div style={{margin:\"0 10px 0 0\"}} id={this.state.buyType == 0? styles.selectedBuyType: styles.unselectedBuyType} onClick={()=>{this.setState({buyType:0})}}>\r\n                                                <p className={\"regularText \"+styles.regularTextNoMargin}>Buy now</p>\r\n                                            </div>\r\n                                            <div id={this.state.buyType == 0? styles.unselectedBuyType: styles.selectedBuyType} onClick={()=>{this.setState({buyType:1})}}>\r\n                                                <p className={\"regularText \"+styles.regularTextNoMargin}>Make offer</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                            }\r\n                            {\r\n                                this.state.buyType == 0 && this.state.isGuestListing == false?\r\n                                    <div>\r\n                                        <p className={\"regularText \"+styles.regularText}>Item price: <span className={\"regularTextMedium\"} style={{float:\"right\"}}>{integerToMoneyString(this.state.price)}</span></p>\r\n                                        <p className={\"regularText \"+styles.regularText}>Shipping: <span className={\"regularTextMedium\"} style={{float:\"right\"}}>FREE</span></p>\r\n                                        <p className={\"regularText \"+styles.regularText}>Taxes: <span className={\"regularTextMedium\"} style={{float:\"right\"}}>{integerToMoneyString(this.state.price *0.15)}</span></p>\r\n                                        <p className={\"regularText \"+styles.regularText}>Total: <span className={\"regularTextMedium\"} style={{float:\"right\"}}>{integerToMoneyString(this.state.price*1.15)}</span></p>\r\n                                        <button className={\"buttonCta regularTextMedium\"} onClick={() => {\r\n                                            this.props.history.push(\"/pay?listingId=\"+this.state.id);\r\n                                        }}>Proceed to checkout</button>\r\n                                    </div>\r\n                                    :\r\n                                    this.state.isAnOfferMade == false?\r\n                                        <div>\r\n                                        <p className={\"regularText \"+styles.regularText}>Make an offer for this item. While the seller accepts your offer, the item can still be purchased by someone else.</p>\r\n                                        <input name=\"makeOfferAmount\" style={{margin:\"0 0 20px 0\"}} className={\"inputText \" + styles.inputText + \" regularText\"} value={this.state.makeOfferAmount} onChange={this.handleInputChange} type=\"number\" min=\"1\" step=\"0.01\" placeholder=\"Offer\" />\r\n                                        <button className={\"buttonCta regularTextMedium\"} onClick={this.makeOffer}>Send offer</button>\r\n                                        </div>\r\n                                    :\r\n                                        <div>\r\n                                        <p className={\"regularText \"+styles.regularText}>Thank you for making an offer. You will be able to view the offer in your buyer dashboard only when and if the seller accepts your offer.</p>\r\n                                        </div>\r\n\r\n                            }\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                    <div id={styles.topMainContainer} className={styles.hideDesktop}>\r\n                        <div className={styles.innerMainContainer}>\r\n                            {mainListingPicture}\r\n                            <div className={styles.smallPicturesContainer}>\r\n                                {smallPictures}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                    <div className={styles.mainFeedContainers +\" \"+styles.hideDesktop}>\r\n                        <div className={styles.innerMainContainer+\" \"+styles.sidePadding}>\r\n                            <div className={styles.listingComponentsMainContainer}>\r\n                                <p className={\"title1 \" + styles.regularText}><Link to={\"/search?predefType=\"+this.state.predefType} style={{color:\"black\", textDecoration:\"underline\"}}>{this.state.title}</Link></p>\r\n                                <p className={\"title2 \" + styles.regularText}>{integerToMoneyString(this.state.price)}</p>\r\n                                <p className={\"regularText \" + styles.regularText} style={{color: \"grey\"}}>{conditionsOptionsArray[this.state.condition].name}</p>\r\n                            </div>\r\n\r\n\r\n                            <div className={styles.listingComponentsMainContainer}>\r\n                                <Link to={\"/user?id=\" + this.state.seller.id} style={{ color: \"#000\", textDecoration: \"none\" }}>\r\n                                {sellerProfilePicture}\r\n                                <div id={styles.sellerTextMainContainer}>\r\n                                    <div>\r\n                                        <p className={styles.regularTextNoMargin + \" regularTextMedium\"}>@{this.state.seller.name}</p>\r\n                                    </div>\r\n                                    <div>\r\n                                        {/* <p className={styles.regularTextNoMargin + \" regularText\"}>{this.state.seller.avgRating} stars ({this.state.sellerReviews.length})</p> */}\r\n                                        <p className={styles.regularTextNoMargin + \" regularText \"+styles.starPSmall}>{sellerRatingStarArray}</p>\r\n                                    </div>\r\n                                </div>\r\n                                </Link>\r\n                            </div>\r\n                            {actionButtons}\r\n                            <div className={styles.listingComponentsMainContainer}>\r\n                                <p className={styles.regularTextNoMargin + \" regularText\"} style={{ minHeight: \"100px\" }}>{this.state.description.length>0 ? this.state.description.length : \"No defects, problems, or missing parts.\" }</p>\r\n                            </div>\r\n\r\n                            <div className={styles.separatorLine}></div>\r\n\r\n                            <div id={styles.shareIconsBar}>\r\n                                <a href={twitterShareLink} target=\"_blank\">\r\n                                    <img className={styles.shareIcons} src=\"https://staticassets2020.s3.amazonaws.com/icons/twitter-black.svg\" />\r\n                                </a>\r\n                                <a href={fbShareLink} target=\"_blank\">\r\n                                    <img className={styles.shareIcons} src=\"https://staticassets2020.s3.amazonaws.com/icons/fb-black.svg\" />\r\n                                </a>\r\n                                <img onClick={() => {\r\n                                    var copyText = this.shareLinkRef.current;\r\n\r\n                                    /* Select the text field */\r\n                                    copyText.select();\r\n                                    copyText.setSelectionRange(0, 99999); /* For mobile devices */\r\n\r\n                                    /* Copy the text inside the text field */\r\n                                    document.execCommand(\"copy\");\r\n\r\n\r\n                                    this.snackbarRef.current.openSnackBar('Listing link copied!');\r\n                                }} src=\"https://staticassets2020.s3.amazonaws.com/icons/link-darkGrey.svg\" />\r\n                                <input style={{ position:\"absolute\", left:\"-100%\", opacity:0, pointerEvents:\"none\" }} aria-hidden={true} readOnly ref={this.shareLinkRef} type=\"text\" value={listingUrl} />\r\n                            </div>\r\n\r\n\r\n                            <div className={styles.separatorLine}></div>\r\n                            <p className={styles.regularText + \" title2\"}>Seller reviews</p>\r\n                            {reviewsList}\r\n\r\n                        </div>\r\n                    </div>\r\n                </BodyContainer>\r\n                <Footer />\r\n                <MobileBottomNav {...this.props} />\r\n                <DesktopTopNav key={new Date().getTime()} {...this.props} />\r\n                {/*<ActivityTicker />*/}\r\n\r\n                <Modal title=\"Make offer\" closeModal={() => {\r\n                    this.setState({\r\n                        isOfferModalDisplayed: false,\r\n                        makeOfferamount: 1\r\n                    })\r\n                }} show={this.state.isOfferModalDisplayed} description=\"Offer a certain amount for this product. If accepted by the seller, you will have 4 days to pay the item before your offer expires. It can still be purchased by someone else in the meantime.\">\r\n                    <input name=\"makeOfferAmount\" className={\"inputText \" + styles.inputText + \" regularText\"} value={this.state.makeOfferAmount} onChange={this.handleInputChange} type=\"number\" min=\"1\" step=\"0.01\" placeholder=\"Offer\" />\r\n                    <div className=\"modalSubmitButtonDiv\">\r\n                        <button className=\"modalSubmitButton regularTextMedium buttonCta\" onClick={this.makeOffer}>Submit</button>\r\n                    </div>\r\n                </Modal>\r\n\r\n\r\n\r\n\r\n                <div id={styles.bigImgDesktopCarouselContainer} className={this.state.activeDesktopImgCarousel == -1 ? styles.desktopCarouselIsInactive : null}>\r\n                    {bigImgsDesktopCarousel}\r\n                    {carouselArrows}\r\n                    <div onClick={()=>{this.setState({activeDesktopImgCarousel:-1})}} style={{backgroundImage:\"url(https://staticassets2020.s3.amazonaws.com/octiconsSvg/x.svg)\"}} id={styles.carouselX}>\r\n\r\n                    </div>\r\n                </div>\r\n\r\n\r\n\r\n                {\r\n                    this.state.isDoingReservation == true ?\r\n                        <Spinner />\r\n                        :\r\n                        null\r\n                }\r\n                <Modal closeModal={() => {\r\n                    this.setState({\r\n                        displayLoginPopup: false,\r\n                    })\r\n                }} show={this.state.displayLoginPopup} >\r\n                    <LoginCard {...this.props} />\r\n                </Modal>\r\n                <Snackbar ref={this.snackbarRef} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nListing.propTypes = {\r\n    auth: PropTypes.object.isRequired\r\n};\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth\r\n});\r\nexport default connect(mapStateToProps)(Listing);","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\microComponents\\ActivityTicker.js",["458","459"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport styles from \"public/style/activityTicker.module.css\";\r\nclass Tickers extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            historyEvents: [],\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            historyEventsy: [\r\n                {\r\n                    username: \"John Doe\",\r\n                    type: \"RECEIVED\",\r\n                    categoryName: \"iPhone X\",\r\n                    price: 329\r\n                },\r\n                {\r\n                    username: \"Ginna12e\",\r\n                    type: \"PURCHASED\",\r\n                    categoryName: \"MakerBot 3D Printer\",\r\n                    price: 1008\r\n                },\r\n                {\r\n                    username: \"John Doe\",\r\n                    type: \"RECEIVED\",\r\n                    categoryName: \"iPhone X\",\r\n                    price: 329\r\n                },\r\n                {\r\n                    username: \"Ginna12e\",\r\n                    type: \"PURCHASED\",\r\n                    categoryName: \"MakerBot 3D Printer\",\r\n                    price: 1008\r\n                },\r\n                {\r\n                    username: \"John Doe\",\r\n                    type: \"RECEIVED\",\r\n                    categoryName: \"iPhone X\",\r\n                    price: 329\r\n                },\r\n                {\r\n                    username: \"Ginna12e\",\r\n                    type: \"PURCHASED\",\r\n                    categoryName: \"MakerBot 3D Printer\",\r\n                    price: 1008\r\n                },\r\n                {\r\n                    username: \"John Doe\",\r\n                    type: \"RECEIVED\",\r\n                    categoryName: \"iPhone X\",\r\n                    price: 329\r\n                },\r\n                {\r\n                    username: \"Ginna12e\",\r\n                    type: \"PURCHASED\",\r\n                    categoryName: \"MakerBot 3D Printer\",\r\n                    price: 1008\r\n                }\r\n            ],\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n\r\n        let historyEvents;\r\n        if (this.state.historyEvents.length > 0) {\r\n            historyEvents = this.state.historyEvents.map((event, key) => {\r\n                let sentence;\r\n                if (event.type === \"RECEIVED\") {\r\n                    return null;\r\n                    sentence = <p className={styles.regularTextNoMargin + \" regularText\"}><span className={\"regularTextMedium\"}>{event.username}</span> just received <span className={\"regularTextMedium\"}>{event.categoryName}</span></p>;\r\n                } else {\r\n                    sentence = <p className={styles.regularTextNoMargin + \" regularText\"}><span className={\"regularTextMedium\"}>{event.username}</span> just bought <span className={\"regularTextMedium\"}>{event.categoryName}</span> for <span className={\"regularTextMedium\"}>{event.price}</span></p>;\r\n                }\r\n                return (\r\n                    <div className={styles.historyEventCard} key={key}>\r\n                        {sentence}\r\n                    </div>\r\n                );\r\n            });\r\n        } else {\r\n            historyEvents = <p className={\"regularText \" + styles.regularText + \" \" + styles.divTitleP}>No items for you yet.</p>\r\n        }\r\n\r\n\r\n        return (\r\n            <div id={styles.historyTabMainContainer}>\r\n                <p className={styles.divTitleP + \" regularTextBold\"}>Similar items for you</p>\r\n                {historyEvents}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(Tickers);\r\n","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\Saved.js",["460","461","462"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Footer from \"microComponents/Footer.js\";\r\nimport styles from \"public/style/saved.module.css\";\r\nimport DesktopTopNav from \"microComponents/DesktopTopNav.js\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\nimport ListingCard from \"microComponents/ListingCardSmallCard.js\";\r\nclass Saved extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            savedListings: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            savedListings: [\r\n                {\r\n                    title: \"iPhone 8 64GB - black\",\r\n                    condition: \"Like new\",\r\n                    price: 330,\r\n                    seller: {\r\n                        username: \"John Doe\",\r\n                        rating: 3.5,\r\n                        nbRatings: 7\r\n                    }\r\n                },\r\n                {\r\n                    title: \"iPhone 8 64GB - black\",\r\n                    condition: \"Like new\",\r\n                    price: 330,\r\n                    seller: {\r\n                        username: \"John Doe\",\r\n                        rating: 3.5,\r\n                        nbRatings: 7\r\n                    }\r\n                },\r\n                {\r\n                    title: \"iPhone 8 64GB - black\",\r\n                    condition: \"Like new\",\r\n                    price: 330,\r\n                    seller: {\r\n                        username: \"John Doe\",\r\n                        rating: 3.5,\r\n                        nbRatings: 7\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n\r\n\r\n        let savedListings = <p>No listings.</p>\r\n        if (this.state.savedListings.length > 0) {\r\n            savedListings = this.state.savedListings.map((listing, key) => {\r\n                return (\r\n                    <ListingCard key={key} listing={listing} />\r\n                );\r\n            });\r\n        }\r\n\r\n\r\n        return (\r\n            <div>\r\n\r\n\r\n\r\n\r\n                <div id={styles.topMainContainer}>\r\n                    <div className={styles.innerMainContainer}>\r\n                        <p ref={this.savedListingsRef} className={styles.sectionTitleP + \" title1 \"}>Saved listings</p>\r\n                        {savedListings}\r\n                    </div>\r\n                </div>\r\n\r\n                <Footer />\r\n                <MobileBottomNav {...this.props} />\r\n                <DesktopTopNav key={new Date().getTime()} {...this.props} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(Saved);\r\n","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\microComponents\\ListingCardSmallCard.js",["463","464","465","466","467","468"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styles from \"public/style/listingCardSmallCard.module.css\";\r\nimport { integerToMoneyString } from \"miscFunctions\";\r\n\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            searchInput: \"\",\r\n            displayAccountModel: false,\r\n            searchSuggestions: [],\r\n            historyEvents: [],\r\n            listing: {},\r\n            isLoading: true\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            listing: this.props.listing,\r\n            isLoading: false\r\n        });\r\n    }\r\n\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n        if (this.state.isLoading === true) {\r\n            return null;\r\n        } else {\r\n\r\n            let conditionsOptionsArray = [\r\n                {\r\n                    id: 0,\r\n                    name: \"New\"\r\n                },\r\n                {\r\n                    id: 1,\r\n                    name: \"Like new\"\r\n                },\r\n                {\r\n                    id: 2,\r\n                    name: \"Lightly used\"\r\n                },\r\n                {\r\n                    id: 3,\r\n                    name: \"Used\"\r\n                },\r\n                {\r\n                    id: 4,\r\n                    name: \"Broken\"\r\n                },\r\n                {\r\n                    id: 5,\r\n                    name: \"For parts\"\r\n                }\r\n            ];\r\n\r\n            let avgRating;\r\n            if (this.state.listing.avgrating == 0 || this.state.listing.avgrating == null || typeof this.state.listing.avgrating == \"undefined\") {\r\n                avgRating = \"No ratings yet.\";\r\n            }else{\r\n                avgRating = [];\r\n                let rating = this.state.listing.avgrating;\r\n                let nbFullStars = Math.floor(rating);\r\n                for(let i = 0;i<nbFullStars;i++){\r\n                    avgRating.push(\r\n                        <img src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow.svg\"} />\r\n                    );\r\n                }\r\n                if(nbFullStars != rating){\r\n                    avgRating.push(\r\n                        <img src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow-half.svg\"} />\r\n                    );\r\n                }\r\n            }\r\n\r\n            return (\r\n                <div id={styles.mainContainer}>\r\n                    <Link to={\"/listing?id=\" + this.state.listing.id}>\r\n                        <div className={styles.mainDivisors}>\r\n\r\n                            <div id={styles.productPicture} style={{ backgroundImage: !this.state.listing.pictures || this.state.listing.pictures.length == 0 ? \"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/image.svg')\" : \"url('\" + this.state.listing.pictures[0] + \"')\" }}>\r\n                                <div id={styles.itemStateContainer}><p className={\"regularText\"}>{conditionsOptionsArray[this.state.listing.condition].name}</p></div>\r\n                            </div>\r\n                        </div>\r\n                        <div className={styles.mainDivisors}>\r\n                            <div id={styles.productTextContainer}>\r\n                                <p className={\"regularTextMedium\"}>{this.state.listing.title}</p>\r\n                                <p className={\"regularTextMedium \"}>{integerToMoneyString(this.state.listing.price)}</p>\r\n                            </div>\r\n                            {/*<div className={styles.userInfoDivisor}>*/}\r\n                            {/*    <div id={styles.userPicture} style={{*/}\r\n                            {/*        backgroundImage: !this.state.listing.sellerprofilepicture || this.state.listing.sellerprofilepicture.length == 0 ? \"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/smiley.svg')\" : \"url('\" + this.state.listing.sellerprofilepicture + \"')\"*/}\r\n                            {/*    }}></div>*/}\r\n                            {/*    <Link to={\"/user?id=\" + this.state.listing.sellerid}>*/}\r\n                            {/*        <div id={styles.userTextContainer}>*/}\r\n                            {/*            <p className={styles.noMarginP + \" regularTextMedium\"}>@{this.state.listing.sellername}</p>*/}\r\n                            {/*            <div><p className={styles.noMarginP + \" regularText\"} id={styles.starP} style={{ color: \"#f9f9f9\" }}>{avgRating}</p></div>*/}\r\n                            {/*        </div>*/}\r\n                            {/*    </Link>*/}\r\n                            {/*</div>*/}\r\n                        </div>\r\n                    </Link>\r\n                </ div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(Index);\r\n","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\orderHistory.js",["469","470","471","472","473","474","475","476","477","478","479","480","481","482","483","484","485","486","487","488","489","490"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Footer from \"microComponents/Footer.js\";\r\nimport styles from \"public/style/saved.module.css\";\r\nimport DesktopTopNav from \"microComponents/DesktopTopNav.js\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\nimport SpecialCard from \"microComponents/SpecialListingCard.js\";\r\nimport BodyContainer from \"microComponents/BodyContainer\";\r\nimport Body from \"microComponents/BodyContainer\";\r\nimport Modal from \"microComponents/Modal.js\";\r\nimport ReviewsCard from \"microComponents/ReviewsCard.js\";\r\nimport Spinner from \"microComponents/LoaderAnimation\";\r\nimport Snackbar from \"microComponents/SnackBar.js\";\r\nimport { integerToMoneyString } from \"miscFunctions\";\r\nclass Saved extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            activeOffers: [],\r\n            pastPurchases: [],\r\n            waitingPurchases: [],\r\n            isCounterOfferModalDisplayed: false,\r\n            counterOfferId: -1,\r\n            counterOfferArrayIndex: -1,\r\n            counterOfferValue: 1,\r\n            reviewsListingIndex: -1,\r\n            isReviewsModalDisplayed: false,\r\n            isDoingReservation: false,\r\n            currentPage: 0,\r\n\r\n            mobileMoreOptionsActiveOffers:-1,\r\n            mobileMoreOptionsPurchaseHistory:-1,\r\n            mobileMoreOptionsAwaitingPayments:-1\r\n        }\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.submitCounterOffer = this.submitCounterOffer.bind(this);\r\n\r\n        this.snackbarRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        axios.get(window.api_prefix+\"/listingsAwaitingYourPayment\").then(resp => {\r\n            this.setState({\r\n                waitingPurchases: resp.data\r\n            });\r\n        }).catch();\r\n\r\n        axios.get(window.api_prefix+\"/purchaseHistory\").then(resp => {\r\n            this.setState({\r\n                pastPurchases: resp.data\r\n            });\r\n        }).catch();\r\n\r\n        axios.get(window.api_prefix+\"/offers\").then(resp => {\r\n            this.setState({\r\n                activeOffers: resp.data\r\n            });\r\n        }).catch();\r\n    }\r\n\r\n    acceptOffer(arrayIndex) {\r\n        let currentActiveOffers = this.state.activeOffers;\r\n        let currentWaitingPurchases = this.state.waitingPurchases;\r\n        let offerId = currentActiveOffers[arrayIndex].id;\r\n        let acceptedOffer = currentActiveOffers[arrayIndex];\r\n        acceptedOffer.id = acceptedOffer.listingid;\r\n        currentWaitingPurchases.push(acceptedOffer);\r\n        currentActiveOffers.splice(arrayIndex, 1);\r\n        this.setState({\r\n            activeOffers: currentActiveOffers,\r\n            waitingPurchases: currentWaitingPurchases,\r\n            mobileMoreOptionsActiveOffers:-1,\r\n            mobileMoreOptionsPurchaseHistory:-1,\r\n            mobileMoreOptionsAwaitingPayments:-1\r\n        });\r\n        axios.post(window.api_prefix+\"/acceptOffer\", { offerId: offerId }).then().catch();\r\n    }\r\n    counterOffer(arrayIndex) {\r\n        let currentActiveOffers = this.state.activeOffers;\r\n        let offerId = currentActiveOffers[arrayIndex].id;\r\n        this.setState({\r\n            counterOfferArrayIndex: arrayIndex,\r\n            counterOfferId: offerId,\r\n            isCounterOfferModalDisplayed: true,\r\n            mobileMoreOptionsActiveOffers:-1,\r\n            mobileMoreOptionsPurchaseHistory:-1,\r\n            mobileMoreOptionsAwaitingPayments:-1\r\n        });\r\n    }\r\n    declineOffer(arrayIndex) {\r\n        let currentActiveOffers = this.state.activeOffers;\r\n        let offerId = currentActiveOffers[arrayIndex].id;\r\n        currentActiveOffers.splice(arrayIndex, 1);\r\n        this.setState({\r\n            activeOffers: currentActiveOffers,\r\n            mobileMoreOptionsActiveOffers:-1,\r\n            mobileMoreOptionsPurchaseHistory:-1,\r\n            mobileMoreOptionsAwaitingPayments:-1\r\n        });\r\n        axios.post(window.api_prefix+\"/declineOffer\", { offerId: offerId }).then().catch();\r\n    }\r\n    submitCounterOffer() {\r\n        let currentActiveOffers = this.state.activeOffers;\r\n        currentActiveOffers.splice(this.state.counterOfferArrayIndex, 1);\r\n        this.setState({\r\n            activeOffers: currentActiveOffers,\r\n            counterOfferId: -1,\r\n            counterOfferArrayIndex: -1,\r\n            counterOfferValue: 1,\r\n            isCounterOfferModalDisplayed: false\r\n        });\r\n        axios.post(window.api_prefix+\"/submitCounterOffer\", { offerId: this.state.counterOfferId, offerValue: this.state.counterOfferValue }).then().catch();\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        const { value, name } = e.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n        let currentPage;\r\n        if (this.state.currentPage == 0) {\r\n            //payments awaiting\r\n            let waitingPurchases = <p className={styles.regularTextNoMargin + \" regularText\"}>No purchases waiting for payment.</p>;\r\n            let mobileWaitingPurchases = <p className={styles.regularTextNoMargin + \" regularText\"}>No purchases waiting for payment.</p>\r\n            if (this.state.waitingPurchases.length > 0) {\r\n                mobileWaitingPurchases = [];\r\n                waitingPurchases = this.state.waitingPurchases.map((listing, key) => {\r\n\r\n\r\n\r\n                    let fullDate = new Date(listing.timestamp);\r\n                    fullDate.setDate(fullDate.getDate() + 4);\r\n                    let months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n                    let limitDate = months[fullDate.getMonth()] + \" \" + fullDate.getDate();\r\n\r\n                    mobileWaitingPurchases.push(\r\n                        <div className={styles.mobileCardSellingBuying}>\r\n                            <div className={styles.mobileCardSellingBuyingLeftContainer}>\r\n                                <p className={styles.regularTextHalfMargin+\" regularTextMedium\"}>{listing.title}</p>\r\n                                <p className={styles.regularTextHalfMargin+\" regularText\"}>{integerToMoneyString(listing.amount)}</p>\r\n                            </div>\r\n                            <div className={styles.mobileCardSellingBuyingRightContainer}>\r\n                                <div className={styles.kebabContainer} onClick={()=>{\r\n                                    this.setState({\r\n                                        mobileMoreOptionsActiveOffers:-1,\r\n                                        mobileMoreOptionsPastPurchases:-1,\r\n                                        mobileMoreOptionsAwaitingPayments:key\r\n                                    })\r\n                                }}>\r\n                                    <img src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/kebab-horizontal.svg\"} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                    );\r\n\r\n                    return (\r\n                        <tr>\r\n                            <td>\r\n                                {listing.title}\r\n                            </td>\r\n                            <td>\r\n                                {integerToMoneyString(listing.amount)}\r\n                            </td>\r\n                            <td>\r\n                                <button className={styles.buttonCta + ' regularTextMedium'} onClick={() => {\r\n                                    this.props.history.push(\"/pay?listingId=\"+listing.id+\"&offerId=\"+listing.offerid);\r\n                                    // this.setState({ isDoingReservation: true });\r\n                                    // axios.post(\"/reserveProduct\", { listingId: listing.listingid, buyNow: false, offerId: listing.offerid }).then(resp => {\r\n                                    //     this.setState({ isDoingReservation: false });\r\n                                    //     this.props.history.push(\"/payment-details?tra_id=\" + resp.data.reservationId);\r\n                                    // }).catch(err => {\r\n                                    //     this.setState({ isDoingReservation: false });\r\n                                    //     this.snackbarRef.current.openSnackBar('This item is being purchased by someone else at the moment. Please come back later.');\r\n                                    // });\r\n                                }}>Pay now</button>\r\n                            </td>\r\n                        </tr>\r\n                    );\r\n                });\r\n            }\r\n\r\n            currentPage = (\r\n                <div>\r\n                    <div id={styles.tableContainer}>\r\n                        <p className={\"title1 \"+styles.regularText+\" \"+styles.hideMobile}>Awaiting payments</p>\r\n                        <p className={styles.regularText}>Offers you have made for an item that were accepted by the seller or offers from a seller that you accepted will appear here for you to pay. Beware, other users can still purchase the item so hurry up.</p>\r\n                        <table className={styles.dataTable+\" \"+styles.hideMobile}>\r\n                            <thead className={styles.tableTHead}>\r\n                            <td className={\"regularTextMedium\"}>\r\n                                Item\r\n                            </td>\r\n                            <td className={\"regularTextMedium\"}>\r\n                                Price\r\n                            </td>\r\n                            <td className={\"regularTextMedium\"}>\r\n                                Actions\r\n                            </td>\r\n                            </thead>\r\n                            <tbody className={styles.tableTBody}>\r\n                            {waitingPurchases}\r\n                            </tbody>\r\n                        </table>\r\n                        <div className={styles.mobileCardSellingBuyingContainer}>\r\n                            {mobileWaitingPurchases}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else if (this.state.currentPage == 1) {\r\n            //active offers\r\n            let activeOffers = <p className={styles.regularTextNoMargin + \" regularText\"}>No active offers.</p>;\r\n            let mobileActiveOffers = <p className={styles.regularTextNoMargin + \" regularText\"}>No active offers.</p>;\r\n            if (this.state.activeOffers.length > 0) {\r\n                mobileActiveOffers = [];\r\n                activeOffers = this.state.activeOffers.map((offer, key) => {\r\n\r\n                    let fullDate = new Date(offer.timestamp);\r\n                    fullDate.setDate(fullDate.getDate() + 4);\r\n                    let months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n                    let limitDate = months[fullDate.getMonth()] + \" \" + fullDate.getDate();\r\n\r\n\r\n                    mobileActiveOffers.push(\r\n                        <div className={styles.mobileCardSellingBuying}>\r\n                            <div className={styles.mobileCardSellingBuyingLeftContainer}>\r\n                                <p className={styles.regularTextHalfMargin+\" regularTextMedium\"}>{offer.title}</p>\r\n                                <p className={styles.regularTextHalfMargin+\" regularText\"}>{integerToMoneyString(offer.amount)}</p>\r\n                            </div>\r\n                            <div className={styles.mobileCardSellingBuyingRightContainer}>\r\n                                <div className={styles.kebabContainer} onClick={()=>{\r\n                                    this.setState({\r\n                                        mobileMoreOptionsActiveOffers:key,\r\n                                        mobileMoreOptionsAwaitingPayments:-1,\r\n                                        mobileMoreOptionsPurchaseHistory:-1\r\n                                    })\r\n                                }}>\r\n                                    <img src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/kebab-horizontal.svg\"} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    );\r\n\r\n                    return (\r\n                        <tr>\r\n                            <td>\r\n                                {offer.title}\r\n                            </td>\r\n                            <td>\r\n                                {integerToMoneyString(offer.amount)}\r\n                            </td>\r\n                            <td>\r\n                                @{offer.sendername}\r\n                            </td>\r\n                            <td>\r\n                                <button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => { this.counterOffer(key) }}>Counter offer</button>\r\n                                <button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => { this.acceptOffer(key) }}>Accept</button>\r\n                                <button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => { this.declineOffer(key) }}>Decline</button>\r\n                            </td>\r\n                        </tr>\r\n                    );\r\n                });\r\n            }\r\n\r\n            currentPage = (\r\n                <div>\r\n                    <div id={styles.tableContainer}>\r\n                        <p className={\"title1 \"+styles.regularText+\" \"+styles.hideMobile}>Active offers</p>\r\n                        {/*<p className={styles.regularText}>Sellers having made a counter offer for a product you want to buy will appear here. You only have 24 hours to accept/decline/counter-offer or it will automatically be declined.</p>*/}\r\n                        <p className={styles.regularText}>Sellers having made a counter offer for a product you want to buy will appear here.</p>\r\n                        <table className={styles.dataTable+\" \"+styles.hideMobile}>\r\n                            <thead className={styles.tableTHead}>\r\n                            <td className={\"regularTextMedium\"}>\r\n                                Item\r\n                            </td>\r\n                            <td className={\"regularTextMedium\"}>\r\n                                Seller offer\r\n                            </td>\r\n                            <td className={\"regularTextMedium\"}>\r\n                                Seller\r\n                            </td>\r\n                            <td className={\"regularTextMedium\"}>\r\n                                Actions\r\n                            </td>\r\n                            </thead>\r\n                            <tbody className={styles.tableTBody}>\r\n                            {activeOffers}\r\n                            </tbody>\r\n                        </table>\r\n                        <div className={styles.mobileCardSellingBuyingContainer}>\r\n                            {mobileActiveOffers}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else if (this.state.currentPage == 2) {\r\n            //past purchases\r\n            let pastPurchases = <p className={styles.regularTextNoMargin + \" regularText\"}>No purchases yet.</p>;\r\n            let mobilePastPurchases = <p className={styles.regularTextNoMargin + \" regularText\"}>No purchases yet.</p>;\r\n            if (this.state.pastPurchases.length > 0) {\r\n                mobilePastPurchases = [];\r\n                pastPurchases = this.state.pastPurchases.map((listing, key) => {\r\n\r\n\r\n                    let fullDate = new Date(listing.timestamp);\r\n                    let months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n                    let purchaseDate = months[fullDate.getMonth()] + \" \" + fullDate.getDate() + \", \" + fullDate.getFullYear();\r\n                    let purchasePrice = listing.buynowprice;\r\n                    if (listing.offeramount) {\r\n                        purchasePrice = listing.offeramount;\r\n                    }\r\n                    let transactionStatus = \"\";\r\n                    if(listing.status == 0){\r\n                        transactionStatus = \"No tracking number added yet\";\r\n                    }else if(listing.status == 1){\r\n                        transactionStatus  = \"Shipped\"\r\n                    }else{\r\n                        transactionStatus = \"Delivered\"\r\n                    }\r\n\r\n\r\n                    mobilePastPurchases.push(\r\n                        <div className={styles.mobileCardSellingBuying}>\r\n                            <div className={styles.mobileCardSellingBuyingLeftContainer}>\r\n                                <p className={styles.regularTextHalfMargin+\" regularText\"}>Order# {listing.ordernb}</p>\r\n                                <p className={styles.regularTextHalfMargin+\" regularTextMedium\"}>{listing.title} ({integerToMoneyString(purchasePrice)})</p>\r\n                                <p className={styles.regularTextHalfMargin+\" regularText\"}>{transactionStatus}</p>\r\n                                <p className={styles.regularTextHalfMargin+\" regularText\"}>{purchaseDate}</p>\r\n                                {listing.receiptlink && listing.receiptlink.length>0 ? <Link to={listing.receiptlink} target=\"_blank\" className={styles.regularTextHalfMargin+\" regularText\"}>listing.receiptlink</Link> : <p className={styles.regularTextHalfMargin+\" regularText\"}>Generating receipt...</p>}\r\n                            </div>\r\n                            <div className={styles.mobileCardSellingBuyingRightContainer}>\r\n                                <div className={styles.kebabContainer} onClick={()=>{\r\n                                    this.setState({\r\n                                        mobileMoreOptionsActiveOffers:-1,\r\n                                        mobileMoreOptionsAwaitingPayments:-1,\r\n                                        mobileMoreOptionsPurchaseHistory:key\r\n                                    })\r\n                                }}>\r\n                                    <img src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/kebab-horizontal.svg\"} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    );\r\n\r\n                    return (\r\n                        <tr>\r\n                            <td>\r\n                                {listing.ordernb}\r\n                            </td>\r\n                            <td>\r\n                                {listing.title}\r\n                            </td>\r\n                            <td>\r\n                                {integerToMoneyString(purchasePrice)}\r\n                            </td>\r\n                            <td>\r\n                                {transactionStatus}\r\n                            </td>\r\n                            <td>\r\n                                {purchaseDate}\r\n                            </td>\r\n                            <td>\r\n                                {listing.receiptlink && listing.receiptlink.length>0 ? <Link to={listing.receiptlink} target={\"_blank\"}>listing.receiptlink</Link> : \"Generating receipt...\"}\r\n                            </td>\r\n                            <td>\r\n                                    {\r\n                                        listing.issellerreviewed == true ?\r\n                                            null\r\n                                            :\r\n                                            <button className={styles.buttonCta + ' regularTextMedium'} onClick={()=>{\r\n                                                this.setState({\r\n                                                    reviewsListingIndex: key,\r\n                                                    isReviewsModalDisplayed: true\r\n                                                });}\r\n                                            }>Review seller</button>\r\n                                    }\r\n                            </td>\r\n                        </tr>\r\n                    );\r\n                });\r\n            }\r\n\r\n            currentPage = (\r\n                <div>\r\n                    <div id={styles.tableContainer}>\r\n                        <p className={\"title1 \"+styles.regularText +\" \"+styles.hideMobile}>Purchase history</p>\r\n                        <table className={styles.dataTable +\" \"+styles.hideMobile}>\r\n                            <thead className={styles.tableTHead}>\r\n                            <td className={\"regularTextMedium\"}>\r\n                                Order #\r\n                            </td>\r\n                            <td className={\"regularTextMedium\"}>\r\n                                Item\r\n                            </td>\r\n                            <td className={\"regularTextMedium\"}>\r\n                                Price\r\n                            </td>\r\n                            <td className={\"regularTextMedium\"}>\r\n                                Status\r\n                            </td>\r\n                            <td className={\"regularTextMedium\"}>\r\n                                Date\r\n                            </td>\r\n                            <td className={\"regularTextMedium\"}>\r\n                                Receipt\r\n                            </td>\r\n                            <td className={\"regularTextMedium\"}>\r\n                                Actions\r\n                            </td>\r\n                            </thead>\r\n                            <tbody className={styles.tableTBody}>\r\n                            {pastPurchases}\r\n                            </tbody>\r\n                        </table>\r\n                        <div className={styles.mobileCardSellingBuyingContainer}>\r\n                            {mobilePastPurchases}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n        let mobileMoreOptions = null;\r\n        let mobileMoreOptionsCta = [];\r\n        if(this.state.mobileMoreOptionsActiveOffers != -1){\r\n            mobileMoreOptionsCta = [\r\n                <button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => { this.counterOffer(this.state.mobileMoreOptionsActiveOffers) }}>Counter offer</button>,\r\n                <button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => { this.acceptOffer(this.state.mobileMoreOptionsActiveOffers) }}>Accept</button>,\r\n                <button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => { this.declineOffer(this.state.mobileMoreOptionsActiveOffers) }}>Decline</button>\r\n            ]\r\n            mobileMoreOptions = (\r\n                <div onClick={this.handleMobileMoreOptionsOutsideClick} ref={this.handleMobileMoreOptionsRef} id={styles.mobileMoreOptionsFullPageContainer}>\r\n                    <div id={styles.mobileMoreOptionsContainer}>\r\n                        {mobileMoreOptionsCta}\r\n                    </div>\r\n                </div>\r\n            );\r\n        }else if(this.state.mobileMoreOptionsPurchaseHistory != -1){\r\n            if(this.state.pastPurchases[this.state.mobileMoreOptionsPurchaseHistory].issellerreviewed != true){\r\n                mobileMoreOptionsCta.push(\r\n                    <button className={styles.buttonCta + \" regularTextMedium\"} onClick={()=>{\r\n                        this.setState({\r\n                            reviewsListingIndex: this.state.mobileMoreOptionsPurchaseHistory,\r\n                            isReviewsModalDisplayed: true,\r\n                            mobileMoreOptionsActiveOffers:-1,\r\n                            mobileMoreOptionsPurchaseHistory:-1,\r\n                            mobileMoreOptionsAwaitingPayments:-1\r\n                        });}\r\n                    }>Review seller</button>\r\n                );\r\n            }\r\n\r\n            mobileMoreOptions = (\r\n                <div onClick={this.handleMobileMoreOptionsOutsideClick} ref={this.handleMobileMoreOptionsRef} id={styles.mobileMoreOptionsFullPageContainer}>\r\n                    <div id={styles.mobileMoreOptionsContainer}>\r\n                        {mobileMoreOptionsCta}\r\n                    </div>\r\n                </div>\r\n            );\r\n        }else if(this.state.mobileMoreOptionsAwaitingPayments != -1){\r\n            mobileMoreOptionsCta.push(\r\n                <button className={styles.buttonCta + ' regularTextMedium'} onClick={() => {\r\n                    this.props.history.push(\"/pay?listingId=\"+this.state.waitingPurchases[this.state.mobileMoreOptionsAwaitingPayments].id+\"&offerId=\"+this.state.waitingPurchases[this.state.mobileMoreOptionsAwaitingPayments].offerid);\r\n                    // this.setState({ isDoingReservation: true });\r\n                    // axios.post(\"/reserveProduct\", { listingId: listing.listingid, buyNow: false, offerId: listing.offerid }).then(resp => {\r\n                    //     this.setState({ isDoingReservation: false });\r\n                    //     this.props.history.push(\"/payment-details?tra_id=\" + resp.data.reservationId);\r\n                    // }).catch(err => {\r\n                    //     this.setState({ isDoingReservation: false });\r\n                    //     this.snackbarRef.current.openSnackBar('This item is being purchased by someone else at the moment. Please come back later.');\r\n                    // });\r\n                }}>Pay now</button>\r\n            );\r\n            mobileMoreOptions = (\r\n                <div onClick={this.handleMobileMoreOptionsOutsideClick} ref={this.handleMobileMoreOptionsRef} id={styles.mobileMoreOptionsFullPageContainer}>\r\n                    <div id={styles.mobileMoreOptionsContainer}>\r\n                        {mobileMoreOptionsCta}\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n\r\n        return (\r\n            <div>\r\n                <BodyContainer>\r\n                    <div className={styles.innerMainContainer}>\r\n                        <div id={styles.bodyLeftSeparator}>\r\n                            <p className={styles.noDisplayDesktop + \" title1 \" + styles.pageTitle}>Manage purchases</p>\r\n                            <div id={styles.categoriesMainContainer}>\r\n                                <p className={styles.regularTextNoMargin + \" regularTextBold \" + styles.noDisplayMobile}>Manage purchases</p>\r\n                                <p className={this.state.currentPage === 0 ? styles.searchSuggestP + \" \" + styles.activeLink : styles.searchSuggestP} onClick={() => { this.setState({ currentPage: 0 }); }}>Awaiting payments</p>\r\n                                <p className={this.state.currentPage === 1 ? styles.searchSuggestP + \" \" + styles.activeLink : styles.searchSuggestP} onClick={() => { this.setState({ currentPage: 1 }); }}>Active offers</p>\r\n                                <p className={this.state.currentPage === 2 ? styles.searchSuggestP + \" \" + styles.activeLink : styles.searchSuggestP} onClick={() => { this.setState({ currentPage: 2 }); }}>Purchase history</p>\r\n                            </div>\r\n                        </div>\r\n                        <div id={styles.bodyRightSeparator}>\r\n                            {currentPage}\r\n                        </div>\r\n                    </div>\r\n                </BodyContainer>\r\n\r\n                <Footer />\r\n                <MobileBottomNav {...this.props} />\r\n                <DesktopTopNav key={new Date().getTime()} {...this.props} />\r\n                <Modal title=\"Counter offer\" closeModal={() => {\r\n                    this.setState({\r\n                        isCounterOfferModalDisplayed: false,\r\n                        counterOfferArrayIndex: -1,\r\n                        counterOfferId: -1,\r\n                        counterOfferValue: 1\r\n                    })\r\n                }} show={this.state.isCounterOfferModalDisplayed} description={this.state.counterOfferId != -1 && this.state.counterOfferArrayIndex != -1 ? \"The seller currently offer is \" + integerToMoneyString((this.state.activeOffers[this.state.counterOfferArrayIndex]).amount) + \". Send your counter offer.\" : \"\"}>\r\n                    <input name=\"counterOfferValue\" value={this.state.counterOfferValue} onChange={this.handleInputChange} type=\"number\" min=\"1\" step=\"0.01\" placeholder=\"Counter offer\" />\r\n                    <div className=\"modalSubmitButtonDiv\">\r\n                        <button className=\"modalSubmitButton regularTextMedium buttonCta\" onClick={this.submitCounterOffer}>Submit</button>\r\n                    </div>\r\n                </Modal>\r\n                <Modal title=\"Review the seller\" closeModal={() => {\r\n                    this.setState({\r\n                        isReviewsModalDisplayed: false,\r\n                        reviewsListingIndex: -1\r\n                    })\r\n                }} show={this.state.isReviewsModalDisplayed}>\r\n                    <ReviewsCard listingId={this.state.reviewsListingIndex == -1 ? -1 : this.state.pastPurchases[this.state.reviewsListingIndex].id} submitReview={() => {\r\n                        let reviewListings = this.state.pastPurchases;\r\n                        reviewListings[this.state.reviewsListingIndex].issellerreviewed = true;\r\n                        this.setState({\r\n                            isReviewsModalDisplayed: false,\r\n                            reviewsListingIndex: -1,\r\n                            pastPurchases: reviewListings\r\n                        })\r\n                    }}></ReviewsCard>\r\n                </Modal>\r\n\r\n                {mobileMoreOptions}\r\n                {\r\n                    this.state.isDoingReservation == true ?\r\n                        <Spinner />\r\n                        :\r\n                        null\r\n                }\r\n                <Snackbar ref={this.snackbarRef} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(Saved);\r\n","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\listings.js",["491","492","493","494","495","496","497","498","499","500","501","502","503","504","505","506","507","508","509","510","511","512"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Footer from \"microComponents/Footer.js\";\r\nimport styles from \"public/style/saved.module.css\";\r\nimport DesktopTopNav from \"microComponents/DesktopTopNav.js\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\nimport ListingCard from \"microComponents/ListingCardSmallCard.js\";\r\nimport SpecialCard from \"microComponents/SpecialListingCard.js\";\r\nimport BodyContainer from \"microComponents/BodyContainer\";\r\nimport Modal from \"microComponents/Modal\";\r\nimport ReviewsCard from \"microComponents/ReviewsCard\";\r\nimport Spinner from \"microComponents/LoaderAnimation\";\r\nimport { integerToMoneyString } from \"miscFunctions\";\r\nimport queryString from \"query-string\";\r\nclass Saved extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            activeListings: [],\r\n            activeListingsIsLoaded: false,\r\n            soldListings: [],\r\n            soldListingsIsLoaded: false,\r\n            activeOffers: [],\r\n            activeOffersIsLoaded: false,\r\n            currentPage: 0,\r\n            loading: true,\r\n            isCounterOfferModalDisplayed: false,\r\n            isDeleteConfirmModalDisplayed: false,\r\n            isPickBuyerModalDisplayed: false,\r\n            pickBuyerListingIndex: -1,\r\n            counterOfferArrayIndex: -1,\r\n            counterOfferValue: 1,\r\n            confirmDeleteListingIndex: -1,\r\n            isReviewsModalDisplayed: false,\r\n            reviewsListingIndex: -1,\r\n            isFetchingData: false,\r\n            markAsSoldBuyersDetails: [],\r\n            isTrackingNumberModalDisplayed: false,\r\n            trackingNumberListingIndex: -1,\r\n            carrierNameValue: \"\",\r\n            trackingNumberValue: \"\",\r\n\r\n            mobileMoreOptionsActiveOffers:-1,\r\n            mobileMoreOptionsActiveListings:-1,\r\n            mobileMoreOptionsSoldItems:-1\r\n        }\r\n\r\n        this.submitCounterOffer = this.submitCounterOffer.bind(this);\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.deleteListing = this.deleteListing.bind(this);\r\n\r\n        this.handleMobileMoreOptionsRef = React.createRef();\r\n\r\n        this.handleMobileMoreOptionsOutsideClick = this.handleMobileMoreOptionsOutsideClick.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (typeof queryString.parse(window.location.search).activeTab != \"undefined\" && !isNaN(queryString.parse(window.location.search).activeTab)) {\r\n            let activeTab = parseInt(queryString.parse(window.location.search).activeTab);\r\n            if (activeTab >= 0 && activeTab <= 2) {\r\n                this.setState({\r\n                    currentPage: activeTab\r\n                });\r\n            }\r\n        }\r\n        axios.get(window.api_prefix+\"/sellingHistory\").then(res => {\r\n            this.setState({\r\n                soldListings: res.data,\r\n                soldListingsIsLoaded: true\r\n            });\r\n        }).catch();\r\n\r\n        axios.get(window.api_prefix+\"/userActiveListings\").then(res => {\r\n            this.setState({\r\n                activeListings: res.data,\r\n                activeListingsIsLoaded: true\r\n            });\r\n        }).catch();\r\n\r\n        axios.get(window.api_prefix+\"/activeListingsOffers\").then(res => {\r\n            this.setState({\r\n                activeOffers: res.data,\r\n                activeOffersIsLoaded: true\r\n            });\r\n        }).catch();\r\n    }\r\n\r\n    handleMobileMoreOptionsOutsideClick(e){\r\n        if(e.target == this.handleMobileMoreOptionsRef.current){\r\n            this.setState({\r\n                mobileMoreOptionsActiveOffers:-1,\r\n                mobileMoreOptionsActiveListings:-1,\r\n                mobileMoreOptionsSoldItems:-1\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    handleInputChange(e) {\r\n        const { name, value } = e.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n    acceptOffer(arrayIndex) {\r\n        let currentActiveOffers = this.state.activeOffers;\r\n        let offerId = currentActiveOffers[arrayIndex].id;\r\n        currentActiveOffers.splice(arrayIndex, 1);\r\n        this.setState({\r\n            activeOffers: currentActiveOffers,\r\n            mobileMoreOptionsActiveOffers:-1,\r\n            mobileMoreOptionsActiveListings:-1,\r\n            mobileMoreOptionsSoldItems:-1\r\n        });\r\n        axios.post(window.api_prefix+\"/acceptOffer\", { offerId: offerId }).then().catch();\r\n\r\n    }\r\n    counterOffer(arrayIndex) {\r\n        alert(arrayIndex);\r\n        this.setState({\r\n            counterOfferArrayIndex: arrayIndex,\r\n            isCounterOfferModalDisplayed: true\r\n        });\r\n    }\r\n    declineOffer(arrayIndex) {\r\n        let currentActiveOffers = this.state.activeOffers;\r\n        let offerId = currentActiveOffers[arrayIndex].id;\r\n        currentActiveOffers.splice(arrayIndex, 1);\r\n        this.setState({\r\n            activeOffers: currentActiveOffers,\r\n            mobileMoreOptionsActiveOffers:-1,\r\n            mobileMoreOptionsActiveListings:-1,\r\n            mobileMoreOptionsSoldItems:-1\r\n        });\r\n        axios.post(window.api_prefix+\"/declineOffer\", { offerId: offerId }).then().catch();\r\n    }\r\n    submitCounterOffer() {\r\n        let currentActiveOffers = this.state.activeOffers;\r\n        let counterOfferId = currentActiveOffers[this.state.counterOfferArrayIndex].id;\r\n        currentActiveOffers.splice(this.state.counterOfferArrayIndex, 1);\r\n        this.setState({\r\n            activeOffers: currentActiveOffers,\r\n            counterOfferArrayIndex: -1,\r\n            counterOfferValue: 1,\r\n            isCounterOfferModalDisplayed: false,\r\n            mobileMoreOptionsActiveOffers:-1,\r\n            mobileMoreOptionsActiveListings:-1,\r\n            mobileMoreOptionsSoldItems:-1\r\n        });\r\n        axios.post(window.api_prefix+\"/submitCounterOffer\", { offerId: counterOfferId, offerValue: this.state.counterOfferValue }).then().catch();\r\n    }\r\n\r\n    deleteListing() {\r\n        let activeListings = this.state.activeListings;\r\n        let listingId = this.state.activeListings[this.state.confirmDeleteListingIndex].id;\r\n        activeListings.splice(this.state.confirmDeleteListingIndex, 1);\r\n        this.setState({\r\n            activeListings: activeListings,\r\n            isDeleteConfirmModalDisplayed: false,\r\n            confirmDeleteListingIndex: -1\r\n        });\r\n        axios.post(window.api_prefix+\"/deleteListing\", { listingId: listingId });\r\n    }\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n        let currentPage;\r\n        if (this.state.currentPage === 0 && this.state.activeListingsIsLoaded && this.state.activeOffersIsLoaded) {\r\n            let desktopOffersArray = <p className={styles.regularTextNoMargin + \" regularText\"}>No offers yet.</p>;\r\n            let mobileOffersArray = <p className={styles.regularTextNoMargin + \" regularText\"}>No offers yet.</p>;\r\n            if (this.state.activeOffers.length > 0 && this.state.activeListings.length > 0) {\r\n                mobileOffersArray = [];\r\n                desktopOffersArray = [];\r\n\r\n                let activeListings = [];\r\n                for (let v = 0; v < this.state.activeListings.length; v++) {\r\n                    let newObj = this.state.activeListings[v];\r\n                    newObj.offers = [];\r\n                    activeListings.push(newObj);\r\n                }\r\n\r\n\r\n                for (let i = 0; i < this.state.activeOffers.length; i++) {\r\n                    for (let j = 0; j < activeListings.length; j++) {\r\n                        if (activeListings[j].id == this.state.activeOffers[i].listingid) {\r\n                            let offer = this.state.activeOffers[i];\r\n                            offer.arrayIndex = i;\r\n                            activeListings[j].offers.push(offer);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                for (let i = 0; i < activeListings.length; i++) {\r\n                    if (activeListings[i].offers.length > 0) {\r\n                        for (let j = 0; j < activeListings[i].offers.length; j++) {\r\n                            desktopOffersArray.push(\r\n                                <tr key={j+\"_\"+i}>\r\n                                    <td>\r\n                                        {activeListings[i].title}\r\n                                    </td>\r\n                                    <td>\r\n                                        {integerToMoneyString(activeListings[i].offers[j].amount)}\r\n                                    </td>\r\n                                    <td>\r\n                                        {integerToMoneyString(activeListings[i].price)}\r\n                                    </td>\r\n                                    <td>\r\n                                        @{activeListings[i].offers[j].sendername}\r\n                                    </td>\r\n                                    <td>\r\n                                        <button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => { this.counterOffer(activeListings[i].offers[j].arrayIndex) }}>Counter offer</button>\r\n                                        <button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => { this.acceptOffer(activeListings[i].offers[j].arrayIndex) }}>Accept</button>\r\n                                        <button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => { this.declineOffer(activeListings[i].offers[j].arrayIndex) }}>Decline</button>\r\n                                    </td>\r\n                                </tr>\r\n                            );\r\n\r\n                            mobileOffersArray.push(\r\n                            <div key={j+\"_\"+i+\"2\"} className={styles.mobileCardSellingBuying}>\r\n                                <div className={styles.mobileCardSellingBuyingLeftContainer}>\r\n                                    <p className={styles.regularTextHalfMargin+\" regularTextMedium\"}>{activeListings[i].title}</p>\r\n                                    <p className={styles.regularTextHalfMargin+\" regularText\"}>@{activeListings[i].offers[j].sendername}</p>\r\n                                    <p className={styles.regularTextHalfMargin+\" regularText\"}>{integerToMoneyString(activeListings[i].offers[j].amount)}</p>\r\n                                </div>\r\n                                <div className={styles.mobileCardSellingBuyingRightContainer}>\r\n                                    <div className={styles.kebabContainer} onClick={()=>{\r\n                                        this.setState({\r\n                                            mobileMoreOptionsActiveOffers:activeListings[i].offers[j].arrayIndex,\r\n                                            mobileMoreOptionsActiveListings:-1,\r\n                                            mobileMoreOptionsSoldItems:-1\r\n                                        })\r\n                                    }}>\r\n                                        <img src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/kebab-horizontal.svg\"} />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            );\r\n                        }\r\n                    } else {\r\n                        continue;\r\n                    }\r\n                }\r\n            }\r\n            currentPage = (\r\n                <div>\r\n                    <div id={styles.tableContainer}>\r\n                        <p className={\"title1 \"+styles.regularText +\" \"+styles.hideMobile}>Active offers</p>\r\n                        <p className={styles.regularText}>Offers or counter offers made by buyers for a product you’re selling will appear here. You only have 24 hours to accept/decline/counter-offer or it will automatically be declined.</p>\r\n                        <table className={styles.dataTable+\" \"+styles.hideMobile}>\r\n                            <thead className={styles.tableTHead}>\r\n                            <tr>\r\n                                <th className={\"regularTextMedium\"}>\r\n                                    Item\r\n                                </th>\r\n                                <th className={\"regularTextMedium\"}>\r\n                                    Seller offer\r\n                                </th>\r\n                                <th className={\"regularTextMedium\"}>\r\n                                    Original price\r\n                                </th>\r\n                                <th className={\"regularTextMedium\"}>\r\n                                    Buyer\r\n                                </th>\r\n                                <th className={\"regularTextMedium\"}>\r\n                                    Actions\r\n                                </th>\r\n                            </tr>\r\n                            </thead>\r\n                            <tbody className={styles.tableTBody}>\r\n                            {desktopOffersArray}\r\n                            </tbody>\r\n                        </table>\r\n                        {/*<p className={\"title1 \"+styles.regularText}>Pending offers</p>*/}\r\n                        {/*<p className={styles.regularText}>Offers or counter offers made by buyers for a product you’re selling will appear here. You only have 24 hours to accept/decline/counter-offer or it will automatically be declined.</p>*/}\r\n                        <div className={styles.mobileCardSellingBuyingContainer}>\r\n                            {mobileOffersArray}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else if (this.state.currentPage === 1 && this.state.activeListingsIsLoaded) {\r\n            let activeListings = <p className={styles.regularTextNoMargin + \" regularText\"}>No listings yet.</p>;\r\n            let mobileListingsArray = <p className={styles.regularTextNoMargin + \" regularText\"}>No listings yet.</p>;\r\n            if (this.state.activeListings.length > 0) {\r\n                mobileListingsArray = [];\r\n                activeListings = this.state.activeListings.map((listing, key) => {\r\n                    let fullDate = new Date(listing.timestamp);\r\n                    let months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n                    let listingDate = months[fullDate.getMonth()] + \" \" + fullDate.getDate() + \", \" + fullDate.getFullYear();\r\n\r\n                    let verificationStatusValues = [\"Not verified\", \"Verification in progress...\", \"Verification not approved\", \"Verification approved\"];\r\n                    let verificationStatus = verificationStatusValues[listing.verificationstatus];\r\n                    let verifyButton;\r\n\r\n                    mobileListingsArray.push(\r\n                        <div className={styles.mobileCardSellingBuying}>\r\n                            <div className={styles.mobileCardSellingBuyingLeftContainer}>\r\n                                <p className={styles.regularTextHalfMargin+\" regularTextMedium\"}>{listing.title}</p>\r\n\r\n                                <p className={styles.regularTextHalfMargin+\" regularText\"}>{verificationStatus}</p>\r\n                                <p className={styles.regularTextHalfMargin+\" regularText\"}>{listingDate}</p>\r\n                            </div>\r\n                            <div className={styles.mobileCardSellingBuyingRightContainer}>\r\n                                <div className={styles.kebabContainer} onClick={()=>{\r\n                                    this.setState({\r\n                                        mobileMoreOptionsActiveOffers:-1,\r\n                                        mobileMoreOptionsActiveListings:key,\r\n                                        mobileMoreOptionsSoldItems:-1\r\n                                    })\r\n                                }}>\r\n                                    <img src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/kebab-horizontal.svg\"} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                    return (\r\n                        <tr key={key}>\r\n                            <td>\r\n                                {listing.title}\r\n                            </td>\r\n                            <td>\r\n                                {/*price*/}\r\n                            </td>\r\n                            <td>\r\n                                {listingDate}\r\n                            </td>\r\n                            <td>\r\n                                {verificationStatus}\r\n                            </td>\r\n                            <td>\r\n                                <Link to={\"/new-listing?listingid=\" + listing.id + \"&listingmode=1\"}>\r\n                                    <button className={styles.buttonCta + \" regularTextMedium\"}>Edit</button>\r\n                                </Link>\r\n                                <button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => { this.setState({ isDeleteConfirmModalDisplayed: true, confirmDeleteListingIndex: key }) }}>Delete</button>\r\n\r\n                                {verifyButton}\r\n                            </td>\r\n                        </tr>\r\n                    );\r\n                });\r\n            }\r\n            currentPage = (\r\n                <div>\r\n                    <div id={styles.tableContainer}>\r\n                        <p className={\"title1 \"+styles.regularText+\" \"+styles.hideMobile}>Active listings</p>\r\n                        <table className={styles.dataTable+\" \"+styles.hideMobile}>\r\n                            <thead className={styles.tableTHead}>\r\n                            <tr>\r\n                                <th className={\"regularTextMedium\"}>\r\n                                    Item\r\n                                </th>\r\n                                <th className={\"regularTextMedium\"}>\r\n                                    Price\r\n                                </th>\r\n                                <th className={\"regularTextMedium\"}>\r\n                                    Date\r\n                                </th>\r\n                                <th className={\"regularTextMedium\"}>\r\n                                    Status\r\n                                </th>\r\n                                <th className={\"regularTextMedium\"}>\r\n                                    Actions\r\n                                </th>\r\n                            </tr>\r\n                            </thead>\r\n                            <tbody className={styles.tableTBody}>\r\n                            {activeListings}\r\n                            </tbody>\r\n                        </table>\r\n                        <div className={styles.mobileCardSellingBuyingContainer}>\r\n                            {mobileListingsArray}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            );\r\n        } else if (this.state.soldListingsIsLoaded) {\r\n            let soldListings = <p className={styles.regularText + \" regularText\"}>No sold items yet.</p>\r\n            let mobileSoldArray = <p className={styles.regularTextNoMargin + \" regularText\"}>No listings yet.</p>;\r\n            if (this.state.soldListings.length > 0) {\r\n                mobileSoldArray = [];\r\n                soldListings = this.state.soldListings.map((listing, key) => {\r\n                    let fullDate = new Date(listing.timestamp);\r\n                    let months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n                    let listingDate = months[fullDate.getMonth()] + \" \" + fullDate.getDate() + \", \" + fullDate.getFullYear();\r\n\r\n                    let transactionStatus = \"\";\r\n                    if(listing.status == 0){\r\n                        transactionStatus = \"No tracking number added yet\";\r\n                    }else if(listing.status == 1){\r\n                        transactionStatus  = \"Shipped\"\r\n                    }else{\r\n                        transactionStatus = \"Delivered\"\r\n                    }\r\n\r\n                    mobileSoldArray.push(\r\n                         <div className={styles.mobileCardSellingBuying}>\r\n                            <div className={styles.mobileCardSellingBuyingLeftContainer}>\r\n                                <p className={styles.regularTextHalfMargin+\" regularText\"}>Order #{listing.ordernb}</p>\r\n                                <p className={styles.regularTextHalfMargin+\" regularTextMedium\"}>{listing.title}</p>\r\n                                <p className={styles.regularTextHalfMargin+\" regularText\"}>{transactionStatus}</p>\r\n                                <p className={styles.regularTextHalfMargin+\" regularText\"}>{listingDate}</p>\r\n                                {listing.sellerreceiptlink && listing.sellerreceiptlink.length>0 ? <Link>{listing.sellerreceiptlink}</Link> : <p>Generating receipt...</p>}\r\n                            </div>\r\n                            <div className={styles.mobileCardSellingBuyingRightContainer}>\r\n                                <div className={styles.kebabContainer} onClick={()=>{\r\n                                    this.setState({\r\n                                        mobileMoreOptionsActiveOffers:-1,\r\n                                        mobileMoreOptionsActiveListings:-1,\r\n                                        mobileMoreOptionsSoldItems:key\r\n                                    })\r\n                                }}>\r\n                                    <img src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/kebab-horizontal.svg\"} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                    return (\r\n                            <tr key={key}>\r\n                                <td>\r\n                                    {listing.ordernb}\r\n                                </td>\r\n                                <td>\r\n                                    {listing.title}\r\n                                </td>\r\n                                {/*<td>*/}\r\n                                {/*    /!*price*!/*/}\r\n                                {/*</td>*/}\r\n                                <td>\r\n                                    {transactionStatus}\r\n                                </td>\r\n                                <td>\r\n                                    {listingDate}\r\n                                </td>\r\n                                <td>\r\n                                    {listing.sellerreceiptlink && listing.sellerreceiptlink.length>0 ? <Link>listing.sellerreceiptlink</Link> : \"Generating receipt...\"}\r\n\r\n                                </td>\r\n                                <td>\r\n                                    {\r\n                                        listing.isbuyerreviewed == true ?\r\n                                            null\r\n                                            :\r\n                                            <button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => { this.setState({ isReviewsModalDisplayed: true, reviewsListingIndex: key }) }}>Review buyer</button>\r\n                                    }\r\n                                    {\r\n                                        listing.trackingnumber ?\r\n                                            null\r\n                                            :\r\n                                            <button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => { this.setState({ isTrackingNumberModalDisplayed: true, trackingNumberListingIndex: key }) }}>Add tracking number</button>\r\n                                    }\r\n                                </td>\r\n                            </tr>\r\n                    );\r\n                });\r\n            }\r\n            currentPage = (\r\n                <div>\r\n                    <div id={styles.tableContainer}>\r\n                        <p className={\"title1 \"+styles.regularText+\" \"+styles.hideMobile}>Sold items</p>\r\n                        <table className={styles.dataTable +\" \"+styles.hideMobile}>\r\n                            <thead className={styles.tableTHead}>\r\n                                <tr>\r\n                                    <th className={\"regularTextMedium\"}>\r\n                                        Order #\r\n                                    </th>\r\n                                    <th className={\"regularTextMedium\"}>\r\n                                        Item\r\n                                    </th>\r\n                                    {/*<th className={\"regularTextMedium\"}>*/}\r\n                                    {/*    Price*/}\r\n                                    {/*</th>*/}\r\n                                    <th className={\"regularTextMedium\"}>\r\n                                        Status\r\n                                    </th>\r\n                                    <th className={\"regularTextMedium\"}>\r\n                                        Date\r\n                                    </th>\r\n                                    <th className={\"regularTextMedium\"}>\r\n                                        Receipt\r\n                                    </th>\r\n                                    <th className={\"regularTextMedium\"}>\r\n                                        Actions\r\n                                    </th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody className={styles.tableTBody}>\r\n                            {soldListings}\r\n                            </tbody>\r\n                        </table>\r\n                        <div className={styles.mobileCardSellingBuyingContainer}>\r\n                            {mobileSoldArray}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else {\r\n            return null;\r\n        }\r\n\r\n        let buyersListDetails = [];\r\n        if (this.state.markAsSoldBuyersDetails.length > 0 && this.state.isPickBuyerModalDisplayed == true) {\r\n            buyersListDetails = this.state.markAsSoldBuyersDetails.map((buyer, key) => {\r\n\r\n                let price = \" paying the original buy now price.\"\r\n                if (buyer.offeramount != null) {\r\n                    price = \" paying \" + integerToMoneyString(buyer.offeramount);\r\n                }\r\n                return (\r\n                    <div key={key} className={styles.buyersListRow} onClick={() => {\r\n                        this.setState({\r\n                            isFetchingData: true\r\n                        });\r\n                        axios.post(window.api_prefix+\"/markListingAsSold\", { reservationId: buyer.reservationid, buyerId: buyer.buyerid, listingId: this.state.activeListings[this.state.pickBuyerListingIndex].id }).then(resp => {\r\n                            let listingArrayIndex = this.state.pickBuyerListingIndex;\r\n                            let currentListings = this.state.activeListings;\r\n                            let soldListing = currentListings[listingArrayIndex];\r\n                            currentListings.splice(currentListings, 1);\r\n                            let currentSoldListings = this.state.soldListings;\r\n                            currentSoldListings.push(soldListing);\r\n                            this.setState({\r\n                                isFetchingData: false,\r\n                                isPickBuyerModalDisplayed: false,\r\n                                pickBuyerListingIndex: -1,\r\n                                activeListings: currentListings,\r\n                                soldListings: currentSoldListings\r\n                            });\r\n                        }).catch(err => {\r\n                            this.setState({\r\n                                isFetchingData: false,\r\n                                isPickBuyerModalDisplayed: false,\r\n                                pickBuyerListingIndex: -1\r\n                            });\r\n                        });\r\n                    }}>\r\n                        <p>@{buyer.buyername + price}</p>\r\n                    </div>\r\n                );\r\n            });\r\n        }\r\n\r\n        let mobileMoreOptions = null;\r\n        let mobileMoreOptionsCta = [];\r\n        if(this.state.mobileMoreOptionsActiveOffers != -1){\r\n            mobileMoreOptionsCta = [\r\n                <button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => { this.counterOffer(this.state.mobileMoreOptionsActiveOffers) }}>Counter offer</button>,\r\n                <button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => { this.acceptOffer(this.state.mobileMoreOptionsActiveOffers) }}>Accept</button>,\r\n                <button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => { this.declineOffer(this.state.mobileMoreOptionsActiveOffers) }}>Decline</button>\r\n            ]\r\n            mobileMoreOptions = (\r\n                <div onClick={this.handleMobileMoreOptionsOutsideClick} ref={this.handleMobileMoreOptionsRef} id={styles.mobileMoreOptionsFullPageContainer}>\r\n                    <div id={styles.mobileMoreOptionsContainer}>\r\n                        {mobileMoreOptionsCta}\r\n                    </div>\r\n                </div>\r\n            );\r\n        }else if(this.state.mobileMoreOptionsActiveListings != -1){\r\n            mobileMoreOptionsCta.push(\r\n                <Link style={{textDecoration:\"none\"}} to={\"/new-listing?listingid=\" + this.state.activeListings[this.state.mobileMoreOptionsActiveListings].id + \"&listingmode=1\"}>\r\n                    <button className={styles.buttonCta + \" regularTextMedium\"}>Edit</button>\r\n                </Link>,\r\n                <button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => { this.setState({ isDeleteConfirmModalDisplayed: true, confirmDeleteListingIndex: this.state.mobileMoreOptionsActiveListings, mobileMoreOptionsActiveOffers:-1, mobileMoreOptionsActiveListings:-1, mobileMoreOptionsSoldItems:-1 }) }}>Delete</button>\r\n            );\r\n            if (this.state.activeListings[this.state.mobileMoreOptionsActiveListings].verificationstatus == 0 || this.state.activeListings[this.state.mobileMoreOptionsActiveListings].verificationstatus == 2) {\r\n                    mobileMoreOptionsCta.push(\r\n                        <Link style={{textDecoration:\"none\"}} to={\"/verifyListing?id=\" + this.state.activeListings[this.state.mobileMoreOptionsActiveListings].id}>\r\n                            <button className={styles.buttonCta + \" regularTextMedium\"}>Verify now</button>\r\n                        </Link>\r\n                    );\r\n            }\r\n            mobileMoreOptions = (\r\n                <div onClick={this.handleMobileMoreOptionsOutsideClick} ref={this.handleMobileMoreOptionsRef} id={styles.mobileMoreOptionsFullPageContainer}>\r\n                    <div id={styles.mobileMoreOptionsContainer}>\r\n                        {mobileMoreOptionsCta}\r\n                    </div>\r\n                </div>\r\n            );\r\n        }else if(this.state.mobileMoreOptionsSoldItems != -1){\r\n            if(this.state.soldListings[this.state.mobileMoreOptionsSoldItems].isbuyerreviewed != true){\r\n                mobileMoreOptionsCta.push(<button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => {\r\n                    this.setState({\r\n                        isReviewsModalDisplayed: true,\r\n                        reviewsListingIndex: this.state.mobileMoreOptionsSoldItems,\r\n                        mobileMoreOptionsActiveOffers:-1,\r\n                        mobileMoreOptionsActiveListings:-1,\r\n                        mobileMoreOptionsSoldItems:-1\r\n                    })\r\n                }}>Review buyer</button>)\r\n            }\r\n            if(!this.state.soldListings[this.state.mobileMoreOptionsSoldItems].trackingnumber || this.state.soldListings[this.state.mobileMoreOptionsSoldItems].trackingnumber.length==0){\r\n                mobileMoreOptionsCta.push(<button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => {\r\n                    this.setState({\r\n                        isTrackingNumberModalDisplayed: true,\r\n                        trackingNumberListingIndex: this.state.mobileMoreOptionsSoldItems,\r\n                        mobileMoreOptionsActiveOffers:-1,\r\n                        mobileMoreOptionsActiveListings:-1,\r\n                        mobileMoreOptionsSoldItems:-1\r\n                    })\r\n                }}>Add tracking number</button>);\r\n            }\r\n            mobileMoreOptions = (\r\n                <div onClick={this.handleMobileMoreOptionsOutsideClick} ref={this.handleMobileMoreOptionsRef} id={styles.mobileMoreOptionsFullPageContainer}>\r\n                    <div id={styles.mobileMoreOptionsContainer}>\r\n                        {mobileMoreOptionsCta}\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <BodyContainer>\r\n                    <div className={styles.innerMainContainer}>\r\n\r\n                        <div id={styles.bodyLeftSeparator}>\r\n                            <p className={styles.noDisplayDesktop + \" title1 \" + styles.pageTitle}>Selling</p>\r\n                            <div id={styles.categoriesMainContainer}>\r\n                                <p className={styles.regularTextNoMargin + \" regularTextBold \" + styles.noDisplayMobile}>Selling</p>\r\n                                <p className={this.state.currentPage === 0 ? styles.searchSuggestP + \" \" + styles.activeLink : styles.searchSuggestP} onClick={() => { this.setState({ currentPage: 0 }); }}>Active offers</p>\r\n                                <p className={this.state.currentPage === 1 ? styles.searchSuggestP + \" \" + styles.activeLink : styles.searchSuggestP} onClick={() => { this.setState({ currentPage: 1 }); }}>Active listings</p>\r\n                                <p className={this.state.currentPage === 2 ? styles.searchSuggestP + \" \" + styles.activeLink : styles.searchSuggestP} onClick={() => { this.setState({ currentPage: 2 }); }}>Sold items</p>\r\n                            </div>\r\n                        </div>\r\n                        <div id={styles.bodyRightSeparator}>\r\n                            {currentPage}\r\n                        </div>\r\n                    </div>\r\n                </BodyContainer>\r\n\r\n                <Footer />\r\n                <MobileBottomNav {...this.props} />\r\n                <DesktopTopNav key={new Date().getTime()} {...this.props} />\r\n                <Modal title=\"Counter offer\" closeModal={() => {\r\n                    this.setState({\r\n                        isCounterOfferModalDisplayed: false,\r\n                        counterOfferArrayIndex: -1,\r\n                        counterOfferValue: 1\r\n                    })\r\n                }} show={this.state.isCounterOfferModalDisplayed} description={this.state.counterOfferArrayIndex != -1 ? \"The buyer offered \" + integerToMoneyString(this.state.activeOffers[this.state.counterOfferArrayIndex].amount) + \". Send your counter offer.\" : \"\"}>\r\n                    <input name=\"counterOfferValue\" value={this.state.counterOfferValue} onChange={this.handleInputChange} type=\"number\" min=\"1\" step=\"0.01\" placeholder=\"Counter offer\" />\r\n                    <div className=\"modalSubmitButtonDiv\">\r\n                        <button className=\"modalSubmitButton regularTextMedium buttonCta\" onClick={this.submitCounterOffer}>Submit offer</button>\r\n                    </div>\r\n                </Modal>\r\n\r\n\r\n\r\n                <Modal title=\"Confirm listing's deletion\" closeModal={() => {\r\n                    this.setState({\r\n                        isDeleteConfirmModalDisplayed: false,\r\n                        confirmDeleteListingIndex: -1\r\n                    })\r\n                }} show={this.state.isDeleteConfirmModalDisplayed} description=\"Do you really want to delete this listing?\">\r\n                    <div className=\"modalSubmitButtonDiv\">\r\n                        <button className=\"modalCancelButton regularText\" onClick={() => { this.setState({ isDeleteConfirmModalDisplayed: false, confirmDeleteListingIndex: -1 }) }}>Cancel</button>\r\n                        <button className=\"modalSubmitButton regularTextMedium buttonCta\" onClick={this.deleteListing}>Confirm</button>\r\n                    </div>\r\n                </Modal>\r\n\r\n                <Modal title=\"Who bought your item?\" closeModal={() => {\r\n                    this.setState({\r\n                        isPickBuyerModalDisplayed: false,\r\n                        pickBuyerListingIndex: -1\r\n                    })\r\n                }} show={this.state.isPickBuyerModalDisplayed && this.state.markAsSoldBuyersDetails.length > 0}>\r\n                    <div>\r\n                        {buyersListDetails}\r\n                    </div>\r\n                    <div className=\"modalSubmitButtonDiv\">\r\n                        <button className=\"modalCancelButton regularText\" onClick={() => { this.setState({ isPickBuyerModalDisplayed: false, pickBuyerListingIndex: -1 }) }}>Cancel</button>\r\n                    </div>\r\n                </Modal>\r\n\r\n                <Modal title=\"Review the buyer\" closeModal={() => {\r\n                    this.setState({\r\n                        isReviewsModalDisplayed: false,\r\n                        reviewsListingIndex: -1\r\n                    })\r\n                }} show={this.state.isReviewsModalDisplayed}>\r\n                    <ReviewsCard listingId={this.state.reviewsListingIndex == -1 ? -1 : this.state.soldListings[this.state.reviewsListingIndex].id} submitReview={() => {\r\n                        let reviewListings = this.state.soldListings;\r\n                        reviewListings[this.state.reviewsListingIndex].isbuyerreviewed = true;\r\n                        this.setState({\r\n                            isReviewsModalDisplayed: false,\r\n                            reviewsListingIndex: -1,\r\n                            soldListings: reviewListings\r\n                        })\r\n                    }}></ReviewsCard>\r\n                </Modal>\r\n\r\n                <Modal title=\"Add a tracking number\" closeModal={() => {\r\n                    this.setState({\r\n                        isTrackingNumberModalDisplayed: false,\r\n                        trackingNumberListingIndex: -1\r\n                    })\r\n                }} show={this.state.isTrackingNumberModalDisplayed} description={\"Add the parcel's shipping carrier and tracking number so us and the buyer can track it.\"}>\r\n                    <input name=\"carrierNameValue\" value={this.state.carrierNameValue} onChange={this.handleInputChange} type=\"text\" placeholder=\"Shipping carrier name\" />\r\n                    <input name=\"trackingNumberValue\" value={this.state.trackingNumberValue} onChange={this.handleInputChange} type=\"text\" placeholder=\"Tracking  number\" />\r\n                    <div className=\"modalSubmitButtonDiv\">\r\n                        <button className=\"modalCancelButton regularText\" onClick={() => { this.setState({ isTrackingNumberModalDisplayed: false, trackingNumberListingIndex: -1 }) }}>Cancel</button>\r\n                        <button className=\"modalSubmitButton regularTextMedium buttonCta\" onClick={() => {\r\n                            axios.post(window.api_prefix+\"/addTrackingNumber\", { carrierName: this.state.carrierNameValue, trackingNumber: this.state.trackingNumberValue, listingId: this.state.soldListings[this.state.trackingNumberListingIndex].id });\r\n                            let currentSoldListings = this.state.soldListings;\r\n                            currentSoldListings[this.state.trackingNumberListingIndex].trackingnumber = \"222\";\r\n                            this.setState({\r\n                                isTrackingNumberModalDisplayed: false,\r\n                                trackingNumberListingIndex: -1,\r\n                                soldListings: currentSoldListings\r\n                            });\r\n                        }}>Confirm</button>\r\n                    </div>\r\n                </Modal>\r\n                {mobileMoreOptions}\r\n                {\r\n                    this.state.isFetchingData == true ?\r\n                        <Spinner />\r\n                        :\r\n                        null\r\n                }\r\n            </div>\r\n        );\r\n\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(Saved);\r\n","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\microComponents\\SpecialListingCard.js",["513","514","515","516","517"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport styles from \"public/style/specialListingCard.module.css\";\r\nimport { integerToMoneyString } from \"miscFunctions\";\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            searchInput: \"\",\r\n            displayAccountModel: false,\r\n            searchSuggestions: [],\r\n            historyEvents: [],\r\n            listing: {},\r\n            isLoading: true,\r\n            cardType: \"offer\" //offer, purchase, \r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            listing: this.props.listing,\r\n            isLoading: false,\r\n            cardType: this.props.cardType\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n        if (this.state.isLoading === true) {\r\n            return null;\r\n        } else {\r\n            console.log(this.state.listing);\r\n            if (this.state.cardType === \"waiting-payment\") {\r\n                let fullDate = new Date(this.state.listing.timestamp);\r\n                fullDate.setDate(fullDate.getDate() + 4);\r\n                let months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n                let limitDate = months[fullDate.getMonth()] + \" \" + fullDate.getDate();\r\n                return (\r\n                    <div className={styles.historyCardContainer}>\r\n                        <div id={styles.historyTopContainer}>\r\n                            <div style={{ backgroundImage: this.state.listing.pictures[0] && this.state.listing.pictures[0].length > 0 ? \"url('\" + this.state.listing.pictures[0] + \"')\" : \"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/image.svg')\" }} className={styles.listingMainPicture}></div>\r\n                            <div className={styles.historyTitleContainer}>\r\n                                <p className={\"title2 \" + styles.regularText}>{this.state.listing.title}</p>\r\n                                <p className={\"regularText \" + styles.regularText}>Pay before {limitDate}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div id={styles.historyTotalContainer}>\r\n                            <p className={\"regularText \" + styles.regularText}>Waiting for your response</p>\r\n                            <p className={\"regularTextBold \" + styles.regularText}>Accepted price: {integerToMoneyString(this.state.listing.amount)}</p>\r\n                        </div>\r\n                        <div id={styles.historyBottomContainer}>\r\n                            <button className={styles.historyHalfCta + ' regularTextMedium'} onClick={() => {\r\n                                this.props.loadSpinner();\r\n                                axios.post(window.api_prefix+\"/reserveProduct\", { listingId: this.state.listing.listingid, buyNow: false, offerId: this.state.listing.offerid }).then(resp => {\r\n                                    this.props.removeLoadSpinner();\r\n                                    this.props.history.push(\"/payment-details?tra_id=\" + resp.data.reservationId);\r\n                                }).catch(err => {\r\n                                    this.props.removeLoadSpinner();\r\n                                    this.props.showErrorSnackbar();\r\n                                });\r\n                            }}>Pay now</button>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            } else if (this.state.cardType === \"offer\") {\r\n                let fullDate = new Date(this.state.listing.timestamp);\r\n                let months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n                let offerDate = months[fullDate.getMonth()] + \" \" + fullDate.getDate() + \", \" + fullDate.getFullYear();\r\n                return (\r\n                    <div className={styles.historyCardContainer}>\r\n                        <div id={styles.historyTopContainer}>\r\n                            <div style={{ backgroundImage: this.state.listing.pictures[0] && this.state.listing.pictures[0].length > 0 ? \"url('\" + this.state.listing.pictures[0] + \"')\" : \"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/image.svg')\" }} className={styles.listingMainPicture}></div>\r\n                            <div className={styles.historyTitleContainer}>\r\n                                <p className={\"title2 \" + styles.regularText}>{this.state.listing.title}</p>\r\n                                <p className={\"regularText \" + styles.regularText}>{offerDate}</p>\r\n\r\n                            </div>\r\n                        </div>\r\n                        <div id={styles.historyTotalContainer}>\r\n                            <p className={\"regularText \" + styles.regularText}>Waiting for your response</p>\r\n                            <p className={\"regularTextBold \" + styles.regularText}>Current offer: {integerToMoneyString(this.state.listing.amount)}</p>\r\n                        </div>\r\n                        <div id={styles.historyBottomContainer}>\r\n                            <div id={styles.historySellerInfoContainer}>\r\n                                <div id={styles.historySellerPicture} style={{\r\n                                    backgroundImage: !this.state.listing.profilepicture || this.state.listing.profilepicture.length == 0 ? \"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/smiley.svg')\" : \"url('\" + this.state.listing.profilepicture + \"')\"\r\n                                }}></div>\r\n                                <p className={\"regularText\"}>{this.state.listing.sendername}</p>\r\n                            </div>\r\n                            <Link>\r\n                                <button className={styles.historyHalfCta + ' regularTextMedium'} onClick={this.props.acceptOffer}>Accept</button>\r\n                                <button className={styles.historyHalfCta + ' regularTextMedium'} onClick={this.props.declineOffer}>Decline</button>\r\n                                <button className={styles.historyHalfCta + ' regularTextMedium'} onClick={this.props.counterOffer}>Counter offer</button>\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            } else if (this.state.cardType === \"offer-to-me\") {\r\n                let fullDate = new Date(this.state.listing.timestamp);\r\n                let months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n                let offerDate = months[fullDate.getMonth()] + \" \" + fullDate.getDate() + \", \" + fullDate.getFullYear();\r\n                return (\r\n                    <div className={styles.historyCardContainer}>\r\n                        <div id={styles.historyTopContainer}>\r\n                            <div style={{ backgroundImage: this.state.listing.pictures[0] && this.state.listing.pictures[0].length > 0 ? \"url('\" + this.state.listing.pictures[0] + \"')\" : \"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/image.svg')\" }} className={styles.listingMainPicture}></div>\r\n                            <div className={styles.historyTitleContainer}>\r\n                                <p className={\"title2 \" + styles.regularText}>{this.state.listing.title}</p>\r\n                                <p className={\"regularText \" + styles.regularText}>{offerDate}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div id={styles.historyTotalContainer}>\r\n                            <p className={\"regularText \" + styles.regularText}>Waiting for your response</p>\r\n                            <p className={\"regularTextBold \" + styles.regularText}>Current offer: {integerToMoneyString(this.state.listing.amount)}</p>\r\n                        </div>\r\n                        <div id={styles.historyBottomContainer}>\r\n                            <div id={styles.historySellerInfoContainer}>\r\n                                <div id={styles.historySellerPicture} style={{\r\n                                    backgroundImage: !this.state.listing.profilepicture || this.state.listing.profilepicture.length == 0 ? \"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/smiley.svg')\" : \"url('\" + this.state.listing.profilepicture + \"')\"\r\n                                }}></div>\r\n                                <p className={\"regularText\"}>{this.state.listing.sendername}</p>\r\n                            </div>\r\n                            <Link>\r\n                                <button className={styles.historyHalfCta + ' regularTextMedium'}>Accept</button>\r\n                                <button className={styles.historyHalfCta + ' regularTextMedium'}>Decline</button>\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            } else if (this.state.cardType === \"purchase\") {\r\n                let fullDate = new Date(this.state.listing.timestamp);\r\n                let months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n                let purchaseDate = months[fullDate.getMonth()] + \" \" + fullDate.getDate() + \", \" + fullDate.getFullYear();\r\n                let purchasePrice = this.state.listing.buynowprice;\r\n                if (this.state.listing.offeramount) {\r\n                    purchasePrice = this.state.listing.offeramount;\r\n                }\r\n                return (\r\n                    <div className={styles.historyCardContainer}>\r\n                        <div id={styles.historyTopContainer}>\r\n                            <div style={{ backgroundImage: this.state.listing.pictures[0] && this.state.listing.pictures[0].length > 0 ? \"url('\" + this.state.listing.pictures[0] + \"')\" : \"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/image.svg')\" }} className={styles.listingMainPicture}></div>\r\n                            <div className={styles.historyTitleContainer}>\r\n                                <p className={\"title2 \" + styles.regularText}>{this.state.listing.title}</p>\r\n                                <p className={\"regularText \" + styles.regularText}>{purchaseDate}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div id={styles.historyTotalContainer}>\r\n                            {/* <p className={\"regularText \" + styles.regularText}>Received</p> */}\r\n                            <p className={\"regularTextBold \" + styles.regularText}>Total: {integerToMoneyString(purchasePrice)}</p>\r\n                            <p className={\"regularText \" + styles.regularText}>Generating receipt...</p>\r\n                        </div>\r\n                        <div id={styles.historyBottomContainer}>\r\n                            <Link to={\"/user?id=\" + this.state.listing.sellerid}>\r\n                                <div id={styles.historySellerInfoContainer}>\r\n                                    <div id={styles.historySellerPicture} style={{\r\n                                        backgroundImage: !this.state.listing.profilepicture || this.state.listing.profilepicture.length == 0 ? \"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/smiley.svg')\" : \"url('\" + this.state.listing.profilepicture + \"')\"\r\n                                    }}></div>\r\n                                    <p className={\"regularText\"}>{this.state.listing.name}</p>\r\n                                </div>\r\n                            </Link>\r\n                            <Link>\r\n                                {\r\n                                    this.state.listing.issellerreviewed == true ?\r\n                                        null\r\n                                        :\r\n                                        <button className={styles.historyCta + ' regularTextMedium'} onClick={this.props.reviewSeller}>Review seller</button>\r\n                                }\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(Index);\r\n","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\ProfileLinks.js",["518","519","520","521","522","523","524"],"import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport styles from \"public/style/profileLinks.module.css\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { logoutUser } from \"../reduxActions/authActions\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\nclass ProfileLinks extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            userName: \"\",\r\n            profilePicture: \"\"\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get(window.api_prefix+\"/loggedInUserProfile\").then(resp => {\r\n            this.setState({\r\n                userName: resp.data.name,\r\n                profilePicture: resp.data.profilepicture\r\n            });\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id={styles.pageBody}>\r\n                <div id={styles.topBar}>\r\n                    <div style={{\r\n                        backgroundImage: !this.state.profilePicture || this.state.profilePicture.length == 0 ? \"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/smiley.svg')\" : \"url('\" + this.state.profilePicture + \"')\"\r\n                    }}></div>\r\n                    <p className={\"regularTextMedium\"}>@{this.state.userName}</p>\r\n                </div>\r\n                <div id={styles.mainBody}>\r\n                    <Link to=\"/new-listing\">\r\n                        <p className={\"regularTextMedium\"}><img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/diff-added.svg\" />Create a listing</p>\r\n                    </Link>\r\n                    <Link to=\"/my-purchases\">\r\n                        <p className={\"regularTextMedium\"}><img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/tag.svg\" />Buying</p>\r\n                    </Link>\r\n                    <Link to=\"/my-listings\">\r\n                        <p className={\"regularTextMedium\"}><img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/list-unordered.svg\" />Selling</p>\r\n                    </Link>\r\n                    <Link to=\"/account\">\r\n                        <p className={\"regularTextMedium\"}><img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/person.svg\" />Edit profile</p>\r\n                    </Link>\r\n                    <Link to=\"/following\">\r\n                        <p className={\"regularTextMedium\"}><img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/people.svg\" />Following</p>\r\n                    </Link>\r\n                    <Link to=\"/faq\">\r\n                        <p className={\"regularTextMedium\"}><img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/unverified.svg\" />FAQ</p>\r\n                    </Link>\r\n                    <p className={\"regularText\"}>About</p>\r\n                    <p className={\"regularText\"}>Contact: contact@joincambio.com</p>\r\n                </div>\r\n                <div id={styles.bottomBar} onClick={this.props.logoutUser}>\r\n                    <p className={\"regularText\"} >Logout</p>\r\n                </div>\r\n                <MobileBottomNav {...this.props} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nProfileLinks.propTypes = {\r\n    logoutUser: PropTypes.func.isRequired,\r\n    auth: PropTypes.object.isRequired\r\n};\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth\r\n});\r\nexport default connect(\r\n    mapStateToProps,\r\n    { logoutUser }\r\n)(ProfileLinks);","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\Account.js",["525","526","527","528","529","530","531"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Footer from \"microComponents/Footer.js\";\r\nimport styles from \"public/style/account.module.css\";\r\nimport DesktopTopNav from \"microComponents/DesktopTopNav.js\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\n\r\nclass Profile extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username:\"\",\r\n            bio: \"\",\r\n            profilePicture: null,\r\n            bioInput: \"\",\r\n            profilePictureInput: null,\r\n            profilePicturePreview: \"\",\r\n            shippingAddress:\"\",\r\n            shippingInput:\"\"\r\n        }\r\n        this.pictureInputRef = React.createRef();\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleImageUpload = this.handleImageUpload.bind(this);\r\n        this.removePicture = this.removePicture.bind(this);\r\n        this.saveChanges = this.saveChanges.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get(window.api_prefix+\"/loggedInUserProfile\").then((res) => {\r\n            let info = res.data;\r\n            let profilePic = info.profilepicture ? info.profilepicture : null;\r\n            this.setState({\r\n                username:info.name,\r\n                profilePicture: profilePic,\r\n                bio: info.bio ? info.bio : \"\",\r\n                profilePictureInput: profilePic,\r\n                profilePicturePreview: profilePic,\r\n                bioInput: info.bio ? info.bio : \"\",\r\n                shippingInput: info.shippingaddress ? info.shippingaddress:\"\",\r\n                shippingAddress: info.shippingaddress ? info.shippingaddress:\"\"\r\n            });\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                this.setState({\r\n                    dataIsLoading: false,\r\n                    errorMessage: err.response.data.message\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    saveChanges(e) {\r\n        let reqObj = {};\r\n        if (this.state.bio != this.state.bioInput) {\r\n            reqObj.bio = this.state.bioInput;\r\n        }\r\n        if(this.state.shippingAddress != this.state.shippingInput){\r\n            reqObj.shippingAddress = this.state.shippingInput;\r\n        }\r\n        this.setState((prevState) => ({\r\n            bio: prevState.bioInput,\r\n            shippingAddress: prevState.shippingInput\r\n        }));\r\n        axios.post(window.api_prefix+\"/updateProfile\", reqObj).then(resp => {\r\n\r\n        }).catch(err => {\r\n\r\n        });\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        const { name, value } = e.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    removePicture() {\r\n        this.setState({\r\n            profilePictureInput: null,\r\n            profilePicturePreview: \"\"\r\n        });\r\n        axios.post(window.api_prefix+\"/removeProfilePicture\").then(resp => {\r\n\r\n        }).catch(err => {\r\n\r\n        });\r\n    }\r\n\r\n    handleImageUpload(e) {\r\n        let file = e.target.files;\r\n\r\n        try {\r\n            if (!file) {\r\n                throw new Error('Select a file first!');\r\n            }\r\n            const formData = new FormData();\r\n            formData.append('file', file[0]);\r\n            axios.post(window.api_prefix+`/uploadProfilePicture`, formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data',\r\n                },\r\n            }).then(resp => {\r\n                console.log(resp);\r\n            });\r\n            this.setState({\r\n                profilePictureInput: this.pictureInputRef.current.files[0],\r\n                profilePicturePreview: URL.createObjectURL(this.pictureInputRef.current.files[0])\r\n            });\r\n            this.pictureInputRef.current.value = null;\r\n        } catch (error) {\r\n            // handle error\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.onscroll = undefined;\r\n        document.onclick = undefined;\r\n    }\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n\r\n        let profilePictureDiv;\r\n        if (this.state.profilePictureInput != null) {\r\n            profilePictureDiv = (\r\n                <div>\r\n                    <label style={{ display: \"inline-block\", position: \"relative\", verticalAlign: \"middle\" }} htmlFor={styles.fileInput}>\r\n                        <div className={styles.pictureSquare} style={{ backgroundImage: \"url('\" + this.state.profilePicturePreview + \"')\" }}>\r\n                            <div>\r\n                                <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/pencil.svg\" />\r\n                            </div>\r\n                        </div>\r\n                    </label>\r\n                    <button id={styles.deletePicButton} className={\"regularTextMedium buttonCta\"} onClick={this.removePicture}>Delete picture</button>\r\n                </div>\r\n\r\n            );\r\n        } else {\r\n            profilePictureDiv = (\r\n                <div>\r\n                    <label id={styles.fileInputLabel} htmlFor={styles.fileInput}>\r\n                        <div>\r\n                            <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/plus.svg\" />\r\n                        </div>\r\n                    </label>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        let saveButton;\r\n        if (this.state.bio !== this.state.bioInput || this.state.shippingInput != this.state.shippingAddress) {\r\n            saveButton = (\r\n                <div id={styles.saveButtonContainer}>\r\n                    <button className={\"buttonCta\"} onClick={this.saveChanges}>Save changes</button>\r\n                </div>\r\n            );\r\n        }\r\n        return (\r\n            <div>\r\n                <div id={styles.topMainContainer}>\r\n                    <div className={styles.innerMainContainer}>\r\n                        <div className={styles.listingComponentsMainContainer}>\r\n                            <p className={styles.regularText + \" title1\"}>Edit @{this.state.username}'s profile</p>\r\n                        </div>\r\n\r\n                        <div className={styles.listingComponentsMainContainer}>\r\n                            <p className={\"regularText \" + styles.regularText}>Your profile picture</p>\r\n                            {profilePictureDiv}\r\n                            <input id={styles.fileInput} onChange={this.handleImageUpload} ref={this.pictureInputRef} type=\"file\" accept=\".jpg, .jpeg, .png, .svg\"></input>\r\n\r\n                        </div>\r\n                        <div className={styles.listingComponentsMainContainer}>\r\n                            <p className={\"regularText \" + styles.regularText}>Default shipping address</p>\r\n                            <input type={\"text\"} onChange={this.handleInputChange} name=\"shippingInput\" className={\"regularText inputText\"} id={styles.regularTextInput} value={this.state.shippingInput}></input>\r\n\r\n                            <p className={\"regularText \" + styles.regularText}>Your bio</p>\r\n                            <textarea onChange={this.handleInputChange} name=\"bioInput\" className={\"regularText inputText\"} id={styles.bioTextarea} value={this.state.bioInput}></textarea>\r\n                        </div>\r\n                        {saveButton}\r\n                    </div>\r\n                </div>\r\n\r\n                <Footer />\r\n                <MobileBottomNav {...this.props} />\r\n                <DesktopTopNav key={new Date().getTime()} {...this.props} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(Profile);\r\n","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\following.js",["532","533","534"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Footer from \"microComponents/Footer.js\";\r\nimport styles from \"public/style/account.module.css\";\r\nimport DesktopTopNav from \"microComponents/DesktopTopNav.js\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\n\r\nclass Following extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            following: [],\r\n            followedUsers: [],\r\n            suggestedTopics: []\r\n        }\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.toggleFollowing = this.toggleFollowing.bind(this);\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        const { name, value } = e.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        axios.get(window.api_prefix+\"/usersFollowed\").then((resp) => {\r\n            console.log(resp.data);\r\n            this.setState({\r\n                followedUsers: resp.data\r\n            });\r\n        });\r\n        this.setState({\r\n            following: [\r\n                {\r\n                    type: 0,\r\n                    userId: 32323,\r\n                    userPicture: \"ddsd\",\r\n                    userName: \"Mark\"\r\n                },\r\n                {\r\n                    type: 0,\r\n                    userId: 32323,\r\n                    userPicture: \"ddsd\",\r\n                    userName: \"John\"\r\n                },\r\n                {\r\n                    type: 0,\r\n                    userId: 32323,\r\n                    userPicture: \"ddsd\",\r\n                    userName: \"Mike\"\r\n                },\r\n                {\r\n                    type: 0,\r\n                    userId: 32323,\r\n                    userPicture: \"ddsd\",\r\n                    userName: \"Gino\"\r\n                },\r\n                {\r\n                    type: 0,\r\n                    userId: 32323,\r\n                    userPicture: \"ddsd\",\r\n                    userName: \"Jane\"\r\n                },\r\n                {\r\n                    type: 1,\r\n                    stringValue: \"iphone X black 32Gb\",\r\n                    filters: [\r\n\r\n                    ]\r\n                },\r\n                {\r\n                    type: 1,\r\n                    stringValue: \"iphone 7\",\r\n                    filters: [\r\n\r\n                    ]\r\n                },\r\n                {\r\n                    type: 1,\r\n                    stringValue: \"3D print\",\r\n                    filters: [\r\n\r\n                    ]\r\n                },\r\n                {\r\n                    type: 2,\r\n                    id: 23,\r\n                    stringValue: \"3D printer\"\r\n                }\r\n            ],\r\n            suggestedTopics: [\r\n                {\r\n                    type: 2,\r\n                    id: 23,\r\n                    stringValue: \"3D printer\"\r\n                },\r\n                {\r\n                    type: 2,\r\n                    id: 2,\r\n                    stringValue: \"Apple\"\r\n                }\r\n            ]\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.onscroll = undefined;\r\n        document.onclick = undefined;\r\n    }\r\n    toggleFollowing(id, indexArray) {\r\n        axios.post(window.api_prefix+\"/followUser\", { id: id }).then().catch();\r\n        let currentFollowedUsers = this.state.followedUsers;\r\n        currentFollowedUsers.splice(indexArray, 1);\r\n        this.setState({\r\n            followedUsers: currentFollowedUsers\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n\r\n        let userFollowings = <p>You still don't following any user. Visit people's profile and follow them to have items they post in your feed.</p>\r\n        if (this.state.followedUsers.length > 0) {\r\n            userFollowings = this.state.followedUsers.map((user, key) => {\r\n                return (\r\n                    <div key={key} className={styles.topicContainer}>\r\n                        <p className={\"regularText \" + styles.regularTextNoMargin}>@{user.name}</p><img onClick={() => { this.toggleFollowing(user.id, key) }} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/x.svg\" />\r\n                    </div>\r\n                );\r\n            });\r\n        }\r\n        // let topicFollowings = <p>No followings.</p>\r\n        // let suggestedTopics = <p>No more topics.</p>\r\n        // let userFollowingsArray = [];\r\n        // let topicFollowingsArray = [];\r\n\r\n\r\n        // let newSuggestedTopics = this.state.suggestedTopics;\r\n        // for (let i = 0; i < this.state.following.length; i++) {\r\n        //     if (this.state.following[i].type == 0) {\r\n        //         userFollowingsArray.push(\r\n        //             <div className={styles.topicContainer}>\r\n        //                 <p className={\"regularText \" + styles.regularTextNoMargin}>{this.state.following[i].userName}</p><img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/x.svg\" />\r\n        //             </div>\r\n        //         );\r\n        //     } else if (this.state.following[i].type == 1) {\r\n        //         topicFollowingsArray.push(\r\n        //             <div className={styles.topicContainer}>\r\n        //                 <p className={\"regularText \" + styles.regularTextNoMargin}>{this.state.following[i].stringValue}</p><img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/x.svg\" />\r\n        //             </div>\r\n        //         );\r\n        //     } else {\r\n\r\n        //         for (let j = 0; j < newSuggestedTopics.length; j++) {\r\n        //             if (newSuggestedTopics[j].id === this.state.following[i].id) {\r\n        //                 newSuggestedTopics.splice(j, 1);\r\n        //             }\r\n        //         }\r\n        //         topicFollowingsArray.push(\r\n        //             <div className={styles.topicContainer}>\r\n        //                 <p className={\"regularText \" + styles.regularTextNoMargin}>{this.state.following[i].stringValue}</p><img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/x.svg\" />\r\n        //             </div>\r\n        //         );\r\n        //     }\r\n        // }\r\n\r\n        // let suggestedTopicsArray = newSuggestedTopics.map((topic, key) => {\r\n        //     return (\r\n        //         <div key={key} className={styles.topicContainer}>\r\n        //             <p className={\"regularText \" + styles.regularTextNoMargin}>{topic.stringValue}</p><img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/plus.svg\" />\r\n        //         </div>\r\n        //     );\r\n        // });\r\n        // if (userFollowingsArray.length > 0) {\r\n        //     userFollowings =\r\n        //         <div>\r\n        //             {userFollowingsArray}\r\n        //         </div>\r\n        // }\r\n        // if (topicFollowingsArray.length > 0) {\r\n        //     topicFollowings =\r\n        //         <div>\r\n        //             {topicFollowingsArray}\r\n        //         </div>\r\n        // }\r\n        // if (newSuggestedTopics.length > 0) {\r\n        //     suggestedTopics =\r\n        //         <div>\r\n        //             {suggestedTopicsArray}\r\n        //         </div>\r\n        // }\r\n        return (\r\n            <div>\r\n                <div id={styles.topMainContainer}>\r\n                    <div className={styles.innerMainContainer}>\r\n                        <div className={styles.listingComponentsMainContainer}>\r\n                            <p className={styles.regularText + \" title1\"}>Users you follow</p>\r\n                        </div>\r\n                        <div className={styles.listingComponentsMainContainer}>\r\n                            {/*<p className={\"regularTextMedium \" + styles.regularText}>Users you follow</p>*/}\r\n                            {userFollowings}\r\n                        </div>\r\n                        {/* <div className={styles.listingComponentsMainContainer}>\r\n                            <p className={\"regularTextMedium \" + styles.regularText}>Followed topics</p>\r\n                            {topicFollowings}\r\n                        </div>\r\n                        <div className={styles.listingComponentsMainContainer}>\r\n                            <p className={\"regularTextMedium \" + styles.regularText}>Suggested topics</p>\r\n                            {suggestedTopics}\r\n                        </div> */}\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <Footer />\r\n                <MobileBottomNav {...this.props} />\r\n                <DesktopTopNav key={new Date().getTime()} {...this.props} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(Following);\r\n","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\NewListing.js",["535","536","537","538","539","540","541","542","543","544","545","546","547","548","549","550","551","552","553","554","555","556","557","558","559","560","561","562","563","564","565","566","567"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Footer from \"microComponents/Footer.js\";\r\nimport styles from \"public/style/newListing.module.css\";\r\nimport DesktopTopNav from \"microComponents/DesktopTopNav.js\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\nimport queryString from \"query-string\";\r\nimport {integerMoneyToDecimal, integerToMoneyString} from \"miscFunctions\";\r\nimport Spinner from \"microComponents/LoaderAnimation\";\r\nimport Modal from \"../microComponents/Modal\";\r\n\r\n\r\nclass NewListing extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            title: \"\",\r\n            category: 1,\r\n            price: 1,\r\n            description: \"\",\r\n            pictures: [],\r\n            condition: 0,\r\n            categoryOptions: [],\r\n            filterTypes: [],\r\n            listingId: 0,\r\n            listingMode: 0, //0 = new listing, 1 = edit listing, 2 = draft mode\r\n            formError: \"\",\r\n            isDataLoading: false,\r\n            currentPage:0,\r\n\r\n\r\n            predefItemSearch:\"\",\r\n            isUnlistedItemModalDisplayed:false,\r\n            recommendItemInput:\"\",\r\n            blockAutofillDiv:false,\r\n            predefItemsSearchResult:[],\r\n            predefItemId:-1,\r\n            predefItemName:\"\"\r\n        }\r\n\r\n        this.pictureInputRef = React.createRef();\r\n        this.predefItemAutofillRef = React.createRef();\r\n        this.predefItemInputRef = React.createRef();\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleImageUpload = this.handleImageUpload.bind(this);\r\n        this.removePicture = this.removePicture.bind(this);\r\n        this.handleFilterValueChange = this.handleFilterValueChange.bind(this);\r\n        this.postListing = this.postListing.bind(this);\r\n        // this.fetchFilters = this.fetchFilters.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        let listingId;\r\n        let listingMode;\r\n        if (queryString.parse(window.location.search).listingid && queryString.parse(window.location.search).listingmode) {\r\n            listingId = queryString.parse(window.location.search).listingid;\r\n            listingMode = queryString.parse(window.location.search).listingmode;\r\n            if (listingMode == 1 || listingMode == 2) {\r\n                axios.get(window.api_prefix+\"/listingDetails?id=\" + listingId).then(resp => {\r\n                    let listingDetails = resp.data.listingDetails;\r\n                    let filters = resp.data.filters;\r\n                    if (listingDetails) {\r\n                        this.setState({\r\n                            title: listingDetails.title,\r\n                            price: integerMoneyToDecimal(listingDetails.price),\r\n                            condition: listingDetails.condition,\r\n                            description: listingDetails.description,\r\n                            pictures: listingDetails.pictures,\r\n                            category: listingDetails.categoryid,\r\n                            listingMode: 1,\r\n                            currentPage:1,\r\n                            listingId: listingId\r\n                        });\r\n                        // this.fetchFilters(listingDetails.categoryid, () => {\r\n                        //     let currentFilters = this.state.filterTypes;\r\n                        //     for (let i = 0; i < currentFilters.length; i++) {\r\n                        //         for (let j = 0; j < filters.length; j++) {\r\n                        //             if (currentFilters[i].id == filters[j].filtertypeid) {\r\n                        //                 if (currentFilters[i].type == 0) {\r\n                        //                     currentFilters[i].userSelection = filters[j].value;\r\n                        //                 } else if (currentFilters[i].type == 1) {\r\n                        //                     if (filters[j].value == -1) {\r\n                        //                         currentFilters[i].searchValue = filters[j].textvalue;\r\n                        //                     } else {\r\n                        //                         currentFilters[i].searchValue = \"\";\r\n                        //                         let optionIndex = 0;\r\n                        //                         for (let k = 0; k < currentFilters[i].options.length; k++) {\r\n                        //                             if (currentFilters[i].options[k].value == filters[j].value) {\r\n                        //                                 optionIndex = k;\r\n                        //                                 break;\r\n                        //                             }\r\n                        //                         }\r\n                        //                         currentFilters[i].searchValue = optionIndex;\r\n                        //                     }\r\n                        //                 } else if (currentFilters[i].type == 2) {\r\n                        //                     currentFilters[i].userSelection = filters[j].value;\r\n                        //                 }\r\n                        //                 filters.splice(j, 1);\r\n                        //                 break;\r\n                        //             }\r\n                        //         }\r\n                        //     }\r\n                        //     this.setState({\r\n                        //         filterTypes: currentFilters\r\n                        //     });\r\n                        // });\r\n                    } else {\r\n                        this.setState({\r\n                            listingMode: 0\r\n                        });\r\n                    }\r\n                });\r\n            } else {\r\n                // this.fetchFilters(1, null);\r\n                this.setState({\r\n                    listingMode: 0\r\n                });\r\n            }\r\n        } else {\r\n            // this.fetchFilters(1, null);\r\n            this.setState({\r\n                listingMode: 0\r\n            });\r\n        }\r\n        axios.get(window.api_prefix+\"/allLeafCategories\").then(resp => {\r\n            this.setState({\r\n                categoryOptions: resp.data\r\n            });\r\n        }).catch();\r\n\r\n\r\n        document.addEventListener(\"click\", (e) => {\r\n            if (this.predefItemAutofillRef.current) {\r\n                //search suggest is active\r\n                if (e.target !== this.predefItemAutofillRef.current && !e.target.classList.contains(styles.predefItemAutoFillInnerContainer)) {\r\n                    this.setState({\r\n                        blockAutofillDiv:true\r\n                    })\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        const {name, value} = e.target;\r\n        if (name == \"category\") {\r\n            // this.fetchFilters(value);\r\n            this.setState({\r\n                [name]: value\r\n            });\r\n        } else if(name == \"predefItemSearch\"){\r\n            this.setState({\r\n                [name]: value,\r\n                blockAutofillDiv:false,\r\n                predefItemsSearchResult:[]\r\n            });\r\n            if(value.length>0){\r\n                axios.get(window.api_prefix+\"/searchPredefItemsByName?search=\"+value).then(resp=>{\r\n                    this.setState({\r\n                        predefItemsSearchResult:resp.data\r\n                    })\r\n                }).catch();\r\n            }\r\n        }else{\r\n            this.setState({\r\n                [name]: value\r\n            });\r\n        }\r\n    }\r\n\r\n    handleFilterValueChange(arrayIndex, event) {\r\n        let allFilters = this.state.filterTypes;\r\n        let currentFilter = allFilters[arrayIndex];\r\n        if (currentFilter.type == 0) {\r\n            currentFilter.userSelection = event.target.value;\r\n        } else if (currentFilter.type == 1) {\r\n            currentFilter.userSelection = event.target.value;\r\n            currentFilter.searchValue = \"\";\r\n        } else if (currentFilter.type == 2) {\r\n            currentFilter.userSelection = event.target.value;\r\n        }\r\n        allFilters[arrayIndex] = currentFilter;\r\n        this.setState({\r\n            filterTypes: allFilters\r\n        });\r\n    }\r\n\r\n    handleCustomFilterValueChange(arrayIndex, event) {\r\n        let allFilters = this.state.filterTypes;\r\n        let currentFilter = allFilters[arrayIndex];\r\n        currentFilter.searchValue = event.target.value;\r\n        allFilters[arrayIndex] = currentFilter;\r\n        this.setState({\r\n            filterTypes: allFilters\r\n        });\r\n    }\r\n\r\n    removePicture(index) {\r\n        let currentPictures = this.state.pictures;\r\n        currentPictures.splice(index, 1);\r\n        // axios.post(window.api_prefix+\"/removeListingPicture\").then(resp => {\r\n\r\n        // }).catch(err => {\r\n\r\n        // });\r\n        this.setState({\r\n            pictures: currentPictures\r\n        });\r\n    }\r\n\r\n    handleImageUpload(e) {\r\n        let file = e.target.files;\r\n        try {\r\n            if (!file) {\r\n                throw new Error('Select a file first!');\r\n            }\r\n            let availableNbPictures = 5 - this.state.pictures.length;\r\n            let nbPicturesCompleted = 0;\r\n            this.setState({\r\n                isDataLoading: true\r\n            });\r\n            let nbFiles = file.length;\r\n            for (let i = 0; i < nbFiles; i++) {\r\n                if (i >= availableNbPictures) {\r\n                    this.setState({\r\n                        isDataLoading: false,\r\n                        formError: \"You have uploaded the maximum number of pictures. Only \" + availableNbPictures + \" pictures were uploaded.\"\r\n                    });\r\n                    return;\r\n                }\r\n                let fileName = file[i].name;\r\n                const formData = new FormData();\r\n                formData.append('file', file[i]);\r\n                axios.post(window.api_prefix+`/uploadListingPicture`, formData, {\r\n                    headers: {\r\n                        'Content-Type': 'multipart/form-data',\r\n                    },\r\n                }).then(resp => {\r\n                    nbPicturesCompleted++;\r\n                    if (nbPicturesCompleted == nbFiles) {\r\n                        this.setState({\r\n                            isDataLoading: false\r\n                        });\r\n                    }\r\n                    let currentPictures = this.state.pictures;\r\n                    currentPictures.push(resp.data.Location);\r\n                    this.setState({\r\n                        pictures: currentPictures\r\n                    });\r\n                }).catch(err => {\r\n                    if (err.response) {\r\n                        this.setState({\r\n                            isDataLoading: false,\r\n                            formError: \"Your file \" + fileName + \" could not be uploaded, please try again.\"\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n            this.pictureInputRef.current.value = null;\r\n        } catch (error) {\r\n            // handle error\r\n            this.setState({\r\n                isDataLoading: false\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    postListing() {\r\n        // let filters = this.state.filterTypes;\r\n        // let title = this.state.title;\r\n        // let cat = this.state.category;\r\n        let price = this.state.price;\r\n        let description = this.state.description;\r\n        let condition = this.state.condition;\r\n        let predefType = this.state.predefItemId;\r\n        let predefTypeName = this.state.predefItemName;\r\n\r\n        let pictures = this.state.pictures;\r\n\r\n        // let filtersType0 = [];\r\n        // let filtersType1Custom = [];\r\n        // let filtersType1Predefined = [];\r\n        // let filtersType2 = [];\r\n        // for (let i = 0; i < filters.length; i++) {\r\n        //     if (filters[i].type == 0) {\r\n        //         filtersType0.push({ id: filters[i].id, value: filters[i].userSelection });\r\n        //     } else if (filters[i].type == 1) {\r\n        //         if (filters[i].userSelection == -1 || filters[i].searchValue.length > 0) {\r\n        //             filtersType1Custom.push({ id: filters[i].id, searchValue: filters[i].searchValue });\r\n        //         } else {\r\n        //             let value = filters[i].options[filters[i].userSelection].id;\r\n        //             filtersType1Predefined.push({ id: filters[i].id, value: value });\r\n        //         }\r\n        //     } else if (filters[i].type == 2) {\r\n        //         filtersType2.push({ id: filters[i].id, value: filters[i].userSelection });\r\n        //     }\r\n        // }\r\n\r\n        // if (title.length > 0 && title.length < 255) {\r\n        //     if (price.toString().length > 0 && price.toString().length < 255) {\r\n        //         if (description.length > 0 && description.length < 255) {\r\n        //             if (pictures.length > 0) {\r\n        //                 if (pictures.length < 6) {\r\n        //                     for (let i = 0; i < filters.length; i++) {\r\n        //                         console.log(filters[i]);\r\n        //                     }\r\n        //\r\n        //                     let reqObj = { listingId: this.state.listingId, title: title, cat: cat, price: price, description: description, condition: condition, pictures: pictures, filtersType0: filtersType0, filtersType1Custom: filtersType1Custom, filtersType1Predefined: filtersType1Predefined, filtersType2 };\r\n        //                     if (this.state.listingMode == 1) {\r\n        //                         axios.post(window.api_prefix+\"/editListing\", reqObj).then((resp) => {\r\n        //                             this.props.history.push(\"/my-listings\");\r\n        //                         });\r\n        //                     } else {\r\n        //                         axios.post(window.api_prefix+\"/postListing\", reqObj).then(resp => {\r\n        //                             this.props.history.push(\"/verifyListing?id=\" + resp.data.listingId);\r\n        //                         });\r\n        //                     }\r\n        //                 } else {\r\n        //                     this.setState({\r\n        //                         formError: \"You have exceeded the amount of authorized pictures. Please remove at least 1 picture.\"\r\n        //                     });\r\n        //                 }\r\n        //             } else {\r\n        //                 this.setState({\r\n        //                     formError: \"Please upload at least 1 picture.\"\r\n        //                 });\r\n        //             }\r\n        //         } else {\r\n        //             this.setState({\r\n        //                 formError: \"Your listing description should be between 1 and 255 characters.\"\r\n        //             });\r\n        //         }\r\n        //     } else {\r\n        //         this.setState({\r\n        //             formError: \"Please fill in a listing price.\"\r\n        //         });\r\n        //     }\r\n        // } else {\r\n        //     this.setState({\r\n        //         formError: \"Your listing title should be between 1 and 255 characters.\"\r\n        //     });\r\n        // }\r\n\r\n        if(this.state.listingMode == 1 || (predefType != -1 && predefTypeName.length>0)){\r\n            if (price.toString().length > 0 && price.toString().length < 255) {\r\n                if (description.length < 255) {\r\n                    if (pictures.length > 0) {\r\n                        if (pictures.length < 6) {\r\n                            let reqObj = { listingId: this.state.listingId, predefTypeName:predefTypeName, price: price, description: description, condition: condition, pictures: pictures, predefType:predefType};\r\n                            if (this.state.listingMode == 1) {\r\n                                axios.post(window.api_prefix+\"/editListing\", reqObj).then((resp) => {\r\n                                    this.props.history.push(\"/my-listings\");\r\n                                });\r\n                            } else {\r\n                                axios.post(window.api_prefix+\"/postListing\", reqObj).then(resp => {\r\n                                    this.props.history.push(\"/verifyListing?id=\" + resp.data.listingId);\r\n                                });\r\n                            }\r\n                        } else {\r\n                            this.setState({\r\n                                formError: \"You have exceeded the amount of authorized pictures. Please remove at least 1 picture.\"\r\n                            });\r\n                        }\r\n                    } else {\r\n                        this.setState({\r\n                            formError: \"Please upload at least 1 picture.\"\r\n                        });\r\n                    }\r\n                } else {\r\n                    this.setState({\r\n                        formError: \"Your listing description should be between 1 and 255 characters.\"\r\n                    });\r\n                }\r\n            } else {\r\n                this.setState({\r\n                    formError: \"Please fill in a listing price.\"\r\n                });\r\n            }\r\n        }else{\r\n            this.setState({\r\n                formError: \"Please select an item type that we accept.\"\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n        let smallPictures = [];\r\n        //start from second picture\r\n        if (this.state.pictures.length > 1) {\r\n            for (let i = 1; i < this.state.pictures.length; i++) {\r\n                smallPictures.push(<div key={i} style={{ backgroundImage: \"url('/assets/landingPage/stockPic3.jpg')\" }} className={styles.smallPictureImg}></div>);\r\n            }\r\n        }\r\n\r\n\r\n\r\n        let categoriesOptions = this.state.categoryOptions.map((cat, key) => {\r\n            return (\r\n                <option key={key} value={cat.id}>{cat.name}</option>\r\n            );\r\n        });\r\n\r\n        let conditionsOptionsArray = [\r\n            {\r\n                id: 0,\r\n                name: \"New (sealed)\"\r\n            },\r\n            {\r\n                id: 1,\r\n                name: \"Like new\"\r\n            },\r\n            {\r\n                id: 2,\r\n                name: \"Lightly used\"\r\n            },\r\n            {\r\n                id: 3,\r\n                name: \"Used\"\r\n            },\r\n            {\r\n                id: 4,\r\n                name: \"Broken\"\r\n            },\r\n            {\r\n                id: 5,\r\n                name: \"For parts\"\r\n            }\r\n        ];\r\n\r\n        let conditionsOptions = conditionsOptionsArray.map((cond, key) => {\r\n            return (\r\n                <option key={key} value={cond.id}>{cond.name}</option>\r\n            );\r\n        });\r\n\r\n\r\n        let filtersList;\r\n        if (this.state.filterTypes.length > 0) {\r\n            filtersList = this.state.filterTypes.map((filter, key) => {\r\n\r\n                if (filter.type == 0) {\r\n                    return (\r\n                        <div key={key}>\r\n                            <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>{filter.name}?</p>\r\n                            <select value={filter.userSelection} onChange={this.handleFilterValueChange.bind(this, key)} className={styles.selectInput + \" regularText\"}>\r\n                                <option value=\"0\">No</option>\r\n                                <option value=\"1\">Yes</option>\r\n                            </select>\r\n                        </div>\r\n                    );\r\n                } else if (filter.type == 1) {\r\n                    let options = filter.options.map((option, key) => {\r\n                        return (\r\n                            <option value={key} key={key}>{option.textvalue}</option>\r\n                        );\r\n                    });\r\n                    let inputValue = \"\";\r\n                    if (filter.searchValue.length > 0 || filter.options.length == 0) {\r\n                        inputValue = filter.searchValue;\r\n                    } else {\r\n                        inputValue = filter.options[filter.userSelection].textvalue;\r\n                    }\r\n                    return (\r\n                        <div key={key}>\r\n                            <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>{filter.name}</p>\r\n                            <input type=\"text\" className={styles.textInput + \" regularText\"} value={inputValue} onChange={this.handleCustomFilterValueChange.bind(this, key)} ></input>\r\n                            {\r\n                                filter.options.length > 0 ?\r\n                                    <select value={filter.userSelection} onChange={this.handleFilterValueChange.bind(this, key)} className={styles.selectInput + \" regularText\"}>\r\n                                        {options}\r\n                                    </select>\r\n                                    :\r\n                                    null\r\n                            }\r\n                        </div>\r\n                    );\r\n                } else if (filter.type == 2) {\r\n                    return (\r\n                        <div key={key}>\r\n                            <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}># {filter.name}</p>\r\n                            <input type=\"number\" className={styles.textInput + \" regularText\"} step=\"1\" min=\"0\" max=\"1000\" value={filter.userSelection} onChange={this.handleFilterValueChange.bind(this, key)} ></input>\r\n                        </div>\r\n                    );\r\n                }\r\n            });\r\n        } else {\r\n            filtersList = null;\r\n        }\r\n        let pageTitle = \"New listing\";\r\n\r\n        if (this.state.listingMode == 1) {\r\n            pageTitle = \"Edit listing\";\r\n        } else if (this.state.listingMode == 2) {\r\n            pageTitle = \"Publish draft listing\";\r\n        }else if(this.state.listingMode == 0 && this.state.predefItemName.length>0){\r\n            pageTitle = \"Selling \"+this.state.predefItemName;\r\n        }\r\n\r\n        let picturePreviews = this.state.pictures.map((pics, key) => {\r\n            return (\r\n                <div key={key} className={styles.pictureSquare} onClick={() => this.removePicture(key)} style={{ backgroundImage: \"url('\" + pics + \"')\" }}>\r\n                    <div>\r\n                        <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/x.svg\" />\r\n                    </div>\r\n                </div>\r\n            );\r\n        });\r\n\r\n        let predefItemAutofill = null;\r\n        if(this.predefItemInputRef.current){\r\n            let autofillInputPos = this.predefItemInputRef.current.getBoundingClientRect();\r\n            if(this.state.currentPage != 1 && this.state.predefItemSearch.length > 0 && this.state.blockAutofillDiv == false){\r\n                predefItemAutofill = (\r\n                    <div id={styles.predefItemAutofillContainer} style={{left:autofillInputPos.left, top:autofillInputPos.top+50, width:this.predefItemInputRef.current.offsetWidth}} ref={this.predefItemAutofillRef}>\r\n                        {this.state.predefItemsSearchResult.length == 0 ?\r\n                            <p>No result</p>\r\n                            :\r\n                            this.state.predefItemsSearchResult.map((item, key)=>{\r\n                                return (\r\n                                    <div className={styles.predefItemAutofillInnerContainer} key={key} onClick={()=>{\r\n                                        this.setState(prevState=>({\r\n                                            currentPage:1,\r\n                                            predefItemId:prevState.predefItemsSearchResult[key].id,\r\n                                            predefItemName:prevState.predefItemsSearchResult[key].title\r\n                                        }));\r\n                                    }}>\r\n                                        <p>{item.title}</p>\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                );\r\n            }\r\n        }\r\n\r\n    let currentPage;\r\n        if(this.state.currentPage == 1){\r\n            currentPage = (\r\n                <div id={styles.formContainer}>\r\n                    <p className={styles.regularText + \" title1\"}>{pageTitle}</p>\r\n                    {/*<p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>Title</p>*/}\r\n                    {/*<input className={styles.textInput + \" regularText\"} name=\"title\" value={this.state.title} onChange={this.handleInputChange} type=\"text\"></input>*/}\r\n                    <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>In what condition is the item?</p>\r\n                    <select value={this.state.condition} onChange={this.handleInputChange} className={styles.selectInput + \" regularText\"} name=\"condition\">\r\n                        {conditionsOptions}\r\n                    </select>\r\n                    <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>At what price will your item be listed?</p>\r\n                    <input min=\"1\" step=\"0.05\" className={styles.textInput + \" regularText\"} name=\"price\" value={this.state.price} onChange={this.handleInputChange} type=\"number\"></input>\r\n\r\n\r\n                    {/*<p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>Category</p>*/}\r\n                    {/*<select value={this.state.category} onChange={this.handleInputChange} className={styles.selectInput + \" regularText\"} name=\"category\">*/}\r\n                    {/*    {categoriesOptions}*/}\r\n                    {/*</select>*/}\r\n\r\n                    <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>List all defects, errors, missing parts your item might have</p>\r\n                    <textarea id={styles.descriptionTextarea} name=\"description\" value={this.state.description} onChange={this.handleInputChange}></textarea>\r\n                    {/* {filtersList} */}\r\n                    <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>Pictures</p>\r\n                    {picturePreviews}\r\n                    {\r\n                        this.state.pictures.length < 5 ?\r\n                            <label id={styles.fileInputLabel} htmlFor={styles.fileInput}>\r\n                                <div>\r\n                                    <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/plus.svg\" />\r\n                                </div>\r\n                            </label>\r\n                            :\r\n                            null\r\n                    }\r\n                    <input id={styles.fileInput} onChange={this.handleImageUpload} ref={this.pictureInputRef} type=\"file\" accept=\".jpg, .jpeg, .png, .svg\" multiple></input>\r\n                    <p>{this.state.formError}</p>\r\n                    <button className={\"buttonCta regularTextMedium \" + styles.ctaButton} onClick={this.postListing}>List now</button>\r\n                </div>\r\n            );\r\n        }else{\r\n            currentPage = (\r\n                <div id={styles.formContainer}>\r\n                    <p className={styles.regularText + \" title1\"}>{pageTitle}</p>\r\n                    <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>What item are you selling?</p>\r\n                    <input ref={this.predefItemInputRef} className={styles.textInput + \" regularText\"} placeholder={\"search for brand, model, color, storage\"} name=\"predefItemSearch\" value={this.state.predefItemSearch} onChange={this.handleInputChange} type=\"text\"></input>\r\n                    <p>{this.state.formError}</p>\r\n                    <p onClick={()=>{this.setState({isUnlistedItemModalDisplayed:true})}} className={\"regularText \"+styles.regularText} style={{textDecoration:\"underline\", cursor:\"pointer\"}}>Your item is not listed?</p>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <div id={styles.topMainContainer}>\r\n                    {currentPage}\r\n                </div>\r\n                {predefItemAutofill}\r\n\r\n                {\r\n                    this.state.isDataLoading == true ?\r\n                        <Spinner />\r\n                        :\r\n                        null\r\n                }\r\n\r\n                <Footer />\r\n                <MobileBottomNav {...this.props} />\r\n                <DesktopTopNav key={new Date().getTime()} {...this.props} />\r\n                <Modal title=\"Your item is not listed\" closeModal={() => {\r\n                    this.setState({\r\n                        isUnlistedItemModalDisplayed: false,\r\n                    })\r\n                }} show={this.state.isUnlistedItemModalDisplayed} description={\"Tell us what it is that you want to sell so we can quickly add it to our community. You'll be notified as soon as we add it.\"}>\r\n                    <input name=\"recommendItemInput\" value={this.state.recommendItemInput} className={\"regularText inputText\"} style={{width:\"100%\", height:\"50px\"}} onChange={this.handleInputChange} type=\"text\" placeholder=\"Item name\" />\r\n                    <div className=\"modalSubmitButtonDiv\">\r\n                        <button className=\"modalSubmitButton regularTextMedium buttonCta\" onClick={()=>{\r\n                            if(this.state.recommendItemInput.length>0){\r\n                                axios.post(window.api_prefix+\"/addPredefItemRecommendation\", {item:this.state.recommendItemInput});\r\n                                this.setState({\r\n                                    recommendItemInput:\"\",\r\n                                    isUnlistedItemModalDisplayed:false\r\n                                });\r\n                            }\r\n                        }}>Send item</button>\r\n                    </div>\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(NewListing);\r\n","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\Search.js",["568","569","570","571","572","573","574","575","576","577","578","579","580","581","582","583","584","585","586","587","588","589","590","591","592","593"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Footer from \"microComponents/Footer.js\";\r\nimport styles from \"public/style/search.module.css\";\r\nimport DesktopTopNav from \"microComponents/DesktopTopNav.js\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\nimport queryString from \"query-string\";\r\nimport ActivityTicker from \"microComponents/ActivityTicker\";\r\nimport Modal from \"microComponents/Modal\";\r\nimport ListingCard from \"microComponents/ListingCardSmallCard\";\r\nimport MobileSearch from \"../microComponents/MobileSearch\";\r\n\r\nclass SearchPage extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            textualSearchValue: \"...\",\r\n            category: 0,\r\n            filters: [],\r\n            isFiltersModalOpened: false,\r\n            results: [],\r\n            params: [],\r\n\r\n            categories:[],\r\n            isMobileSearchDisplayed:false\r\n        }\r\n        this.rebuildUrl = this.rebuildUrl.bind(this);\r\n        this.searchFromUrl = this.searchFromUrl.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        let params = queryString.parse(window.location.search);\r\n        if(typeof params.predefType != \"undefined\"){\r\n            axios.get(window.api_prefix+\"/getPredefTypeName?id=\" + params.predefType).then((resp) => {\r\n                this.setState({\r\n                    textualSearchValue: resp.data.title\r\n                });\r\n            });\r\n            this.searchFromUrl(params, false);\r\n        }else if (typeof params.cat != 'undefined') {\r\n            axios.get(window.api_prefix+\"/getCategoryName?id=\" + params.cat).then((resp) => {\r\n                this.setState({\r\n                    textualSearchValue: resp.data.name\r\n                });\r\n            });\r\n            this.setState({\r\n                category: params.cat,\r\n                params: params\r\n            });\r\n            this.searchFromUrl(params, true)\r\n        }\r\n        axios.get(window.api_prefix+\"/allCategories\").then(res => {\r\n            for (let i = 0; i < res.data.length; i++) {\r\n                if (res.data[i].parentid != null) {\r\n                    for (let j = 0; j < res.data.length; j++) {\r\n                        if (res.data[i].parentid === res.data[j].id) {\r\n                            if (res.data[j].children) {\r\n                                res.data[j].children.push(res.data[i]);\r\n                            } else {\r\n                                res.data[j].children = [res.data[i]];\r\n                            }\r\n                            res.data.splice(i, 1);\r\n                            i--;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.setState({\r\n                categories: res.data\r\n            });\r\n        }).catch();\r\n    }\r\n\r\n\r\n\r\n    rebuildUrl() {\r\n        let baseUrl = window.location.pathname + \"?\";\r\n        const allKeys = Object.keys(this.state.params);\r\n        allKeys.forEach((key) => {\r\n            if (this.state.params[key] instanceof Array) {\r\n                for (let i = 0; i < this.state.params[key].length; i++) {\r\n                    baseUrl += key + \"=\" + this.state.params[key][i] + \"&\";\r\n                }\r\n            } else {\r\n                baseUrl += key + \"=\" + this.state.params[key] + \"&\";\r\n            }\r\n        });\r\n        baseUrl = baseUrl.substring(0, baseUrl.length - 1);\r\n        this.props.history.push(baseUrl);\r\n        this.searchFromUrl(this.state.params, false);\r\n    }\r\n    valueIsPresent(elem, array) {\r\n        let element = elem.toString();\r\n        for (let i = 0; i < array.length; i++) {\r\n            if (element == array[i].toString()) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    searchFromUrl(params, isCategoryProvided) {\r\n        axios.post(window.api_prefix+\"/searchResults\", params).then(resp => {\r\n            this.setState({\r\n                results: resp.data\r\n            });\r\n        });\r\n        if(isCategoryProvided){\r\n            axios.get(window.api_prefix+\"/categoriesSpecificFilters?categoryId=\" + params.cat).then(resp => {\r\n                let filterNames = resp.data.filterNames;\r\n                let filterValues = resp.data.filterValues;\r\n                for (let i = 0; i < filterNames.length; i++) {\r\n                    if (filterNames[i].type == 0) {\r\n                        //Y/N filter\r\n\r\n                        if (typeof params[filterNames[i].id] != \"undefined\") {\r\n                            filterNames[i].value = params[filterNames[i].id];\r\n                        } else {\r\n                            filterNames[i].value = 0;\r\n                        }\r\n                        continue;\r\n                    } else if (filterNames[i].type == 1) {\r\n                        //CUSTOM or SELECT filter\r\n                        filterNames[i].options = [];\r\n                        filterNames[i].value = [];\r\n                        if (typeof params[filterNames[i].id] != \"undefined\") {\r\n                            if (params[filterNames[i].id] instanceof Array) {\r\n\r\n                                let searchOptions = params[filterNames[i].id];\r\n                                for (let j = 0; j < filterValues.length; j++) {\r\n                                    if (filterValues[j].filtertypeid == filterNames[i].id) {\r\n                                        console.log(filterValues[j].value);\r\n                                        console.log(searchOptions);\r\n                                        if (this.valueIsPresent(filterValues[j].value, searchOptions)) {\r\n                                            console.log(\"YEEE\");\r\n                                            filterNames[i].value.push(filterNames[i].options.length);\r\n                                        }\r\n                                        filterNames[i].options.push(filterValues[j]);\r\n                                    }\r\n                                }\r\n                            } else {\r\n                                let searchOptions = params[filterNames[i].id];\r\n                                for (let j = 0; j < filterValues.length; j++) {\r\n                                    if (filterValues[j].filtertypeid == filterNames[i].id) {\r\n                                        if (searchOptions == filterValues[j].value) {\r\n                                            filterNames[i].value.push(filterNames[i].options.length);\r\n                                        }\r\n                                        filterNames[i].options.push(filterValues[j]);\r\n                                    }\r\n                                }\r\n                            }\r\n                        } else {\r\n                            for (let j = 0; j < filterValues.length; j++) {\r\n                                if (filterValues[j].filtertypeid == filterNames[i].id) {\r\n                                    filterNames[i].options.push(filterValues[j]);\r\n                                }\r\n                            }\r\n                        }\r\n                        console.log(filterNames[i].value);\r\n                    } else if (filterNames[i].type == 2) {\r\n\r\n                        //number filter\r\n                        if (typeof params[filterNames[i].id] != \"undefined\") {\r\n                            filterNames[i].value = params[filterNames[i].id];\r\n                        } else {\r\n                            filterNames[i].value = 0;\r\n                        }\r\n                    }\r\n                }\r\n                console.log(\"--- - - - -- - - \");\r\n                console.log(filterNames);\r\n                console.log(\"--- - - - -- - - \");\r\n                this.setState({\r\n                    filters: filterNames\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    handleFilterValueChange(key, event) {\r\n        const target = event.target;\r\n        let currentFilters = this.state.filters;\r\n        let params = this.state.params;\r\n        if (currentFilters[key].type == 0) {\r\n            currentFilters[key].value = (target.checked == true ? 1 : 0);\r\n            params[currentFilters[key].id] = currentFilters[key].value;\r\n        } else if (currentFilters[key].type == 2) {\r\n            params[currentFilters[key].id] = target.value;\r\n            currentFilters[key].value = target.value;\r\n        }\r\n        this.setState({\r\n            filters: currentFilters,\r\n            params: params\r\n        }, this.rebuildUrl)\r\n    }\r\n\r\n    handleType1FilterValueChange(key1, key2, event) {\r\n        const target = event.target;\r\n        let params = this.state.params;\r\n        let currentFilters = this.state.filters;\r\n        if (currentFilters[key1].type == 1) {\r\n            if (target.checked == true) {\r\n                let elemIndex = currentFilters[key1].value.indexOf(key2);\r\n                if (elemIndex == -1) {\r\n                    currentFilters[key1].value.push(key2);\r\n                }\r\n            } else {\r\n                let elemIndex = currentFilters[key1].value.indexOf(key2);\r\n                if (elemIndex != -1) {\r\n                    currentFilters[key1].value.splice(elemIndex, 1);\r\n                }\r\n            }\r\n\r\n            let paramsType1Array = [];\r\n            for (let k = 0; k < currentFilters[key1].value.length; k++) {\r\n                paramsType1Array.push(currentFilters[key1].options[currentFilters[key1].value[k]].value);\r\n            }\r\n            params[currentFilters[key1].id] = paramsType1Array;\r\n        }\r\n        this.setState({\r\n            filters: currentFilters,\r\n            params: params\r\n        }, this.rebuildUrl)\r\n    }\r\n\r\n    render() {\r\n        let visibleFilters = [];\r\n        // for (let i = 0; i < 2; i++) {\r\n        //     if (this.state.filters[i]) {\r\n        //         let filterString = \"\";\r\n        //         for (let j = 0; j < this.state.filters[i].values.length; j++) {\r\n        //             filterString += this.state.filters[i].values[j].textualValue + \", \"\r\n        //         }\r\n        //         filterString = filterString.substring(0, filterString.length - 2);\r\n        //         visibleFilters.push(\r\n        //             <div key={i} className={styles.topicContainer}>\r\n        //                 <p className={styles.regularTextNoMargin + \" regularText\"}>{filterString}</p>\r\n        //             </div>\r\n        //         );\r\n        //     } else {\r\n        //         break;\r\n        //     }\r\n        // }\r\n        visibleFilters.push(\r\n            <div key={\"a1\"} className={styles.topicContainer} onClick={() => {\r\n                this.setState({\r\n                    isFiltersModalOpened: true\r\n                });\r\n            }}>\r\n                <p className={styles.regularTextNoMargin + \" regularText\"}>All filters</p>\r\n            </div>\r\n        );\r\n\r\n\r\n        let filtersDiv = this.state.filters.map((filter, key) => {\r\n            let filterName;\r\n            if (filter.type == 0) {\r\n                filterName = filter.name + \"?\";\r\n\r\n                let value = (this.state.filters[key].value == 0 ? false : true);\r\n                return (\r\n                    <div key={key}>\r\n                        <p>{filterName}</p>\r\n                        <input checked={value} onChange={this.handleFilterValueChange.bind(this, key)} type=\"checkbox\"></input>\r\n\r\n                    </div>\r\n                );\r\n            } else if (filter.type == 1) {\r\n                filterName = filter.name;\r\n                if (filter.options.length > 0) {\r\n                    let filtersType1Options = filter.options.map((option, key2) => {\r\n                        let value = this.valueIsPresent(key2, filter.value);\r\n                        return (\r\n                            <div key={key + \"_\" + key2}>\r\n                                <p>{option.textvalue}</p>\r\n                                <input type=\"checkbox\" checked={value} onChange={this.handleType1FilterValueChange.bind(this, key, key2)}></input>\r\n                            </div>\r\n                        );\r\n                    });\r\n                    return (\r\n                        <div key={key}>\r\n                            <p>{filterName}</p>\r\n                            {filtersType1Options}\r\n                        </div>\r\n                    );\r\n                } else {\r\n                    return null;\r\n                }\r\n\r\n            } else if (filter.type == 2) {\r\n                filterName = \"#\" + filter.name;\r\n                return (\r\n                    <div key={key}>\r\n                        <p>{filterName}</p>\r\n                        <input min=\"0\" step=\"0.1\" value={this.state.filters[key].value} onChange={this.handleFilterValueChange.bind(this, key)} type=\"number\"></input>\r\n                    </div >\r\n                );\r\n            }\r\n\r\n        });\r\n\r\n        let listings = this.state.results.map((listing, key) => {\r\n            return (\r\n                <ListingCard key={key} listing={listing} />\r\n            );\r\n        });\r\n\r\n        return (\r\n            <div>\r\n                <div id={styles.bodyContainer}>\r\n                    <div id={styles.topMainContainer}>\r\n                        <div id={styles.topBar}>\r\n                            <div id={styles.topBarTopContainer}>\r\n                                <div onClick={()=>{this.setState({isMobileSearchDisplayed:true})}} id={styles.mobileSearchContainer}>\r\n                                    <img src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/search.svg\"} />\r\n                                    <p className={\"title2\"}>{this.state.textualSearchValue}</p>\r\n                                </div>\r\n                                <p onClick={()=>{this.setState({isMobileSearchDisplayed:true})}} className={styles.regularText + \" title1 \"+styles.hideMobile}>{this.state.textualSearchValue}<span className={\"regularText\"}>{\" (\" + this.state.results.length + \" results)\"}</span></p><p className={styles.regularText + \" regularText \"+styles.hideDesktop}>{\" (\" + this.state.results.length + \" results)\"}</p>\r\n                            </div>\r\n                            {/* <div id={styles.topBarBottomContainer}>\r\n                                {visibleFilters}\r\n                            </div> */}\r\n                        </div>\r\n                        <div className={styles.separatorLine}></div>\r\n                        <div id={styles.resultsContainer}>\r\n                            {listings}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                <Footer />\r\n                <MobileBottomNav {...this.props} />\r\n                <DesktopTopNav key={new Date().getTime()} {...this.props} />\r\n                <ActivityTicker />\r\n\r\n                {this.state.isMobileSearchDisplayed == true? <MobileSearch history={this.props.history} closeSearch = {()=>{this.setState({isMobileSearchDisplayed:false})}} categories={this.state.categories} />:null}\r\n\r\n\r\n                {/* <Modal title=\"Filters\" closeModal={() => {\r\n                    this.setState({\r\n                        isFiltersModalOpened: false\r\n                    })\r\n                }} show={this.state.isFiltersModalOpened}>\r\n                    {filtersDiv}\r\n                </Modal> */}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SearchPage;","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\microComponents\\BodyContainer.js",[],"C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\microComponents\\Modal.js",["594","595"],"import React from \"react\";\r\nimport styles from \"public/style/modal.module.css\";\r\nexport default class Modal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.handleOutsideClick = this.handleOutsideClick.bind(this);\r\n        this.outsideClickRef = React.createRef();\r\n    }\r\n    handleOutsideClick(e) {\r\n        if (e.target == this.outsideClickRef.current) {\r\n            this.props.closeModal();\r\n        }\r\n    }\r\n    render() {\r\n        if (!this.props.show) {\r\n            return null;\r\n        }\r\n        return (\r\n            <div ref={this.outsideClickRef} id={styles.modalTransparentBody} onClick={this.handleOutsideClick}>\r\n                <div id={styles.modalBody}>\r\n                    <div className={styles.topContainer}>\r\n                        {\r\n                            this.props.title ?\r\n                                <p className={\"title2\"} id={styles.modalTitleP}>{this.props.title}</p>\r\n                                :\r\n                                null\r\n                        }\r\n                        <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/x.svg\" onClick={this.props.closeModal} className={styles.closeButton} />\r\n                    </div>\r\n                    {\r\n                        this.props.description ?\r\n                            <div className={styles.contentContainer}>\r\n                                <p className={\"regularText \" + styles.regularTextNoMargin}>{this.props.description}</p>\r\n                            </div>\r\n                            :\r\n                            null\r\n                    }\r\n                    <div className={styles.contentContainer}>\r\n                        {this.props.children}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\microComponents\\ReviewsCard.js",["596","597","598","599","600","601"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport styles from \"public/style/reviewsCard.module.css\";\r\n\r\n\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            comment: \"\",\r\n            rating: 1,\r\n            listingId: 0\r\n        }\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.submitReview = this.submitReview.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            listingId: this.props.listingId\r\n        });\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        const { name, value } = e.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    submitReview() {\r\n        let comment = this.state.comment;\r\n        let rating = this.state.rating;\r\n        let listingId = this.state.listingId;\r\n        axios.post(window.api_prefix+\"/postReview\", { comment: comment, rating: rating, listingId: listingId }).then().catch();\r\n        this.props.submitReview();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className={styles.rating}>\r\n                    <input type=\"radio\" value=\"5\" onChange={this.handleInputChange} checked={this.state.rating == 5} name=\"rating\" id={styles.rating5} />\r\n                    <label htmlFor={styles.rating5}></label>\r\n                    <input type=\"radio\" value=\"4\" onChange={this.handleInputChange} checked={this.state.rating == 4} name=\"rating\" id={styles.rating4} />\r\n                    <label htmlFor={styles.rating4}></label>\r\n                    <input type=\"radio\" value=\"3\" onChange={this.handleInputChange} checked={this.state.rating == 3} name=\"rating\" id={styles.rating3} />\r\n                    <label htmlFor={styles.rating3}></label>\r\n                    <input type=\"radio\" value=\"2\" onChange={this.handleInputChange} checked={this.state.rating == 2} name=\"rating\" id={styles.rating2} />\r\n                    <label htmlFor={styles.rating2}></label>\r\n                    <input type=\"radio\" value=\"1\" onChange={this.handleInputChange} checked={this.state.rating == 1} name=\"rating\" id={styles.rating1} />\r\n                    <label htmlFor={styles.rating1}></label>\r\n                </div>\r\n\r\n\r\n                <textarea className={\"inputText \" + styles.textarea + \" regularText\"} placeholder=\"How was the seller?\" name=\"comment\" value={this.state.comment} onChange={this.handleInputChange}></textarea>\r\n                <div className=\"modalSubmitButtonDiv\">\r\n                    <button className=\"modalSubmitButton regularTextMedium buttonCta\" onClick={this.submitReview}>Submit</button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(Index);\r\n","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\microComponents\\LoaderAnimation.js",[],"C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\IndexLoggedIn.js",["602","603","604","605","606","607","608","609","610","611","612","613","614","615","616","617","618","619","620","621","622","623","624","625","626","627"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Footer from \"microComponents/Footer.js\";\r\nimport styles from \"public/style/index.module.css\";\r\nimport DesktopTopNav from \"microComponents/DesktopTopNav.js\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\nimport activityTicker from \"microComponents/ActivityTicker\";\r\nimport ListingCard from \"microComponents/ListingCard.js\";\r\nimport ActivityTicker from \"microComponents/ActivityTicker\";\r\nimport BodyContainer from \"microComponents/BodyContainer\";\r\nimport Modal from \"microComponents/Modal\";\r\nclass Index extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      searchInput: \"\",\r\n      searchSuggestions: [],\r\n      featuredListings: [],\r\n      followedListings: [],\r\n      hotListings: [],\r\n      categories: [],\r\n      categoryCurrentParentId: -1,\r\n      isCategoriesModalDisplayed: false,\r\n      showSearchSuggestion: false,\r\n      listingsIsLoaded: false,\r\n\r\n      activeSectionTitle: -1\r\n    }\r\n\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n\r\n    this.searchTopContainer = React.createRef();\r\n    this.categoriesContainerRef = React.createRef();\r\n    this.searchInputRef = React.createRef();\r\n    this.followedListingsRef = React.createRef();\r\n    this.searchSuggestModalRef = React.createRef();\r\n    this.featuredListingsRef = React.createRef();\r\n    this.hotListingsRef = React.createRef();\r\n    this.scrollTopButtonRef = React.createRef();\r\n    this.searchContainerRef = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios.get(window.api_prefix+\"/allCategories\").then(res => {\r\n      for (let i = 0; i < res.data.length; i++) {\r\n        if (res.data[i].parentid != null) {\r\n          for (let j = 0; j < res.data.length; j++) {\r\n            if (res.data[i].parentid === res.data[j].id) {\r\n              if (res.data[j].children) {\r\n                res.data[j].children.push(res.data[i]);\r\n              } else {\r\n                res.data[j].children = [res.data[i]];\r\n              }\r\n              res.data.splice(i, 1);\r\n              i--;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      this.setState({\r\n        categories: res.data\r\n      });\r\n    }).catch();\r\n    axios.get(window.api_prefix+\"/customFeed\").then(resp => {\r\n      this.setState({\r\n        listingsIsLoaded: true,\r\n        followedListings: resp.data\r\n      });\r\n    }).catch();\r\n\r\n\r\n    // Get the header\r\n    var featuredListings = this.featuredListingsRef.current;\r\n    var followedListings = this.followedListingsRef.current;\r\n    var hotListings = this.hotListingsRef.current;\r\n\r\n    let followedPosition = 2000;\r\n    let featuredPosition = 2000;\r\n    let hotPosition = 2000;\r\n    let prevScrollpos = window.pageYOffset;\r\n\r\n    let fixedPositionsRegistered = false;\r\n\r\n    window.onscroll = () => {\r\n\r\n\r\n      let vwWidth = document.documentElement.clientWidth;\r\n      let scrollY = window.pageYOffset || window.scrollY;\r\n\r\n\r\n      if (vwWidth > 780) {\r\n        if (this.categoriesContainerRef.current) {\r\n          if (scrollY >= 220) {\r\n            this.categoriesContainerRef.current.classList.add(styles.fixedCategoriesContainer);\r\n          } else {\r\n            this.categoriesContainerRef.current.classList.remove(styles.fixedCategoriesContainer)\r\n          }\r\n        }\r\n      }\r\n\r\n\r\n      if (this.state.listingsIsLoaded == true && vwWidth <= 780) {\r\n\r\n        if (fixedPositionsRegistered == false) {\r\n          var stickyFeatured = featuredListings.getBoundingClientRect();\r\n          var stickyFollowed = followedListings.getBoundingClientRect();\r\n          var stickyHot = hotListings.getBoundingClientRect();\r\n          fixedPositionsRegistered = true;\r\n          followedPosition = stickyFollowed.top + scrollY;\r\n          featuredPosition = stickyFeatured.top + scrollY;\r\n          hotPosition = stickyHot.top + scrollY;\r\n        } else {\r\n          if (followedPosition <= scrollY) {\r\n            if (this.state.activeSectionTitle != 2) {\r\n              this.setState({\r\n                activeSectionTitle: 2\r\n              });\r\n            }\r\n          } else if (hotPosition <= scrollY) {\r\n            if (this.state.activeSectionTitle != 1) {\r\n              this.setState({\r\n                activeSectionTitle: 1\r\n              });\r\n            }\r\n          } else if (featuredPosition <= scrollY) {\r\n            if (this.state.activeSectionTitle != 0) {\r\n              this.setState({\r\n                activeSectionTitle: 0\r\n              });\r\n            }\r\n          } else {\r\n            if (this.state.activeSectionTitle != -1) {\r\n              this.setState({\r\n                activeSectionTitle: -1\r\n              });\r\n            }\r\n          }\r\n          if (this.scrollTopButtonRef.current) {\r\n            if ((prevScrollpos <= scrollY) || scrollY < 200) {\r\n              this.scrollTopButtonRef.current.classList.add(styles.displayNone);\r\n            } else {\r\n              this.scrollTopButtonRef.current.classList.remove(styles.displayNone);\r\n            }\r\n          }\r\n          prevScrollpos = scrollY;\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.onscroll = undefined;\r\n    document.onclick = undefined;\r\n  }\r\n\r\n\r\n  handleInputChange(e) {\r\n    const { name, value } = e.target;\r\n\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n\r\n    if (name === \"searchInput\") {\r\n      if (value.length == 0) {\r\n        this.setState({\r\n          searchSuggestions: [],\r\n          showSearchSuggestion: false\r\n        });\r\n      } else {\r\n        this.setState({\r\n          searchSuggestions: [],\r\n          showSearchSuggestion: true\r\n        });\r\n      }\r\n      // axios.get(window.api_prefix+\"/searchInput?search=\" + value).then(res => {\r\n      //   this.setState({\r\n      //     searchSuggestions: res.data\r\n      //   });\r\n      // }).catch();\r\n    }\r\n  }\r\n\r\n  postCatTrend(catId) {\r\n    axios.post(window.api_prefix+\"/categorySearchClick\", { catId: catId });\r\n  }\r\n\r\n  render() {\r\n    const { t } = this.props;\r\n\r\n\r\n    let searchSuggestArray = [];\r\n    let searchSuggest;\r\n    let searchQuery = this.state.searchInput.toLowerCase();\r\n\r\n    let desktopSearchSuggest;\r\n    let desktopCategoriesList = [];\r\n    if (this.state.categoryCurrentParentId == -1) {\r\n      let seeMoreDiv;\r\n      let catQtity = 0;\r\n      for (let j = 0; j < this.state.categories.length && j <= 4; j++) {\r\n        let cat = this.state.categories[j];\r\n        catQtity++;\r\n        if (cat.children) {\r\n          desktopCategoriesList.push(\r\n            <p className={styles.searchSuggestP + \" regularText\"} onClick={() => { this.setState({ categoryCurrentParentId: cat.id }) }} key={j}>{cat.name} <img className={styles.chevronImgCategories} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-right.svg\" /></p>\r\n          );\r\n        } else {\r\n          desktopCategoriesList.push(\r\n            <Link to={\"/search?cat=\" + cat.id} onClick={() => { this.postCatTrend(cat.id) }} key={j}>\r\n              <p className={styles.searchSuggestP + \" regularText\"} >{cat.name}</p>\r\n            </Link>\r\n          );\r\n        }\r\n      }\r\n      if (2 == 2) {\r\n        seeMoreDiv = (\r\n          <div id={styles.seeMoreCats}>\r\n            <p className={styles.regularTextNoMargin + \" regularText\"} onClick={() => { this.setState({ isCategoriesModalDisplayed: true }); }}>See more</p>\r\n          </div>\r\n        );\r\n      }\r\n      desktopSearchSuggest = (\r\n        <div>\r\n          <div ref={this.searchSuggestModalRef} className={styles.searchSuggestMainContainer}>\r\n            <p className={styles.regularTextNoMargin + \" regularTextBold\"}>Categories</p>\r\n            {desktopCategoriesList}\r\n          </div>\r\n          {seeMoreDiv}\r\n        </div>\r\n      );\r\n    } else {\r\n      let seeMoreDiv;\r\n      for (let i = 0; i < this.state.categories.length; i++) {\r\n        if (this.state.categories[i].id === this.state.categoryCurrentParentId) {\r\n          let parentCategoryName = this.state.categories[i].name;\r\n          let catQtity = 0;\r\n          desktopCategoriesList = this.state.categories[i].children.map((cat, key) => {\r\n            catQtity++;\r\n            return (\r\n              <Link to={\"/search?cat=\" + cat.id} onClick={() => { this.postCatTrend(cat.id) }} key={key}>\r\n                <p className={styles.searchSuggestP + \" regularText\"} >{cat.name}</p>\r\n              </Link>\r\n            );\r\n          });\r\n          desktopCategoriesList.push(\r\n            <Link to={\"/search?cat=\" + this.state.categoryCurrentParentId} onClick={() => { this.postCatTrend(this.state.categoryCurrentParentId) }} key={\"cat_all\"}>\r\n              <p className={styles.searchSuggestP + \" regularText\"}>See all {parentCategoryName}</p>\r\n            </Link>\r\n          );\r\n          if (catQtity * 50 > (window.innerHeight - 365)) {\r\n            seeMoreDiv = (\r\n              <div id={styles.seeMoreCats} onClick={() => { this.setState({ isCategoriesModalDisplayed: true }); }}>\r\n                <p className={styles.regularTextNoMargin + \" regularText\"}>See more</p>\r\n              </div>\r\n            );\r\n          }\r\n          desktopSearchSuggest = (\r\n            <div>\r\n              <div ref={this.searchSuggestModalRef} className={styles.searchSuggestMainContainer}>\r\n                <p className={styles.regularTextNoMargin + \" regularTextBold \" + styles.clickable} onClick={() => { this.setState({ categoryCurrentParentId: -1 }) }}><img className={styles.chevronImgCategories + \" \" + styles.bottomAlignChevron} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-left.svg\" /> {parentCategoryName}</p>\r\n                {desktopCategoriesList}\r\n              </div>\r\n              {seeMoreDiv}\r\n            </div>\r\n          );\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n    if (this.state.searchInput.length > 0 && this.state.showSearchSuggestion) {\r\n      if (this.state.searchSuggestions.length > 0) {\r\n        for (let i = 0; i < this.state.searchSuggestions.length; i++) {\r\n          let optionIsFoundForDevice = false;\r\n          for (let j = 0; j < this.state.searchSuggestions[i].storageOptions.length; j++) {\r\n            if (searchQuery.includes(this.state.searchSuggestions[i].storageOptions[j].name)) {\r\n              optionIsFoundForDevice = true;\r\n              searchSuggestArray.push(\r\n                <p className={styles.searchSuggestP + \" regularText\"} key={i + \"_\" + j}>{this.state.searchSuggestions[i].name} {this.state.searchSuggestions[i].storageOptions[j].name}GB</p>\r\n              );\r\n            }\r\n          }\r\n          if (!optionIsFoundForDevice) {\r\n            searchSuggestArray.push(\r\n              <p className={styles.searchSuggestP + \" regularText\"} key={i + \"_-1\"}>{this.state.searchSuggestions[i].name}</p>\r\n            );\r\n          }\r\n        }\r\n        searchSuggest = (\r\n          <div ref={this.searchSuggestModalRef} className={styles.searchSuggestMainContainer}>\r\n            {searchSuggestArray}\r\n          </div>\r\n        );\r\n      } else {\r\n        searchSuggest = (\r\n          <div ref={this.searchSuggestModalRef} className={styles.searchSuggestMainContainer}>\r\n            <p className={styles.searchSuggestP + \" regularText\"}>No results</p>\r\n          </div>\r\n        );\r\n      }\r\n    } else {\r\n      let categoriesList;\r\n      if (this.state.categoryCurrentParentId == -1) {\r\n        let seeMoreDiv;\r\n        let catQtity = 0;\r\n        categoriesList = [];\r\n        for (let j = 0; j < this.state.categories.length; j++) {\r\n          let cat = this.state.categories[j];\r\n          catQtity++;\r\n          if (cat.children) {\r\n            categoriesList.push(\r\n              <p className={styles.searchSuggestP + \" regularText\"} onClick={() => { this.setState({ categoryCurrentParentId: cat.id }) }} key={j}>{cat.name} <img className={styles.chevronImgCategories} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-right.svg\" /></p>\r\n            );\r\n          } else {\r\n            categoriesList.push(\r\n              <Link to={\"/search?cat=\" + cat.id} onClick={() => { this.postCatTrend(cat.id) }} key={j}>\r\n                <p className={styles.searchSuggestP + \" regularText\"} >{cat.name}</p>\r\n              </Link>\r\n            );\r\n          }\r\n        }\r\n        // if (2 == 2) {\r\n        //   seeMoreDiv = (\r\n        //     <div id={styles.seeMoreCats}>\r\n        //       <p className={styles.regularTextNoMargin + \" regularText\"} onClick={() => { this.setState({ isCategoriesModalDisplayed: true }); }}>See more</p>\r\n        //     </div>\r\n        //   );\r\n        // }\r\n        searchSuggest = (\r\n          <div>\r\n            <div ref={this.searchSuggestModalRef} className={styles.searchSuggestMainContainer}>\r\n              <p className={styles.regularTextNoMargin + \" regularTextBold\"}>Categories</p>\r\n              {categoriesList}\r\n            </div>\r\n            {seeMoreDiv}\r\n          </div>\r\n        );\r\n      } else {\r\n        let seeMoreDiv;\r\n        for (let i = 0; i < this.state.categories.length; i++) {\r\n          if (this.state.categories[i].id === this.state.categoryCurrentParentId) {\r\n            let parentCategoryName = this.state.categories[i].name;\r\n            let catQtity = 0;\r\n            categoriesList = this.state.categories[i].children.map((cat, key) => {\r\n              catQtity++;\r\n              return (\r\n                <Link to={\"/search?cat=\" + cat.id} onClick={() => { this.postCatTrend(cat.id) }} key={key}>\r\n                  <p className={styles.searchSuggestP + \" regularText\"} >{cat.name}</p>\r\n                </Link>\r\n              );\r\n            });\r\n            categoriesList.push(\r\n              <Link to={\"/search?cat=\" + this.state.categoryCurrentParentId} onClick={() => { this.postCatTrend(this.state.categoryCurrentParentId) }} key={\"cat_all\"}>\r\n                <p className={styles.searchSuggestP + \" regularText\"}>See all {parentCategoryName}</p>\r\n              </Link>\r\n            );\r\n            if (catQtity * 50 > (window.innerHeight - 365)) {\r\n              seeMoreDiv = (\r\n                <div id={styles.seeMoreCats} onClick={() => { this.setState({ isCategoriesModalDisplayed: true }); }}>\r\n                  <p className={styles.regularTextNoMargin + \" regularText\"}>See more</p>\r\n                </div>\r\n              );\r\n            }\r\n            searchSuggest = (\r\n              <div>\r\n                <div ref={this.searchSuggestModalRef} className={styles.searchSuggestMainContainer}>\r\n                  <p className={styles.regularTextNoMargin + \" regularTextBold \" + styles.clickable} onClick={() => { this.setState({ categoryCurrentParentId: -1 }) }}><img className={styles.chevronImgCategories + \" \" + styles.bottomAlignChevron} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-left.svg\" /> {parentCategoryName}</p>\r\n                  {categoriesList}\r\n                </div>\r\n                {seeMoreDiv}\r\n              </div>\r\n            );\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n\r\n    let featuredListings = <p className={styles.emptyStateMessageP}>No featured listings yet.</p>\r\n    if (this.state.featuredListings.length > 0) {\r\n      featuredListings = this.state.featuredListings.map((listing, key) => {\r\n        return (\r\n          <ListingCard key={key} listing={listing} />\r\n        );\r\n      });\r\n    }\r\n\r\n    let followedListings = <p className={styles.emptyStateMessageP}>No followed listings yet.</p>\r\n    if (this.state.followedListings.length > 0) {\r\n      followedListings = this.state.followedListings.map((listing, key) => {\r\n        return (\r\n          <ListingCard key={key} listing={listing} />\r\n        );\r\n      });\r\n    }\r\n\r\n    let hotListings = <p className={styles.emptyStateMessageP}>No hot listings yet.</p>\r\n    if (this.state.hotListings.length > 0) {\r\n      hotListings = this.state.hotListings.map((listing, key) => {\r\n        return (\r\n          <ListingCard key={key} listing={listing} />\r\n        );\r\n      });\r\n    }\r\n\r\n    let allCategoriesList = [];\r\n    for (let i = 0; i < this.state.categories.length; i++) {\r\n      allCategoriesList.push(<Link key={i} to={\"/search?cat=\" + this.state.categories[i].id} onClick={() => { this.postCatTrend(this.state.categories[i].id) }} className={\"regularTextMedium \" + styles.allCatsTitle}><p>{this.state.categories[i].name}</p></Link>);\r\n      if (this.state.categories[i].children) {\r\n        for (let j = 0; j < this.state.categories[i].children.length; j++) {\r\n          allCategoriesList.push(<Link key={i + \"_\" + j} to={\"/search?cat=\" + this.state.categories[i].children[j].id} onClick={() => { this.postCatTrend(this.state.categories[i].children[j].id) }} className={\"regularText \" + styles.allCatsText}><p>{this.state.categories[i].children[j].name}</p></Link>);\r\n        }\r\n      }\r\n    }\r\n\r\n    let mobileStickyHeader;\r\n    if (this.state.activeSectionTitle != -1) {\r\n      let stickyMobileHeaderText;\r\n      switch (this.state.activeSectionTitle) {\r\n        case 0:\r\n          stickyMobileHeaderText = \"Featured listings\";\r\n          break;\r\n        case 1:\r\n          stickyMobileHeaderText = \"Hot finds\";\r\n          break;\r\n        case 2:\r\n          stickyMobileHeaderText = \"Based on what you follow\";\r\n          break;\r\n      }\r\n      mobileStickyHeader = (\r\n        <p ref={this.hotListingsRef} className={styles.sectionTitleP + \" title2 \" + styles.stickyHeader}>{stickyMobileHeaderText}</p>\r\n      );\r\n    }\r\n\r\n\r\n    return (\r\n      <div>\r\n        <BodyContainer>\r\n          {mobileStickyHeader}\r\n          <div className={styles.topMainContainer}>\r\n            <div className={styles.topMainContainerInnerContainer}>\r\n              <div id={styles.mobileTopNav}>\r\n                <img id={styles.logoMobileTopNav} src=\"https://staticassets2020.s3.amazonaws.com/logos/logoV1orangeTransparent.png\" />\r\n                <img id={styles.searchIconClick} onClick={() => {\r\n                  this.searchContainerRef.current.classList.add(styles.searchContainerVisible);\r\n                  this.searchInputRef.current.focus();\r\n                  document.body.style.overflow = \"hidden\";\r\n                }} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/search-grey.svg\" />\r\n              </div>\r\n\r\n              <div id={styles.headerImgDiv}>\r\n                <p className={\"megaTitle \" + styles.regularText + \" \" + styles.headlineP}>Buy pre-owned electronics you can trust.</p>\r\n                <Link className={styles.linkP + \" regularTextMedium\"} to=\"/blog-post/1\">See how it works <img style={{ verticalAlign: \"middle\" }} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/arrow-right-orange.svg\" /></Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className={styles.mainFeedContainers}>\r\n            <div className={styles.innerMainContainer}>\r\n              <p ref={this.featuredListingsRef} className={styles.sectionTitleP + \" title2\"}>Featured listings</p>\r\n              {featuredListings}\r\n            </div>\r\n          </div>\r\n\r\n          <div className={styles.mainFeedContainers}>\r\n            <div className={styles.innerMainContainer}>\r\n              <p ref={this.hotListingsRef} className={styles.sectionTitleP + \" title2\"}>Hot finds</p>\r\n              {hotListings}\r\n            </div>\r\n          </div>\r\n\r\n          <div className={styles.mainFeedContainers}>\r\n            <div className={styles.innerMainContainer}>\r\n              <p ref={this.followedListingsRef} className={styles.sectionTitleP + \" title2\"}>Based on what you follow</p>\r\n              {followedListings}\r\n            </div>\r\n          </div>\r\n        </BodyContainer>\r\n\r\n\r\n\r\n        <div id={styles.scrollTopButton} className={styles.displayNone} ref={this.scrollTopButtonRef} onClick={() => {\r\n          window.scrollTo({ top: 0, behavior: 'smooth' });\r\n          this.featuredListingsRef.current.classList.remove(styles.stickyHeader);\r\n          this.featuredListingsRef.current.parentElement.classList.remove(styles.stickyHeaderParent);\r\n          this.followedListingsRef.current.classList.remove(styles.stickyHeader);\r\n          this.followedListingsRef.current.parentElement.classList.remove(styles.stickyHeaderParent);\r\n        }}>\r\n          <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-up.svg\" />\r\n        </div>\r\n\r\n        <Footer />\r\n        <MobileBottomNav {...this.props} />\r\n        <DesktopTopNav key={new Date().getTime()} {...this.props} />\r\n        <ActivityTicker />\r\n\r\n\r\n        <div ref={this.categoriesContainerRef} id={styles.categoriesMainContainer}>\r\n          {desktopSearchSuggest}\r\n        </div>\r\n\r\n        <div id={styles.searchTransparentContainer} ref={this.searchContainerRef}>\r\n          <div id={styles.searchMainContainer}>\r\n            <div ref={this.searchTopContainer} id={styles.searchTopContainer}>\r\n              <p className={styles.regularText + \" regularTextBold\"}>Search</p>\r\n              <img onClick={() => { this.searchContainerRef.current.classList.remove(styles.searchContainerVisible); document.body.style.overflow = \"auto\"; }} id={styles.searchXImg} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/x.svg\" />\r\n              <div id={styles.searchInputDiv}>\r\n                <img id={styles.iconTopMobileNav} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/search-grey.svg\" />\r\n                <input ref={this.searchInputRef} id={styles.searchInput} value={this.state.searchInput} name=\"searchInput\" onChange={this.handleInputChange} placeholder=\"Search pre-owned electronics\" className={\"regularText\"} type=\"text\"></input>\r\n              </div>\r\n            </div>\r\n            <div id={styles.searchSuggestScroller}>\r\n              {searchSuggest}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <Modal title=\"Categories\" closeModal={() => {\r\n          this.setState({\r\n            isCategoriesModalDisplayed: false\r\n          })\r\n        }} show={this.state.isCategoriesModalDisplayed}>\r\n          {allCategoriesList}\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default withTranslation()(Index);\r\n",["628","629"],"C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\IndexLandingPage.js",["630","631","632","633","634","635","636","637","638","639","640","641","642","643","644","645","646","647","648","649","650","651","652","653","654","655","656","657"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Footer from \"microComponents/Footer.js\";\r\nimport styles from \"public/style/index.module.css\";\r\nimport DesktopTopNav from \"microComponents/DesktopTopNav.js\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\nimport ListingCard from \"microComponents/ListingCard.js\";\r\nimport ActivityTicker from \"microComponents/ActivityTicker\";\r\nimport BodyContainer from \"microComponents/BodyContainer\";\r\nimport Modal from \"microComponents/Modal\";\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            searchInput: \"\",\r\n            searchSuggestions: [],\r\n            featuredListings: [],\r\n            followedListings: [],\r\n            hotListings: [],\r\n            categories: [],\r\n            categoryCurrentParentId: -1,\r\n            isCategoriesModalDisplayed: false,\r\n            showSearchSuggestion: false,\r\n            activeSectionTitle: -1\r\n        }\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n\r\n        this.searchTopContainer = React.createRef();\r\n        this.categoriesContainerRef = React.createRef();\r\n        this.searchInputRef = React.createRef();\r\n        this.followedListingsRef = React.createRef();\r\n        this.searchSuggestModalRef = React.createRef();\r\n        this.featuredListingsRef = React.createRef();\r\n        this.hotListingsRef = React.createRef();\r\n        this.scrollTopButtonRef = React.createRef();\r\n        this.searchContainerRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get(window.api_prefix+\"/allCategories\").then(res => {\r\n            for (let i = 0; i < res.data.length; i++) {\r\n                if (res.data[i].parentid != null) {\r\n                    for (let j = 0; j < res.data.length; j++) {\r\n                        if (res.data[i].parentid === res.data[j].id) {\r\n                            if (res.data[j].children) {\r\n                                res.data[j].children.push(res.data[i]);\r\n                            } else {\r\n                                res.data[j].children = [res.data[i]];\r\n                            }\r\n                            res.data.splice(i, 1);\r\n                            i--;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.setState({\r\n                categories: res.data\r\n            });\r\n        }).catch();\r\n        axios.get(window.api_prefix+\"/basicFeed\").then(resp => {\r\n            this.setState({\r\n                followedListings: resp.data\r\n            });\r\n        }).catch();\r\n\r\n\r\n        // Get the header\r\n        var featuredListings = this.featuredListingsRef.current;\r\n        var followedListings = this.followedListingsRef.current;\r\n        var hotListings = this.hotListingsRef.current;\r\n\r\n        let followedPosition = 2000;\r\n        let featuredPosition = 2000;\r\n        let hotPosition = 2000;\r\n        let prevScrollpos = window.pageYOffset;\r\n\r\n        let fixedPositionsRegistered = false;\r\n\r\n        window.onscroll = () => {\r\n\r\n\r\n            let vwWidth = document.documentElement.clientWidth;\r\n            let scrollY = window.pageYOffset || window.scrollY;\r\n\r\n\r\n            if (vwWidth > 780) {\r\n                if (this.categoriesContainerRef.current) {\r\n                    if (scrollY >= 220) {\r\n                        this.categoriesContainerRef.current.classList.add(styles.fixedCategoriesContainer);\r\n                    } else {\r\n                        this.categoriesContainerRef.current.classList.remove(styles.fixedCategoriesContainer)\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\n            if (this.state.listingsIsLoaded == true && vwWidth <= 780) {\r\n\r\n                if (fixedPositionsRegistered == false) {\r\n                    var stickyFeatured = featuredListings.getBoundingClientRect();\r\n                    var stickyFollowed = followedListings.getBoundingClientRect();\r\n                    var stickyHot = hotListings.getBoundingClientRect();\r\n                    fixedPositionsRegistered = true;\r\n                    followedPosition = stickyFollowed.top + scrollY;\r\n                    featuredPosition = stickyFeatured.top + scrollY;\r\n                    hotPosition = stickyHot.top + scrollY;\r\n                } else {\r\n                    if (followedPosition <= scrollY) {\r\n                        if (this.state.activeSectionTitle != 2) {\r\n                            this.setState({\r\n                                activeSectionTitle: 2\r\n                            });\r\n                        }\r\n                    } else if (hotPosition <= scrollY) {\r\n                        if (this.state.activeSectionTitle != 1) {\r\n                            this.setState({\r\n                                activeSectionTitle: 1\r\n                            });\r\n                        }\r\n                    } else if (featuredPosition <= scrollY) {\r\n                        if (this.state.activeSectionTitle != 0) {\r\n                            this.setState({\r\n                                activeSectionTitle: 0\r\n                            });\r\n                        }\r\n                    } else {\r\n                        if (this.state.activeSectionTitle != -1) {\r\n                            this.setState({\r\n                                activeSectionTitle: -1\r\n                            });\r\n                        }\r\n                    }\r\n                    if (this.scrollTopButtonRef.current) {\r\n                        if ((prevScrollpos <= scrollY) || scrollY < 200) {\r\n                            this.scrollTopButtonRef.current.classList.add(styles.displayNone);\r\n                        } else {\r\n                            this.scrollTopButtonRef.current.classList.remove(styles.displayNone);\r\n                        }\r\n                    }\r\n                    prevScrollpos = scrollY;\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.onscroll = undefined;\r\n        document.onclick = undefined;\r\n    }\r\n\r\n    postCatTrend(catId) {\r\n        axios.post(window.api_prefix+\"/categorySearchClick\", { catId: catId });\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        const { name, value } = e.target;\r\n\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n\r\n        if (name === \"searchInput\") {\r\n            if (value.length == 0) {\r\n                this.setState({\r\n                    searchSuggestions: [],\r\n                    showSearchSuggestion: false\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    searchSuggestions: [],\r\n                    showSearchSuggestion: true\r\n                });\r\n            }\r\n            // axios.get(window.api_prefix+\"/searchInput?search=\" + value).then(res => {\r\n            //     this.setState({\r\n            //         searchSuggestions: res.data\r\n            //     });\r\n            // }).catch();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n\r\n\r\n        let searchSuggestArray = [];\r\n        let searchSuggest;\r\n        let searchQuery = this.state.searchInput.toLowerCase();\r\n\r\n\r\n        let desktopSearchSuggest;\r\n        let desktopCategoriesList = [];\r\n        if (this.state.categoryCurrentParentId == -1) {\r\n            let seeMoreDiv;\r\n            let catQtity = 0;\r\n            for (let j = 0; j < this.state.categories.length && j <= 4; j++) {\r\n                let cat = this.state.categories[j];\r\n                catQtity++;\r\n                if (cat.children) {\r\n                    desktopCategoriesList.push(\r\n                        <p className={styles.searchSuggestP + \" regularText\"} onClick={() => { this.setState({ categoryCurrentParentId: cat.id }) }} key={j}>{cat.name} <img className={styles.chevronImgCategories} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-right.svg\" /></p>\r\n                    );\r\n                } else {\r\n                    desktopCategoriesList.push(\r\n                        <Link to={\"/search?cat=\" + cat.id} onClick={() => { this.postCatTrend(cat.id) }} key={j}>\r\n                            <p className={styles.searchSuggestP + \" regularText\"} >{cat.name}</p>\r\n                        </Link>\r\n                    );\r\n                }\r\n            }\r\n            if (2 == 2) {\r\n                seeMoreDiv = (\r\n                    <div id={styles.seeMoreCats}>\r\n                        <p className={styles.regularTextNoMargin + \" regularText\"} onClick={() => { this.setState({ isCategoriesModalDisplayed: true }); }}>See more</p>\r\n                    </div>\r\n                );\r\n            }\r\n            desktopSearchSuggest = (\r\n                <div>\r\n                    <div ref={this.searchSuggestModalRef} className={styles.searchSuggestMainContainer}>\r\n                        <p className={styles.regularTextNoMargin + \" regularTextBold\"}>Categories</p>\r\n                        {desktopCategoriesList}\r\n                    </div>\r\n                    {seeMoreDiv}\r\n                </div>\r\n            );\r\n        } else {\r\n            let seeMoreDiv;\r\n            for (let i = 0; i < this.state.categories.length; i++) {\r\n                if (this.state.categories[i].id === this.state.categoryCurrentParentId) {\r\n                    let parentCategoryName = this.state.categories[i].name;\r\n                    let catQtity = 0;\r\n                    desktopCategoriesList = this.state.categories[i].children.map((cat, key) => {\r\n                        catQtity++;\r\n                        return (\r\n                            <Link to={\"/search?cat=\" + cat.id} onClick={() => { this.postCatTrend(cat.id) }} key={key}>\r\n                                <p className={styles.searchSuggestP + \" regularText\"} >{cat.name}</p>\r\n                            </Link>\r\n                        );\r\n                    });\r\n                    desktopCategoriesList.push(\r\n                        <Link to={\"/search?cat=\" + this.state.categoryCurrentParentId} onClick={() => { this.postCatTrend(this.state.categoryCurrentParentId) }} key={\"cat_all\"}>\r\n                            <p className={styles.searchSuggestP + \" regularText\"}>See all {parentCategoryName}</p>\r\n                        </Link>\r\n                    );\r\n                    if (catQtity * 50 > (window.innerHeight - 365)) {\r\n                        seeMoreDiv = (\r\n                            <div id={styles.seeMoreCats} onClick={() => { this.setState({ isCategoriesModalDisplayed: true }); }}>\r\n                                <p className={styles.regularTextNoMargin + \" regularText\"}>See more</p>\r\n                            </div>\r\n                        );\r\n                    }\r\n                    desktopSearchSuggest = (\r\n                        <div>\r\n                            <div ref={this.searchSuggestModalRef} className={styles.searchSuggestMainContainer}>\r\n                                <p className={styles.regularTextNoMargin + \" regularTextBold \" + styles.clickable} onClick={() => { this.setState({ categoryCurrentParentId: -1 }) }}><img className={styles.chevronImgCategories + \" \" + styles.bottomAlignChevron} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-left.svg\" /> {parentCategoryName}</p>\r\n                                {desktopCategoriesList}\r\n                            </div>\r\n                            {seeMoreDiv}\r\n                        </div>\r\n                    );\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        if (this.state.searchInput.length > 0 && this.state.showSearchSuggestion == true) {\r\n            if (this.state.searchSuggestions.length > 0) {\r\n                for (let i = 0; i < this.state.searchSuggestions.length; i++) {\r\n                    let optionIsFoundForDevice = false;\r\n                    for (let j = 0; j < this.state.searchSuggestions[i].storageOptions.length; j++) {\r\n                        if (searchQuery.includes(this.state.searchSuggestions[i].storageOptions[j].name)) {\r\n                            optionIsFoundForDevice = true;\r\n                            searchSuggestArray.push(\r\n                                <p className={styles.searchSuggestP + \" regularText\"} key={i + \"_\" + j}>{this.state.searchSuggestions[i].name} {this.state.searchSuggestions[i].storageOptions[j].name}GB</p>\r\n                            );\r\n                        }\r\n                    }\r\n                    if (!optionIsFoundForDevice) {\r\n                        searchSuggestArray.push(\r\n                            <p className={styles.searchSuggestP + \" regularText\"} key={i + \"_-1\"}>{this.state.searchSuggestions[i].name}</p>\r\n                        );\r\n                    }\r\n                }\r\n                searchSuggest = (\r\n                    <div ref={this.searchSuggestModalRef} className={styles.searchSuggestMainContainer}>\r\n                        {searchSuggestArray}\r\n                    </div>\r\n                );\r\n            } else {\r\n                searchSuggest = (\r\n                    <div ref={this.searchSuggestModalRef} className={styles.searchSuggestMainContainer}>\r\n                        <p className={styles.searchSuggestP + \" regularText\"}>No results</p>\r\n                    </div>\r\n                );\r\n            }\r\n        } else {\r\n            let categoriesList;\r\n            if (this.state.categoryCurrentParentId == -1) {\r\n                let seeMoreDiv;\r\n                let catQtity = 0;\r\n                categoriesList = [];\r\n                for (let j = 0; j < this.state.categories.length; j++) {\r\n                    let cat = this.state.categories[j];\r\n                    catQtity++;\r\n                    if (cat.children) {\r\n                        categoriesList.push(\r\n                            <p className={styles.searchSuggestP + \" regularText\"} onClick={() => { this.setState({ categoryCurrentParentId: cat.id }) }} key={j}>{cat.name} <img className={styles.chevronImgCategories} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-right.svg\" /></p>\r\n                        );\r\n                    } else {\r\n                        categoriesList.push(\r\n                            <Link to={\"/search?cat=\" + cat.id} onClick={() => { this.postCatTrend(cat.id) }} key={j}>\r\n                                <p className={styles.searchSuggestP + \" regularText\"} >{cat.name}</p>\r\n                            </Link>\r\n                        );\r\n                    }\r\n                }\r\n                // if (2 == 2) {\r\n                //     seeMoreDiv = (\r\n                //         <div id={styles.seeMoreCats}>\r\n                //             <p className={styles.regularTextNoMargin + \" regularText\"} onClick={() => { this.setState({ isCategoriesModalDisplayed: true }); }}>See more</p>\r\n                //         </div>\r\n                //     );\r\n                // }\r\n                searchSuggest = (\r\n                    <div>\r\n                        <div ref={this.searchSuggestModalRef} className={styles.searchSuggestMainContainer}>\r\n                            <p className={styles.regularTextNoMargin + \" regularTextBold\"}>Categories</p>\r\n                            {categoriesList}\r\n                        </div>\r\n                        {seeMoreDiv}\r\n                    </div>\r\n                );\r\n            } else {\r\n                let seeMoreDiv;\r\n                for (let i = 0; i < this.state.categories.length; i++) {\r\n                    if (this.state.categories[i].id === this.state.categoryCurrentParentId) {\r\n                        let parentCategoryName = this.state.categories[i].name;\r\n                        let catQtity = 0;\r\n                        categoriesList = this.state.categories[i].children.map((cat, key) => {\r\n                            catQtity++;\r\n                            return (\r\n                                <Link to={\"/search?cat=\" + cat.id} onClick={() => { this.postCatTrend(cat.id) }} key={key}>\r\n                                    <p className={styles.searchSuggestP + \" regularText\"} >{cat.name}</p>\r\n                                </Link>\r\n                            );\r\n                        });\r\n                        categoriesList.push(\r\n                            <Link to={\"/search?cat=\" + this.state.categoryCurrentParentId} onClick={() => { this.postCatTrend(this.state.categoryCurrentParentId) }} key={\"cat_all\"}>\r\n                                <p className={styles.searchSuggestP + \" regularText\"}>See all {parentCategoryName}</p>\r\n                            </Link>\r\n                        );\r\n                        if (catQtity * 50 > (window.innerHeight - 365)) {\r\n                            seeMoreDiv = (\r\n                                <div id={styles.seeMoreCats} onClick={() => { this.setState({ isCategoriesModalDisplayed: true }); }}>\r\n                                    <p className={styles.regularTextNoMargin + \" regularText\"}>See more</p>\r\n                                </div>\r\n                            );\r\n                        }\r\n                        searchSuggest = (\r\n                            <div>\r\n                                <div ref={this.searchSuggestModalRef} className={styles.searchSuggestMainContainer}>\r\n                                    <p className={styles.regularTextNoMargin + \" regularTextBold \" + styles.clickable} onClick={() => { this.setState({ categoryCurrentParentId: -1 }) }}><img className={styles.chevronImgCategories + \" \" + styles.bottomAlignChevron} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-left.svg\" /> {parentCategoryName}</p>\r\n                                    {categoriesList}\r\n                                </div>\r\n                                {seeMoreDiv}\r\n                            </div>\r\n                        );\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n\r\n        let featuredListings = <p className={styles.emptyStateMessageP}>No featured listings yet.</p>\r\n        if (this.state.featuredListings.length > 0) {\r\n            featuredListings = this.state.featuredListings.map((listing, key) => {\r\n                return (\r\n                    <ListingCard key={key} listing={listing} />\r\n                );\r\n            });\r\n        }\r\n\r\n        let followedListings = <p className={styles.emptyStateMessageP}>No listings to discover yet.</p>\r\n        if (this.state.followedListings.length > 0) {\r\n            followedListings = this.state.followedListings.map((listing, key) => {\r\n                return (\r\n                    <ListingCard key={key} listing={listing} />\r\n                );\r\n            });\r\n        }\r\n\r\n        let hotListings = <p className={styles.emptyStateMessageP}>No hot listings yet.</p>\r\n        if (this.state.hotListings.length > 0) {\r\n            hotListings = this.state.hotListings.map((listing, key) => {\r\n                return (\r\n                    <ListingCard key={key} listing={listing} />\r\n                );\r\n            });\r\n        }\r\n\r\n        let allCategoriesList = [];\r\n        for (let i = 0; i < this.state.categories.length; i++) {\r\n            allCategoriesList.push(<Link key={i} to={\"/search?cat=\" + this.state.categories[i].id} onClick={() => { this.postCatTrend(this.state.categories[i].id) }} className={\"regularTextMedium \" + styles.allCatsTitle}><p>{this.state.categories[i].name}</p></Link>);\r\n            if (this.state.categories[i].children) {\r\n                for (let j = 0; j < this.state.categories[i].children.length; j++) {\r\n                    allCategoriesList.push(\r\n                        <Link key={i + \"_\" + j} to={\"/search?cat=\" + this.state.categories[i].children[j].id} onClick={() => { this.postCatTrend(this.state.categories[i].children[j].id) }} className={\"regularText \" + styles.allCatsText}><p>{this.state.categories[i].children[j].name}</p></Link>\r\n                    );\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        let mobileStickyHeader;\r\n        if (this.state.activeSectionTitle != -1) {\r\n            let stickyMobileHeaderText;\r\n            switch (this.state.activeSectionTitle) {\r\n                case 0:\r\n                    stickyMobileHeaderText = \"Featured listings\";\r\n                    break;\r\n                case 1:\r\n                    stickyMobileHeaderText = \"Hot finds\";\r\n                    break;\r\n                case 2:\r\n                    stickyMobileHeaderText = \"Based on what you follow\";\r\n                    break;\r\n            }\r\n            mobileStickyHeader = (\r\n                <p ref={this.hotListingsRef} className={styles.sectionTitleP + \" title2 \" + styles.stickyHeader}>{stickyMobileHeaderText}</p>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <BodyContainer>\r\n                    {mobileStickyHeader}\r\n\r\n                    <div className={styles.topMainContainer}>\r\n                        <div className={styles.topMainContainerInnerContainer}>\r\n                            <div id={styles.mobileTopNav}>\r\n                                <img id={styles.logoMobileTopNav} src=\"https://staticassets2020.s3.amazonaws.com/logos/logoV1orangeTransparent.png\" />\r\n                                <img id={styles.searchIconClick} onClick={() => {\r\n                                    this.searchContainerRef.current.classList.add(styles.searchContainerVisible);\r\n                                    this.searchInputRef.current.focus();\r\n                                    document.body.style.overflow = \"hidden\";\r\n                                }} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/search-grey.svg\" />\r\n                            </div>\r\n\r\n                            <div id={styles.headerImgDiv}>\r\n                                <p className={\"megaTitle \" + styles.regularText + \" \" + styles.headlineP}>Buy pre-owned electronics you can trust.</p>\r\n                                <Link className={styles.linkP + \" regularTextMedium\"} to=\"/blog-post/1\">See how it works <img style={{ verticalAlign: \"middle\" }} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/arrow-right-orange.svg\" /></Link>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className={styles.mainFeedContainers}>\r\n                        <div className={styles.innerMainContainer}>\r\n                            <p ref={this.featuredListingsRef} className={styles.sectionTitleP + \" title2\"}>Featured listings</p>\r\n                            {featuredListings}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className={styles.mainFeedContainers}>\r\n                        <div className={styles.innerMainContainer}>\r\n                            <div className={styles.mktingBannerContainer} style={{ backgroundColor: \"#dcf2f5\" }}>\r\n                                <p className={\"title1 \" + styles.regularText + \" \" + styles.headlineP}>Welcome to a community of trusted buyers and sellers</p>\r\n                                <Link className={styles.linkP + \" regularTextMedium\"} to=\"/signup\">Start selling now <img style={{ verticalAlign: \"middle\" }} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/arrow-right-orange.svg\" /></Link>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className={styles.mainFeedContainers}>\r\n                        <div className={styles.innerMainContainer}>\r\n                            <p ref={this.hotListingsRef} className={styles.sectionTitleP + \" title2\"}>Hot finds</p>\r\n                            {hotListings}\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n\r\n                    <div className={styles.mainFeedContainers}>\r\n                        <div className={styles.innerMainContainer}>\r\n                            <div className={styles.mktingBannerContainer} style={{ backgroundColor: \"#dcf5e0\" }}>\r\n                                <p className={\"title1 \" + styles.regularText + \" \" + styles.headlineP}>Always receive exactly what you're expecting</p>\r\n                                <Link className={styles.linkP + \" regularTextMedium\"} to=\"/how-it-works\">See our purchase protection <img style={{ verticalAlign: \"middle\" }} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/arrow-right-orange.svg\" /></Link>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className={styles.mainFeedContainers}>\r\n                        <div className={styles.innerMainContainer}>\r\n                            <p ref={this.followedListingsRef} className={styles.sectionTitleP + \" title2\"}>Discover now</p>\r\n                            {followedListings}\r\n                        </div>\r\n                    </div>\r\n                </BodyContainer>\r\n\r\n\r\n\r\n                <div id={styles.scrollTopButton} className={styles.displayNone} ref={this.scrollTopButtonRef} onClick={() => {\r\n                    window.scrollTo({ top: 0, behavior: 'smooth' });\r\n                    this.featuredListingsRef.current.classList.remove(styles.stickyHeader);\r\n                    this.featuredListingsRef.current.parentElement.classList.remove(styles.stickyHeaderParent);\r\n                    this.followedListingsRef.current.classList.remove(styles.stickyHeader);\r\n                    this.followedListingsRef.current.parentElement.classList.remove(styles.stickyHeaderParent);\r\n                }}>\r\n                    <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-up.svg\" />\r\n                </div>\r\n\r\n                <Footer />\r\n                <MobileBottomNav {...this.props} />\r\n                <DesktopTopNav key={new Date().getTime()} {...this.props} />\r\n                <ActivityTicker />\r\n\r\n\r\n                <div ref={this.categoriesContainerRef} id={styles.categoriesMainContainer}>\r\n                    {desktopSearchSuggest}\r\n                </div>\r\n\r\n                <div id={styles.searchTransparentContainer} ref={this.searchContainerRef}>\r\n                    <div id={styles.searchMainContainer}>\r\n                        <div ref={this.searchTopContainer} id={styles.searchTopContainer}>\r\n                            <p className={styles.regularText + \" regularTextBold\"}>Search</p>\r\n                            <img onClick={() => { this.searchContainerRef.current.classList.remove(styles.searchContainerVisible); document.body.style.overflow = \"auto\"; }} id={styles.searchXImg} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/x.svg\" />\r\n                            <div id={styles.searchInputDiv}>\r\n                                <img id={styles.iconTopMobileNav} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/search-grey.svg\" />\r\n                                <input ref={this.searchInputRef} id={styles.searchInput} value={this.state.searchInput} name=\"searchInput\" onChange={this.handleInputChange} placeholder=\"Search pre-owned electronics\" className={\"regularText\"} type=\"text\"></input>\r\n                            </div>\r\n                        </div>\r\n                        <div id={styles.searchSuggestScroller}>\r\n                            {searchSuggest}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <Modal title=\"Categories\" closeModal={() => {\r\n                    this.setState({\r\n                        isCategoriesModalDisplayed: false\r\n                    })\r\n                }} show={this.state.isCategoriesModalDisplayed}>\r\n                    {allCategoriesList}\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(Index);\r\n","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\microComponents\\LoginCard.js",["658","659","660","661","662","663"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { loginUser } from \"../reduxActions/authActions\";\r\nimport styles from \"public/style/authenticationForms.module.css\";\r\nimport Spinner from \"microComponents/LoaderAnimation\";\r\nconst emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\nclass Login extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email: \"\",\r\n            password: \"\",\r\n            formErrorMessage: \"\",\r\n            isDataLoading: false,\r\n            serverErrorMessage: \"\"\r\n        }\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleFormSubmit = this.handleFormSubmit.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            listingId: this.props.listingId\r\n        });\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        const { name, value } = e.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState) {\r\n        if (nextProps.auth.isAuthenticated) {\r\n            nextProps.history.push(\"/home\"); // push user to dashboard when they login\r\n            return null;\r\n        } else if (nextProps.errors && nextProps.errors.message) {\r\n            return { serverErrorMessage: nextProps.errors.message, isDataLoading: false };\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    handleFormSubmit() {\r\n        this.setState({\r\n            formErrorMessage: \"\",\r\n        });\r\n        if (this.state.email.length > 0 && this.state.password.length > 0) {\r\n            if (emailRegex.test(this.state.email) === true) {\r\n                this.setState({ isDataLoading: true });\r\n                let loginObj = { email: this.state.email, password: this.state.password };\r\n                this.props.loginUser(loginObj);\r\n            } else {\r\n                this.setState({\r\n                    formErrorMessage: \"Your email is not valid.\"\r\n                });\r\n            }\r\n        } else {\r\n            alert(\"yo\");\r\n            this.setState({\r\n                formErrorMessage: \"Please fill in all the fields.\"\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let errorMessage;\r\n        if (this.state.formErrorMessage.length > 0) {\r\n            errorMessage = <p className={\"errorText \" + styles.regularText}>{this.state.formErrorMessage}</p>\r\n        } else if (this.state.serverErrorMessage.length > 0) {\r\n            errorMessage = <p className={\"errorText \" + styles.regularText}>{this.state.serverErrorMessage}</p>\r\n        }\r\n        return (\r\n            <div>\r\n                <p className={\"title1 \" + styles.regularText}>Welcome back!</p>\r\n                <input className={styles.inputText + \" inputText regularText\"} type=\"email\" name=\"email\" value={this.state.email} onChange={this.handleInputChange} placeholder=\"Email address\"></input>\r\n                <input className={styles.inputText + \" inputText regularText\"} type=\"password\" name=\"password\" value={this.state.password} onChange={this.handleInputChange} placeholder=\"Password\"></input>\r\n                {errorMessage}\r\n                <p className={\"regularText \" + styles.regularText}>Don't have an account? <Link to=\"/signup\" className={styles.link + \" \" + styles.regularText}>Sign up now.</Link></p>\r\n                <button className={styles.button + \" buttonCta regularTextMedium\"} onClick={this.handleFormSubmit}>Continue</button>\r\n                {\r\n                    this.state.isDataLoading == true ?\r\n                        <Spinner />\r\n                        :\r\n                        null\r\n                }\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\n\r\nLogin.propTypes = {\r\n    loginUser: PropTypes.func.isRequired,\r\n    auth: PropTypes.object.isRequired,\r\n    errors: PropTypes.object.isRequired\r\n};\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    errors: state.errors\r\n});\r\nexport default connect(\r\n    mapStateToProps,\r\n    { loginUser }\r\n)((Login));","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\utils\\PublicOnlyRoute.js",[],"C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\ActivityPageMobile.js",["664","665","666","667","668"],"import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport styles from \"public/style/profileLinks.module.css\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { logoutUser } from \"../reduxActions/authActions\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\nclass Activity extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id={styles.pageBody}>\r\n                <div id={styles.topBar}>\r\n                    <p className={\"title2\"}>Activity</p>\r\n                </div>\r\n                <div id={styles.mainBody}>\r\n                    <p className={styles.emptyStateMessageP + \" regularTextMedium\"}>No transactions activity yet.</p>\r\n                </div>\r\n                <MobileBottomNav {...this.props} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default Activity;","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\Community.js",["669","670"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Footer from \"microComponents/Footer.js\";\r\nimport styles from \"public/style/community.module.css\";\r\nimport DesktopTopNav from \"microComponents/DesktopTopNav.js\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\nimport BodyContainer from \"microComponents/BodyContainer\";\r\nimport Modal from \"microComponents/Modal\";\r\nimport axios from \"axios\";\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            searchInput: \"\",\r\n            displayAccountModel: false,\r\n            categories: [],\r\n            categoryCurrentParentId: -1,\r\n            isCategoriesModalDisplayed: false,\r\n            posts: [],\r\n        }\r\n        this.searchTopContainer = React.createRef();\r\n        this.categoriesContainerRef = React.createRef();\r\n        this.searchInputRef = React.createRef();\r\n        this.followedListingsRef = React.createRef();\r\n        this.searchSuggestModalRef = React.createRef();\r\n        this.featuredListingsRef = React.createRef();\r\n        this.hotListingsRef = React.createRef();\r\n        this.scrollTopButtonRef = React.createRef();\r\n        this.searchContainerRef = React.createRef();\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        axios.get(window.api_prefix+\"/allBlogPosts\").then(resp => {\r\n            this.setState({\r\n                posts: resp.data\r\n            });\r\n        });\r\n    }\r\n    componentWillUnmount() {\r\n        window.onscroll = undefined;\r\n        document.onclick = undefined;\r\n    }\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n\r\n        let posts = <p>There are no posts for the moment.</p>\r\n        if (this.state.posts.length > 0) {\r\n            posts = this.state.posts.map((post, key) => {\r\n                return (\r\n                    <div className={styles.postCard}>\r\n                        <Link key={key} to={\"/blog-post/\" + post.id} >\r\n                        <p className={\"title2 \" + styles.regularText}>{post.title}</p>\r\n                        <p className={\"regularText \" + styles.regularText}>{post.summary}</p>\r\n                        <p className={styles.linkP + \" \" + styles.regularTextNoMargin}>read more</p>\r\n                        </Link>\r\n                    </div>\r\n                );\r\n            });\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <BodyContainer>\r\n                    <div className={styles.topMainContainer}>\r\n                        <div className={styles.topMainContainerInnerContainer}>\r\n                            {/* <div id={styles.mobileTopNav}>\r\n                                <img id={styles.logoMobileTopNav} src=\"https://staticassets2020.s3.amazonaws.com/logos/logoV1orangeTransparent.png\" />\r\n                                <img id={styles.searchIconClick} onClick={() => {\r\n                                    this.searchContainerRef.current.classList.add(styles.searchContainerVisible);\r\n                                    this.searchInputRef.current.focus();\r\n                                    document.body.style.overflow = \"hidden\";\r\n                                }} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/search-grey.svg\" />\r\n                            </div> */}\r\n\r\n                            <div id={styles.headerImgDiv}>\r\n                                <p className={\"megaTitle \" + styles.regularText + \" \" + styles.headlineP}>How Cambio works</p>\r\n                                <p className={\"regularText \" + styles.regularText + \" \" + styles.headlineP}>Cambio is not just another marketplace. It’s a community of tech enthusiasts looking to exchange on today’s tech and buy trustable pre-owned devices.</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                    <div className={styles.communitySectionContainer}>\r\n                        <div className={styles.topMainContainerInnerContainer}>\r\n                            {/*<p className={\"title1 \" + styles.regularText}>Recent posts</p>*/}\r\n                            {posts}\r\n                        </div>\r\n                    </div>\r\n\r\n                </BodyContainer>\r\n\r\n\r\n\r\n                <div id={styles.scrollTopButton} className={styles.displayNone} ref={this.scrollTopButtonRef} onClick={() => {\r\n                    window.scrollTo({ top: 0, behavior: 'smooth' });\r\n                    this.featuredListingsRef.current.classList.remove(styles.stickyHeader);\r\n                    this.featuredListingsRef.current.parentElement.classList.remove(styles.stickyHeaderParent);\r\n                    this.followedListingsRef.current.classList.remove(styles.stickyHeader);\r\n                    this.followedListingsRef.current.parentElement.classList.remove(styles.stickyHeaderParent);\r\n                }}>\r\n                    <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-up.svg\" />\r\n                </div>\r\n\r\n                <Footer />\r\n                <MobileBottomNav {...this.props} />\r\n                <DesktopTopNav key={new Date().getTime()} {...this.props} />\r\n\r\n\r\n                <Modal title=\"Categories\" closeModal={() => {\r\n                    this.setState({\r\n                        isCategoriesModalDisplayed: false\r\n                    })\r\n                }} show={this.state.isCategoriesModalDisplayed}>\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(Index);\r\n","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\AdyenPayment.js",["671","672"],"C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\AccountSetup.js",["673","674","675","676","677","678"],"import axios from \"axios\";\r\nimport React from \"react\";\r\nimport styles from \"public/style/accountSetup.module.css\";\r\nimport Spinner from \"microComponents/LoaderAnimation\";\r\n\r\n\r\nclass Setup extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            lname: \"\",\r\n            fname: \"\",\r\n            countryCode: \"CA\",\r\n            type0ErrorMessage: \"\",\r\n            currentFormType: 0,\r\n            type1ErrorMessage: \"\",\r\n            categories: [],\r\n            followedCategories: [],\r\n            isDataLoading: false,\r\n        }\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.submitForm = this.submitForm.bind(this);\r\n        this.followTopic = this.followTopic.bind(this);\r\n        this.unfollowTopic = this.unfollowTopic.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        if ((localStorage.getItem(\"setupVerif\") == \"true\")) {\r\n            this.props.history.push(\"/home\");\r\n        }else{\r\n            axios.get(window.api_prefix+\"/allParentCategories\").then(resp => {\r\n                this.setState({\r\n                    categories: resp.data\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    followTopic(key) {\r\n        let currentUnfollowedTopics = this.state.categories;\r\n        let swithTopic = currentUnfollowedTopics[key];\r\n        currentUnfollowedTopics.splice(key, 1);\r\n        let currentFollowedTopics = this.state.followedCategories;\r\n        currentFollowedTopics.push(swithTopic);\r\n        this.setState({\r\n            followedCategories: currentFollowedTopics,\r\n            categories: currentUnfollowedTopics\r\n        });\r\n    }\r\n    unfollowTopic(key) {\r\n        let currentUnfollowedTopics = this.state.categories;\r\n        let currentFollowedTopics = this.state.followedCategories;\r\n        let swithTopic = currentFollowedTopics[key];\r\n        currentFollowedTopics.splice(key, 1);\r\n        currentUnfollowedTopics.push(swithTopic);\r\n        this.setState({\r\n            followedCategories: currentFollowedTopics,\r\n            categories: currentUnfollowedTopics\r\n        });\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        const { name, value } = e.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    submitForm() {\r\n        this.setState({\r\n            type1ErrorMessage: \"\",\r\n            type0ErrorMessage: \"\"\r\n        });\r\n        if (this.state.followedCategories.length >= 3) {\r\n            if (this.state.fname.length > 0) {\r\n                if (this.state.lname.length > 0) {\r\n                    this.setState({\r\n                        isDataLoading: true\r\n                    });\r\n                    let reqObj = { lname: this.state.lname, fname: this.state.fname, followedCategories: this.state.followedCategories, countryCode: this.state.countryCode };\r\n                    axios.post(window.api_prefix+\"/accountSetup\", reqObj).then(resp => {\r\n                        localStorage.setItem(\"setupVerif\", true);\r\n                        this.props.history.push(\"/home\");\r\n                    }).catch(err => {\r\n                        if (err.response) {\r\n                            this.setState({\r\n                                type0ErrorMessage: err.response.data.message,\r\n                                currentFormType: 0,\r\n                                isDataLoading: false\r\n                            });\r\n                        }\r\n                    });\r\n                } else {\r\n                    this.setState({\r\n                        type0ErrorMessage: \"Please fill in your last name.\",\r\n                        currentFormType: 0\r\n                    });\r\n                }\r\n            } else {\r\n                this.setState({\r\n                    type0ErrorMessage: \"Please fill in your first name.\",\r\n                    currentFormType: 0\r\n                });\r\n            }\r\n        } else {\r\n            this.setState({\r\n                type1ErrorMessage: \"Please pick at least 3 topics.\",\r\n                currentFormType: 1\r\n            });\r\n        }\r\n    }\r\n    render() {\r\n        let type0ErrorMessage;\r\n        if (this.state.type0ErrorMessage.length > 0) {\r\n            type0ErrorMessage = <p className={\"errorText \" + styles.regularText}>{this.state.type0ErrorMessage}</p>\r\n        }\r\n\r\n        let type1ErrorMessage;\r\n        if (this.state.type1ErrorMessage.length > 0) {\r\n            type1ErrorMessage = <p className={\"errorText \" + styles.regularText}>{this.state.type1ErrorMessage}</p>\r\n        }\r\n\r\n        let notFollowedCategories = this.state.categories.map((topic, key) => {\r\n            return (\r\n                <div key={key} className={styles.topicContainer}>\r\n                    <p className={\"regularText \" + styles.regularTextNoMargin}>{topic.name}</p><img onClick={() => { this.followTopic(key) }} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/plus.svg\" />\r\n                </div>\r\n            );\r\n        });\r\n        let followedCategories = <p className={\"regularText \" + styles.regularText}>Please pick at least 3 topics</p>;\r\n        if (this.state.followedCategories.length > 0) {\r\n            followedCategories = this.state.followedCategories.map((topic, key) => {\r\n                return (\r\n                    <div key={key} className={styles.topicContainer}>\r\n                        <p className={\"regularText \" + styles.regularTextNoMargin}>{topic.name}</p><img onClick={() => { this.unfollowTopic(key) }} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/x.svg\" />\r\n                    </div>\r\n                );\r\n            });\r\n        }\r\n\r\n        return (\r\n            <div id={styles.bodyContainer}>\r\n                <div className={this.state.currentFormType == 0 ? styles.formCard + \" \" + styles.activeForm : styles.formCard}>\r\n                    <p className={\"title1 \" + styles.regularText}>Account setup (1/2)</p>\r\n                    <p className={\"title2 \" + styles.regularText}>Please fill in some more details</p>\r\n                    <input className={styles.inputText + \" inputText regularText\"} name=\"fname\" type={\"text\"} value={this.state.fname} placeholder=\"First Name\" onChange={this.handleInputChange}></input>\r\n                    <input className={styles.inputText + \" inputText regularText\"} name=\"lname\" type={\"text\"} value={this.state.lname} placeholder=\"Last Name\" onChange={this.handleInputChange}></input>\r\n                    <select className={styles.inputText + \" inputText regularText\"} onChange={this.handleInputChange} name=\"countryCode\" value={this.state.countryCode}>\r\n                        <option value=\"CA\">Canada</option>\r\n                        <option value=\"US\">United States</option>\r\n                        <option value=\"MX\">Mexico</option>\r\n                    </select>\r\n                    {type0ErrorMessage}\r\n                    <button className={styles.button + \" buttonCta regularTextMedium\"} onClick={() => {\r\n                        if (this.state.lname.length > 0) {\r\n                            if (this.state.fname.length > 0) {\r\n                                this.setState({\r\n                                    currentFormType: 1\r\n                                });\r\n                            } else {\r\n                                this.setState({\r\n                                    type0ErrorMessage: \"Please fill in your first name.\",\r\n                                    currentFormType: 0\r\n                                });\r\n                            }\r\n                        } else {\r\n                            this.setState({\r\n                                type0ErrorMessage: \"Please fill in your last name.\",\r\n                                currentFormType: 0\r\n                            });\r\n                        }\r\n                    }}>Continue</button>\r\n                </div>\r\n                <div className={this.state.currentFormType == 1 ? styles.formCard + \" \" + styles.activeForm : styles.formCard}>\r\n                    <p className={\"title1 \" + styles.regularText}>Account setup (2/2)</p>\r\n                    <p className={\"title2 \" + styles.regularText}>Which topics do you like? (pick at least 3)</p>\r\n                    {notFollowedCategories}\r\n                    <p className={\"title2 \" + styles.regularText}>Followed topics</p>\r\n                    {followedCategories}\r\n                    {type1ErrorMessage}\r\n                    <button className={styles.button + \" buttonCta regularTextMedium\"} onClick={this.submitForm}>Continue</button>\r\n                </div>\r\n                {\r\n                    this.state.isDataLoading == true ?\r\n                        <Spinner />\r\n                        :\r\n                        null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Setup;","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\StripePayment.js",["679","680","681","682","683"],"import React from \"react\";\r\nimport axios from \"axios\";\r\nimport queryString from \"query-string\";\r\nimport Spinner from \"microComponents/LoaderAnimation\";\r\nimport styles from \"public/style/stripePayment.module.css\";\r\nimport { integerToMoneyString } from \"miscFunctions\";\r\nimport Footer from \"microComponents/Footer.js\";\r\nimport DesktopTopNav from \"microComponents/DesktopTopNav.js\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\nimport { CardElement, ElementsConsumer } from '@stripe/react-stripe-js';\r\n\r\n\r\nconst CARD_ELEMENT_OPTIONS = {\r\n    style: {\r\n        base: {\r\n            color: \"#32325d\",\r\n            fontFamily: '\"Larsseit\", arial, sans-serif',\r\n            fontSmoothing: \"antialiased\",\r\n            fontSize: \"16px\",\r\n            \"::placeholder\": {\r\n                color: \"#aab7c4\",\r\n            },\r\n        },\r\n        invalid: {\r\n            color: \"#fa755a\",\r\n            iconColor: \"#fa755a\",\r\n        },\r\n    },\r\n};\r\n\r\nclass CheckoutForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isFormDisabled: true,\r\n            isDataLoading: true,\r\n            stripeErrorMessage: \"\",\r\n            buyNowPrice: 0,\r\n            offerAmount: null,\r\n            offerId: -1,\r\n            listingId: -1,\r\n            isTransactionSuccess: false,\r\n            shippingAddress:\"\",\r\n            shippingAddressInput:\"\"\r\n        }\r\n\r\n        this.handleInput = this.handleInput.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get(window.api_prefix+\"/getShippingAddress\").then(resp=>{\r\n            this.setState({\r\n                shippingAddress:resp.data\r\n            })\r\n        }).catch();\r\n        let listingId;\r\n        let offerId;\r\n        if (queryString.parse(window.location.search).listingId && queryString.parse(window.location.search).offerId) {\r\n            listingId = queryString.parse(window.location.search).listingId;\r\n            offerId = queryString.parse(window.location.search).offerId;\r\n            if (offerId == -1) {\r\n                //buy now price\r\n                axios.get(window.api_prefix+\"/listingPrice?listingId=\" + listingId).then(resp => {\r\n                    this.setState({\r\n                        buyNowPrice: resp.data.listingPrice,\r\n                        offerId: -1,\r\n                        isFormDisabled: false,\r\n                        isDataLoading: false,\r\n                        listingId: listingId\r\n                    });\r\n                }).catch(err => {\r\n                    if (err.response) {\r\n                        this.props.history.push(\"/\");\r\n                    }\r\n                });\r\n            } else {\r\n                //get offer amount\r\n                axios.get(window.api_prefix+\"/offerDetails?offerId=\" + offerId).then(resp => {\r\n                    this.setState({\r\n                        offerAmount: resp.data.offerDetails.amount,\r\n                        isFormDisabled: false,\r\n                        isDataLoading: false,\r\n                        offerId: offerId,\r\n                        listingId: listingId\r\n                    });\r\n                }).catch(err => {\r\n                    if (err.response) {\r\n                        this.props.history.push(\"/\");\r\n                    }\r\n                });\r\n            }\r\n        } else if (queryString.parse(window.location.search).listingId){\r\n            //buy now price\r\n            listingId = queryString.parse(window.location.search).listingId;\r\n            axios.get(window.api_prefix+\"/listingPrice?listingId=\" + listingId).then(resp => {\r\n                this.setState({\r\n                    buyNowPrice: resp.data.listingPrice,\r\n                    offerId: -1,\r\n                    isFormDisabled: false,\r\n                    isDataLoading: false,\r\n                    listingId: listingId\r\n                });\r\n            }).catch(err => {\r\n                if (err.response) {\r\n                    this.props.history.push(\"/\");\r\n                }\r\n            });\r\n        }else{\r\n            alert(\"YO\");\r\n            this.props.history.push(\"/\");\r\n        }\r\n    }\r\n\r\n    handleInput(e){\r\n        const {name, value} = e.target;\r\n        this.setState({\r\n           [name]:value\r\n        });\r\n    }\r\n\r\n    handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        const { stripe, elements } = this.props;\r\n        if (!stripe || !elements) {\r\n            return;\r\n        }\r\n        this.setState({\r\n            isFormDisabled: true,\r\n            isDataLoading: true,\r\n            stripeErrorMessage: \"\"\r\n        });\r\n\r\n        let shippingAddress = \"\";\r\n        if(this.state.shippingAddressInput.length>0){\r\n            shippingAddress = this.state.shippingAddressInput;\r\n        }else if(this.state.shippingAddress.length>0){\r\n            shippingAddress = this.state.shippingAddress;\r\n        }else{\r\n            this.setState({\r\n                isFormDisabled: true,\r\n                isDataLoading: true,\r\n                stripeErrorMessage: \"Please fill in your shipping address\"\r\n            });\r\n            return;\r\n        }\r\n\r\n\r\n        axios.post(window.api_prefix+\"/paymentIntent\", { listingId: this.state.listingId, shippingAddress: shippingAddress, offerId: this.state.offerId == -1 ? null : this.state.offerId }).then(async resp => {\r\n            console.log(resp.data.clientSecret);\r\n            const cardElement = elements.getElement(CardElement);\r\n\r\n            const result = await stripe.confirmCardPayment(resp.data.clientSecret, {\r\n                payment_method: {\r\n                    card: elements.getElement(CardElement),\r\n                    billing_details: {\r\n                        name: 'Jenny Rosen',\r\n                    },\r\n                },\r\n                setup_future_usage: 'off_session'\r\n            });\r\n            if (result.error) {\r\n\r\n                this.setState({\r\n                    isFormDisabled: false,\r\n                    isDataLoading: false,\r\n                    stripeErrorMessage: result.error.message\r\n                });\r\n            } else {\r\n                // The payment has been processed!\r\n                if (result.paymentIntent.status === 'succeeded') {\r\n                    this.setState({\r\n                        isFormDisabled: false,\r\n                        isDataLoading: false,\r\n                        stripeErrorMessage: \"\",\r\n                        isTransactionSuccess: true\r\n                    });\r\n                }\r\n            }\r\n        }).catch(err => {\r\n            if (err.response) {\r\n                this.setState({\r\n                    isFormDisabled: false,\r\n                    isDataLoading: false,\r\n                    stripeErrorMessage: err.response.data.message\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const { stripe } = this.props;\r\n        let amount = this.state.offerAmount;\r\n        if (amount == null) {\r\n            amount = integerToMoneyString(this.state.buyNowPrice);\r\n        } else {\r\n            amount = integerToMoneyString(amount);\r\n        }\r\n\r\n        let content;\r\n        if (this.state.isTransactionSuccess == true) {\r\n            content = (\r\n                <div id={styles.formCard}>\r\n                    <p className={\"title1 \" + styles.regularText}>Purchase successful!</p>\r\n                    <p className={\"regularText \" + styles.regularText}>Thank you for your purchase. We'll now send you a purchase receipt by email. Hope you like your item.</p>\r\n                    <p className={\"regularTextBold \" + styles.regularText}>Total: {amount}</p>\r\n                </div>\r\n            );\r\n        } else {\r\n            content = (\r\n                <div id={styles.formCard}>\r\n                    <p className={\"title1 \" + styles.regularText}>Payment method</p>\r\n                    <p className={\"regularText \" + styles.regularText}>Once the item purchased, the seller has 3 days to ship your item and upload a tracking number.</p>\r\n                    <form onSubmit={this.handleSubmit}>\r\n                        <div id={styles.formRow}>\r\n                            <CardElement options={CARD_ELEMENT_OPTIONS} />\r\n                        </div>\r\n                        <input className={\"regularText\"} type={\"text\"} id={styles.textInput} name={\"shippingAddressInput\"} onChange={this.handleInput} value={this.state.shippingAddressInput} placeholder={this.state.shippingAddress.length>0? this.state.shippingAddress: \"Fill in your full shipping address\"}/>\r\n                        <button className={\"buttonCta \" + styles.button} type=\"submit\" disabled={!stripe && this.state.isFormDisabled}>Pay now</button>\r\n                        {this.state.stripeErrorMessage.length > 0 ? <p>{this.state.stripeErrorMessage}</p> : null}\r\n                    </form>\r\n                    <p className={\"regularText \" + styles.regularTextHalfMargin}>Subtotal: {amount}</p>\r\n                    <p className={\"regularText \" + styles.regularTextHalfMargin}>Shipping: $0.00</p>\r\n                    <p className={\"regularText \" + styles.regularTextHalfMargin}>Taxes: !!!!</p>\r\n                    <p className={\"regularTextBold \" + styles.regularTextHalfMargin}>Total: {amount}</p>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                {content}\r\n                {\r\n                    this.state.isDataLoading == true ?\r\n                        <Spinner />\r\n                        :\r\n                        null\r\n                }\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nconst InjectedCheckoutForm = (props) => {\r\n    return (\r\n        <div>\r\n            <div id={styles.bodyContainer}>\r\n                <ElementsConsumer>\r\n                    {({ elements, stripe }) => (\r\n                        <CheckoutForm history={props.history} elements={elements} stripe={stripe} />\r\n                    )}\r\n                </ElementsConsumer>\r\n            </div>\r\n            <Footer />\r\n            <MobileBottomNav {...props} />\r\n            <DesktopTopNav key={new Date().getTime()} {...props} />\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\nexport default InjectedCheckoutForm;","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\microComponents\\InputKeyValue.js",[],["684","685"],"C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\PaymentInstructions.js",["686"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport axios from \"axios\";\r\nimport Footer from \"microComponents/Footer.js\";\r\nimport styles from \"public/style/saved.module.css\";\r\nimport DesktopTopNav from \"microComponents/DesktopTopNav.js\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\nimport queryString from \"query-string\";\r\nimport BodyContainer from \"microComponents/BodyContainer\";\r\nimport Body from \"microComponents/BodyContainer\";\r\nimport { integerToMoneyString } from \"miscFunctions\";\r\n\r\n\r\nlet monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\nclass Instructions extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            reservationDetails: {},\r\n            dataIsLoading: true,\r\n            sellerEmail: \"\"\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        let reservationId;\r\n        if (queryString.parse(window.location.search).tra_id) {\r\n            reservationId = queryString.parse(window.location.search).tra_id;\r\n            axios.get(window.api_prefix+\"/reservationDetails?id=\" + reservationId).then(resp => {\r\n\r\n                for (let i = 0; i < resp.data.otherDetails.length; i++) {\r\n                    if (resp.data.otherDetails[i].rows[0].price) {\r\n                        resp.data.details.buynowprice = resp.data.otherDetails[i].rows[0].price;\r\n                    }\r\n                    if (resp.data.otherDetails[i].rows[0].selleremail) {\r\n                        resp.data.details.selleremail = resp.data.otherDetails[i].rows[0].selleremail;\r\n                    }\r\n                }\r\n                console.log(resp.data);\r\n                this.setState({\r\n                    dataIsLoading: false,\r\n                    reservationDetails: resp.data.details,\r\n                    sellerEmail: resp.data.sellerEmail,\r\n                });\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    this.props.history.push(\"/\");\r\n                }\r\n            });\r\n        } else {\r\n            this.props.history.push(\"/\");\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.state.dataIsLoading === true) {\r\n            return (<p>Loading...</p>);\r\n        }\r\n        let endTimeStamp = new Date(this.state.reservationDetails.timestamp);\r\n        endTimeStamp.setMinutes(endTimeStamp.getMinutes() + 20);\r\n        let niceMinutes = endTimeStamp.getMinutes();\r\n        if (niceMinutes < 10) {\r\n            niceMinutes = \"0\" + niceMinutes;\r\n        }\r\n        let niceHours = endTimeStamp.getHours();\r\n        if (niceHours < 10) {\r\n            niceHours = \"0\" + niceHours;\r\n        }\r\n\r\n        let amount = this.state.reservationDetails.amount;\r\n        if (amount == null) {\r\n            amount = integerToMoneyString(this.state.reservationDetails.buynowprice);\r\n        } else {\r\n            amount = integerToMoneyString(amount);\r\n        }\r\n        let niceDateString = monthNames[endTimeStamp.getMonth()] + \" \" + endTimeStamp.getDate() + \", \" + endTimeStamp.getFullYear() + \" at \" + niceHours + \":\" + niceMinutes;\r\n        return (\r\n            <div>\r\n                <BodyContainer>\r\n                    <div id={styles.topMainContainer}>\r\n                        <div className={styles.innerMainContainer}>\r\n                            <p ref={this.savedListingsRef} className={styles.sectionTitleP + \" title1\"}>Payment instructions</p>\r\n                            <p className={styles.sectionTitleP + \" regularText\"}>Your purchase is not yet confirmed! Kindly send a payment of {amount} through Paypal to {this.state.reservationDetails.selleremail} before {niceDateString}. Otherwise after that time, the listing will be put back for sale and you won't be able to re-purchase it.</p>\r\n                        </div>\r\n                    </div>\r\n                </BodyContainer>\r\n                <Footer />\r\n                <MobileBottomNav {...this.props} />\r\n                <DesktopTopNav key={new Date().getTime()} {...this.props} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(Instructions);\r\n","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\microComponents\\SnackBar.js",[],"C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\VerifyListing.js",["687","688","689","690","691","692","693","694","695","696"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Footer from \"microComponents/Footer.js\";\r\nimport styles from \"public/style/saved.module.css\";\r\nimport DesktopTopNav from \"microComponents/DesktopTopNav.js\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\nimport SpecialCard from \"microComponents/SpecialListingCard.js\";\r\nimport BodyContainer from \"microComponents/BodyContainer\";\r\nimport Body from \"microComponents/BodyContainer\";\r\nimport Modal from \"microComponents/Modal.js\";\r\nimport ReviewsCard from \"microComponents/ReviewsCard.js\";\r\nimport Spinner from \"microComponents/LoaderAnimation\";\r\nimport Snackbar from \"microComponents/SnackBar.js\";\r\nimport queryString from \"query-string\";\r\n\r\nclass VerifyListing extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            listingId: 0,\r\n            verificationTimestamp: 0,\r\n            username: \"\",\r\n            isLoading: true,\r\n            formError: \"\",\r\n            picture: null,\r\n            isUploadingPic: false\r\n        }\r\n\r\n        this.handleImageUpload = this.handleImageUpload.bind(this);\r\n        this.removePicture = this.removePicture.bind(this);\r\n        this.submitVerification = this.submitVerification.bind(this);\r\n\r\n        this.pictureInputRef = React.createRef();\r\n\r\n        this.snackbarRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        if (queryString.parse(window.location.search).id) {\r\n            let listingId = queryString.parse(window.location.search).id;\r\n\r\n            axios.get(window.api_prefix+\"/listingVerifCode?id=\" + listingId).then(resp => {\r\n                console.log(resp.data);\r\n                this.setState({\r\n                    listingId: listingId,\r\n                    verificationTimestamp: resp.data.verificationTimestamp,\r\n                    username: resp.data.username,\r\n                    isLoading: false\r\n                });\r\n            }).catch();\r\n        } else {\r\n            this.props.history.push(\"/my-listings?activeTab=1\");\r\n        }\r\n    }\r\n\r\n    removePicture() {\r\n        this.setState({\r\n            picture: null\r\n        });\r\n        this.pictureInputRef.current.value = null;\r\n\r\n    }\r\n\r\n    handleImageUpload(e) {\r\n        let currentPicture = this.state.picture;\r\n        if (currentPicture == null) {\r\n            let file = e.target.files;\r\n            try {\r\n                if (!file) {\r\n                    throw new Error('Select a file first!');\r\n                }\r\n                const formData = new FormData();\r\n                formData.append('file', file[0]);\r\n                this.setState({\r\n                    isUploadingPic: true\r\n                });\r\n                axios.post(window.api_prefix+`/uploadListingVerification`, formData, {\r\n                    headers: {\r\n                        'Content-Type': 'multipart/form-data',\r\n                    },\r\n                }).then(resp => {\r\n                    this.setState({\r\n                        picture: resp.data.Location,\r\n                        isUploadingPic: false\r\n                    });\r\n                });\r\n\r\n                this.pictureInputRef.current.value = null;\r\n            } catch (error) {\r\n                this.setState({\r\n                    formError: \"There has been a server error, please try again.\",\r\n                    isUploadingPic: false\r\n                });\r\n            }\r\n        } else {\r\n            this.setState({\r\n                formError: \"Please remove your picture before uploading it again.\",\r\n                isUploadingPic: false\r\n            });\r\n        }\r\n    }\r\n\r\n    submitVerification() {\r\n        if (this.state.picture != null) {\r\n            this.setState({\r\n                isUploadingPic: true\r\n            });\r\n            axios.post(window.api_prefix+\"/submitListingVerification\", { picture: this.state.picture, listingId: this.state.listingId }).then(resp => {\r\n                this.props.history.push(\"/my-listings?activeTab=1\");\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    this.setState({\r\n                        formError: \"There has been a server error, please try again.\",\r\n                        isUploadingPic: false\r\n                    });\r\n                }\r\n            }\r\n            );\r\n        } else {\r\n            this.setState({\r\n                formError: \"Please upload your picture.\",\r\n                isUploadingPic: false\r\n            });\r\n        }\r\n    }\r\n    render() {\r\n        const { t } = this.props;\r\n        if (this.state.isLoading == true) {\r\n            return (\r\n                <div>\r\n                    <BodyContainer>\r\n                        <div className={styles.innerMainContainer}>\r\n                            Loading...\r\n                        </div>\r\n                    </BodyContainer>\r\n\r\n                    <Footer />\r\n                    <MobileBottomNav {...this.props} />\r\n                    <DesktopTopNav key={new Date().getTime()} {...this.props} />\r\n                </div>\r\n            );\r\n        }\r\n\r\n        let picturePreviews;\r\n        if (this.state.picture != null) {\r\n            picturePreviews = (\r\n                <div className={styles.pictureSquare} onClick={() => this.removePicture()} style={{ backgroundImage: \"url('\" + this.state.picture + \"')\" }}>\r\n                    <div>\r\n                        <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/x.svg\" />\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <BodyContainer>\r\n                    <div className={styles.innerMainContainer}>\r\n                        <p ref={this.activeOffersRef} className={styles.sectionTitleP + \" title1 \"}>Let's verify your listing.</p>\r\n                        <p ref={this.activeOffersRef} className={styles.sectionTitleP + \" regularText\"}>Please upload a picture showing your item and a paper where you will have written your username <span className=\"regularTextBold\">@{this.state.username}</span> and the numbers <span className=\"regularTextBold\">{this.state.verificationTimestamp}</span>.</p>\r\n                        {picturePreviews}\r\n                        {\r\n                            this.state.picture == null ?\r\n                                <label id={styles.fileInputLabel} htmlFor={styles.fileInput}>\r\n                                    <div>\r\n                                        <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/plus.svg\" />\r\n                                    </div>\r\n                                </label>\r\n                                :\r\n                                null\r\n                        }\r\n                        <div className={styles.paddedContainer}>\r\n                            <input id={styles.fileInput} onChange={this.handleImageUpload} ref={this.pictureInputRef} type=\"file\" accept=\".jpg, .jpeg, .png, .svg\"></input>\r\n                            <button className={styles.ctaButton + \" buttonCta\"} onClick={this.submitVerification}>Submit</button>\r\n                            <p>{this.state.formError}</p>\r\n                        </div>\r\n                    </div>\r\n                </BodyContainer>\r\n\r\n                <Footer />\r\n                <MobileBottomNav {...this.props} />\r\n                <DesktopTopNav key={new Date().getTime()} {...this.props} />\r\n                {\r\n                    this.state.isUploadingPic == true ?\r\n                        <Spinner />\r\n                        :\r\n                        null\r\n                }\r\n                <Snackbar ref={this.snackbarRef} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(VerifyListing);\r\n","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\LogoutScript.js",[],"C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\Warzone.js",["697","698","699","700","701","702","703","704","705","706","707","708","709","710","711","712","713","714","715","716","717","718"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Footer from \"microComponents/Footer.js\";\r\nimport styles from \"public/style/warzone.module.css\";\r\nimport DesktopTopNav from \"microComponents/DesktopTopNav.js\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\nimport ListingCard from \"microComponents/ListingCard.js\";\r\nimport BodyContainer from \"microComponents/BodyContainer\";\r\nimport Modal from \"microComponents/Modal\";\r\nimport MobileSearch from \"microComponents/MobileSearch\";\r\n\r\nclass Index extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n\r\n      featuredListings: [],\r\n      followedListings: [],\r\n      hotListings: [],\r\n      categories: [],\r\n      categoryCurrentParentId: -1,\r\n      isCategoriesModalDisplayed: false,\r\n\r\n      listingsIsLoaded: false,\r\n      userName: \"\",\r\n      activeSectionTitle: -1,\r\n\r\n      isMobileSearchDisplayed:false\r\n    }\r\n\r\n\r\n\r\n    this.categoriesContainerRef = React.createRef();\r\n    this.followedListingsRef = React.createRef();\r\n    this.searchSuggestModalRef = React.createRef();\r\n    this.featuredListingsRef = React.createRef();\r\n    this.hotListingsRef = React.createRef();\r\n    this.scrollTopButtonRef = React.createRef();\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios.get(window.api_prefix+\"/allCategories\").then(res => {\r\n      for (let i = 0; i < res.data.length; i++) {\r\n        if (res.data[i].parentid != null) {\r\n          for (let j = 0; j < res.data.length; j++) {\r\n            if (res.data[i].parentid === res.data[j].id) {\r\n              if (res.data[j].children) {\r\n                res.data[j].children.push(res.data[i]);\r\n              } else {\r\n                res.data[j].children = [res.data[i]];\r\n              }\r\n              res.data.splice(i, 1);\r\n              i--;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      this.setState({\r\n        categories: res.data\r\n      });\r\n    }).catch();\r\n    axios.get(window.api_prefix+\"/customFeed\").then(resp => {\r\n      this.setState({\r\n        listingsIsLoaded: true,\r\n        followedListings: resp.data.feed,\r\n        userName: resp.data.name\r\n      });\r\n    }).catch();\r\n\r\n\r\n    // Get the header\r\n    // var featuredListings = this.featuredListingsRef.current;\r\n    var followedListings = this.followedListingsRef.current;\r\n    // var hotListings = this.hotListingsRef.current;\r\n\r\n    let followedPosition = 2000;\r\n    let featuredPosition = 2000;\r\n    let hotPosition = 2000;\r\n    let prevScrollpos = window.pageYOffset;\r\n\r\n    let fixedPositionsRegistered = false;\r\n\r\n    window.onscroll = () => {\r\n\r\n\r\n      let vwWidth = document.documentElement.clientWidth;\r\n      let scrollY = window.pageYOffset || window.scrollY;\r\n\r\n\r\n      if (vwWidth > 780) {\r\n        if (this.categoriesContainerRef.current) {\r\n          if (scrollY >= 585) {\r\n            this.categoriesContainerRef.current.classList.add(styles.fixedCategoriesContainer);\r\n          } else {\r\n            this.categoriesContainerRef.current.classList.remove(styles.fixedCategoriesContainer)\r\n          }\r\n        }\r\n      }\r\n\r\n\r\n      if (this.state.listingsIsLoaded == true && vwWidth <= 780) {\r\n\r\n        if (fixedPositionsRegistered == false) {\r\n          // var stickyFeatured = featuredListings.getBoundingClientRect();\r\n          // var stickyFollowed = followedListings.getBoundingClientRect();\r\n          // var stickyHot = hotListings.getBoundingClientRect();\r\n          fixedPositionsRegistered = true;\r\n          // followedPosition = stickyFollowed.top + scrollY;\r\n          // featuredPosition = stickyFeatured.top + scrollY;\r\n          // hotPosition = stickyHot.top + scrollY;\r\n        } else {\r\n          // if (followedPosition <= scrollY) {\r\n          //   if (this.state.activeSectionTitle != 2) {\r\n          //     this.setState({\r\n          //       activeSectionTitle: 2\r\n          //     });\r\n          //   }\r\n          //\r\n          //   // else if (hotPosition <= scrollY) {\r\n          //   //   if (this.state.activeSectionTitle != 1) {\r\n          //   //     this.setState({\r\n          //   //       activeSectionTitle: 1\r\n          //   //     });\r\n          //   //   }\r\n          //   // } else if (featuredPosition <= scrollY) {\r\n          //   //   if (this.state.activeSectionTitle != 0) {\r\n          //   //     this.setState({\r\n          //   //       activeSectionTitle: 0\r\n          //   //     });\r\n          //   //   }\r\n          // } else {\r\n          //   if (this.state.activeSectionTitle != -1) {\r\n          //     this.setState({\r\n          //       activeSectionTitle: -1\r\n          //     });\r\n          //   }\r\n          // }\r\n          if (this.scrollTopButtonRef.current) {\r\n            if ((prevScrollpos <= scrollY) || scrollY < 200) {\r\n              this.scrollTopButtonRef.current.classList.add(styles.displayNone);\r\n            } else {\r\n              this.scrollTopButtonRef.current.classList.remove(styles.displayNone);\r\n            }\r\n          }\r\n          prevScrollpos = scrollY;\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.onscroll = undefined;\r\n    document.onclick = undefined;\r\n    document.body.style.overflow = \"visible\";\r\n  }\r\n\r\n\r\n\r\n\r\n  postCatTrend(catId) {\r\n    axios.post(window.api_prefix+\"/categorySearchClick\", { catId: catId });\r\n  }\r\n\r\n  render() {\r\n    const { t } = this.props;\r\n\r\n    let desktopSearchSuggest;\r\n    let desktopCategoriesList = [];\r\n    if (this.state.categoryCurrentParentId == -1) {\r\n      let seeMoreDiv;\r\n      let catQtity = 0;\r\n      for (let j = 0; j < this.state.categories.length && j <= 4; j++) {\r\n        let cat = this.state.categories[j];\r\n        catQtity++;\r\n        if (cat.children) {\r\n          desktopCategoriesList.push(\r\n            <p className={styles.searchSuggestP + \" regularText\"} onClick={() => { this.setState({ categoryCurrentParentId: cat.id }) }} key={j}>{cat.name} <img className={styles.chevronImgCategories} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-right.svg\" /></p>\r\n          );\r\n        } else {\r\n          desktopCategoriesList.push(\r\n            <Link to={\"/search?cat=\" + cat.id} onClick={() => { this.postCatTrend(cat.id) }} key={j}>\r\n              <p className={styles.searchSuggestP + \" regularText\"} >{cat.name}</p>\r\n            </Link>\r\n          );\r\n        }\r\n      }\r\n      if (2 == 2) {\r\n        seeMoreDiv = (\r\n          <div id={styles.seeMoreCats}>\r\n            <p className={styles.regularTextNoMargin + \" regularText\"} onClick={() => { this.setState({ isCategoriesModalDisplayed: true }); }}>See more</p>\r\n          </div>\r\n        );\r\n      }\r\n      desktopSearchSuggest = (\r\n        <div>\r\n          <div ref={this.searchSuggestModalRef} className={styles.searchSuggestMainContainer}>\r\n            <p className={styles.regularTextNoMargin + \" regularTextBold\"}>Categories</p>\r\n            {desktopCategoriesList}\r\n          </div>\r\n          {seeMoreDiv}\r\n        </div>\r\n      );\r\n    } else {\r\n      let seeMoreDiv;\r\n      for (let i = 0; i < this.state.categories.length; i++) {\r\n        if (this.state.categories[i].id === this.state.categoryCurrentParentId) {\r\n          let parentCategoryName = this.state.categories[i].name;\r\n          let catQtity = 0;\r\n          desktopCategoriesList = this.state.categories[i].children.map((cat, key) => {\r\n            catQtity++;\r\n            return (\r\n              <Link to={\"/search?cat=\" + cat.id} onClick={() => { this.postCatTrend(cat.id) }} key={key}>\r\n                <p className={styles.searchSuggestP + \" regularText\"} >{cat.name}</p>\r\n              </Link>\r\n            );\r\n          });\r\n          desktopCategoriesList.push(\r\n            <Link to={\"/search?cat=\" + this.state.categoryCurrentParentId} onClick={() => { this.postCatTrend(this.state.categoryCurrentParentId) }} key={\"cat_all\"}>\r\n              <p className={styles.searchSuggestP + \" regularText\"}>See all {parentCategoryName}</p>\r\n            </Link>\r\n          );\r\n          if (catQtity * 50 > (window.innerHeight - 365)) {\r\n            seeMoreDiv = (\r\n              <div id={styles.seeMoreCats} onClick={() => { this.setState({ isCategoriesModalDisplayed: true }); }}>\r\n                <p className={styles.regularTextNoMargin + \" regularText\"}>See more</p>\r\n              </div>\r\n            );\r\n          }\r\n          desktopSearchSuggest = (\r\n            <div>\r\n              <div ref={this.searchSuggestModalRef} className={styles.searchSuggestMainContainer}>\r\n                <p className={styles.regularTextNoMargin + \" regularTextBold \" + styles.clickable} onClick={() => { this.setState({ categoryCurrentParentId: -1 }) }}><img className={styles.chevronImgCategories + \" \" + styles.bottomAlignChevron} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-left.svg\" /> {parentCategoryName}</p>\r\n                {desktopCategoriesList}\r\n              </div>\r\n              {seeMoreDiv}\r\n            </div>\r\n          );\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n\r\n    let featuredListings = <p className={styles.emptyStateMessageP}>No featured listings yet.</p>\r\n    if (this.state.featuredListings.length > 0) {\r\n      featuredListings = this.state.featuredListings.map((listing, key) => {\r\n        return (\r\n          <ListingCard key={key} listing={listing} />\r\n        );\r\n      });\r\n    }\r\n\r\n    let followedListings = <p className={styles.emptyStateMessageP}>No followed listings yet.</p>\r\n    if (this.state.followedListings.length > 0) {\r\n      followedListings = this.state.followedListings.map((listing, key) => {\r\n        return (\r\n          <ListingCard key={key} listing={listing} />\r\n        );\r\n      });\r\n    }\r\n\r\n    let hotListings = <p className={styles.emptyStateMessageP}>No hot listings yet.</p>\r\n    if (this.state.hotListings.length > 0) {\r\n      hotListings = this.state.hotListings.map((listing, key) => {\r\n        return (\r\n          <ListingCard key={key} listing={listing} />\r\n        );\r\n      });\r\n    }\r\n\r\n    let allCategoriesList = [];\r\n    for (let i = 0; i < this.state.categories.length; i++) {\r\n      allCategoriesList.push(<Link key={i} to={\"/search?cat=\" + this.state.categories[i].id} onClick={() => { this.postCatTrend(this.state.categories[i].id) }} className={\"regularTextMedium \" + styles.allCatsTitle}><p>{this.state.categories[i].name}</p></Link>);\r\n      if (this.state.categories[i].children) {\r\n        for (let j = 0; j < this.state.categories[i].children.length; j++) {\r\n          allCategoriesList.push(<Link key={i + \"_\" + j} to={\"/search?cat=\" + this.state.categories[i].children[j].id} onClick={() => { this.postCatTrend(this.state.categories[i].children[j].id) }} className={\"regularText \" + styles.allCatsText}><p>{this.state.categories[i].children[j].name}</p></Link>);\r\n        }\r\n      }\r\n    }\r\n\r\n    let mobileStickyHeader;\r\n    if (this.state.activeSectionTitle != -1) {\r\n      let stickyMobileHeaderText;\r\n      switch (this.state.activeSectionTitle) {\r\n        case 0:\r\n          stickyMobileHeaderText = \"Featured listings\";\r\n          break;\r\n        case 1:\r\n          stickyMobileHeaderText = \"Hot finds\";\r\n          break;\r\n        case 2:\r\n          stickyMobileHeaderText = \"Based on what you follow\";\r\n          break;\r\n      }\r\n      mobileStickyHeader = (\r\n        <p ref={this.hotListingsRef} className={styles.sectionTitleP + \" regularTextBold \" + styles.stickyHeader}>{stickyMobileHeaderText}</p>\r\n      );\r\n    }\r\n\r\n\r\n    let circleDesktopCategories = [];\r\n\r\n    for (let j = 0; j < this.state.categories.length && j < 7; j++) {\r\n      let cat = this.state.categories[j];\r\n      circleDesktopCategories.push(\r\n              <div className={styles.popCategoryContainer} key={j}>\r\n                <Link style={{textDecoration:\"none\", color:\"black\"}} to={\"/search?cat=\" + cat.id} onClick={() => { this.postCatTrend(cat.id) }} key={j}>\r\n                <div>\r\n                  <img src={cat.picture} />\r\n                </div>\r\n                <p className={\"regularText\"}>{cat.name}</p>\r\n                </Link>\r\n              </div>\r\n        );\r\n    }\r\n\r\n    let displayName = \"you\";\r\n    if(this.state.userName && this.state.userName.length > 0){\r\n      displayName = \"@\"+this.state.userName;\r\n    }\r\n    return (\r\n      <div>\r\n        <div id={styles.desktopMainHeader}>\r\n          <div id={styles.mainBannerDesktop}>\r\n            <div id={styles.imgLeftBanner}>\r\n              <p style={{ margin: \"0 0 10px 0\" }} className={\"regularTextMedium\"}>verified sellers • verified listings</p>\r\n              <p style={{ margin: \"0 0 70px 0\" }} className={\"mainHeadline\"}>Pre-owned electronics you can trust.</p>\r\n              <Link to=\"/new-listing\" className={\"regularTextMedium blueButton\"}>Start selling now</Link>\r\n            </div>\r\n            <div id={styles.imgRightBanner} style={{backgroundImage:\"url('https://cambio-ui.s3.amazonaws.com/bannerMainMarble.png')\"}}></div>\r\n          </div>\r\n        </div>\r\n        <BodyContainer>\r\n          {/*{mobileStickyHeader}*/}\r\n          <div className={styles.topMainContainer}>\r\n            <div className={styles.topMainContainerInnerContainer}>\r\n              <div id={styles.mobileTopNav}>\r\n                <div id={styles.mobileTopNavTopDiv}>\r\n                  <p className={\"megaTitle \" + styles.topWelcomeMessage}>👋  Hey {displayName}!</p>\r\n                  <div id={styles.searchIconClick} onClick={() => {\r\n                    this.setState({\r\n                      isMobileSearchDisplayed:true\r\n                    })\r\n                  }}>\r\n                    <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/search.svg\" />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div id={styles.mobileMainHeader}>\r\n                <p style={{ margin: \"0 0 10px 0\" }} className={\"regularTextMedium\"}>verified sellers • verified listings</p>\r\n                <p style={{ margin: \"0 0 60px 0\" }} className={\"mainHeadline\"}>Pre-owned electronics you can trust.</p>\r\n                <Link to=\"/new-listing\" className={\"regularTextMedium blueButton\"}>Start selling now</Link>\r\n              </div>\r\n\r\n              <div id={styles.mobileCategorySlideshow}>\r\n                {circleDesktopCategories}\r\n                {/*<div onClick={() => { this.setState({ isCategoriesModalDisplayed: true }); }} className={styles.popCategoryContainer}>*/}\r\n                {/*    <div>*/}\r\n                {/*      <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/plus.svg\" />*/}\r\n                {/*    </div>*/}\r\n                {/*    <p className={\"regularTextMedium\"}>See all</p>*/}\r\n                {/*</div>*/}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n\r\n\r\n\r\n\r\n          {/* <div className={styles.mainFeedContainers}>\r\n            <div className={styles.innerMainContainer}>\r\n              <p ref={this.featuredListingsRef} className={styles.sectionTitleP + \" title2\"}>Featured listings</p>\r\n              {featuredListings}\r\n            </div>\r\n          </div>\r\n\r\n          <div className={styles.mainFeedContainers}>\r\n            <div className={styles.innerMainContainer}>\r\n              <p ref={this.hotListingsRef} className={styles.sectionTitleP + \" title2\"}>Hot finds</p>\r\n              {hotListings}\r\n            </div>\r\n          </div> */}\r\n\r\n          <div className={styles.mainFeedContainers}>\r\n            <div className={styles.innerMainContainer}>\r\n              <p className={styles.desktopTitle+\" title2\"}>Items for you</p>\r\n              {/*<p ref={this.followedListingsRef} className={styles.sectionTitleP + \" title2\"}>Based on what you follow</p>*/}\r\n              {followedListings}\r\n            </div>\r\n          </div>\r\n        </BodyContainer>\r\n\r\n\r\n\r\n\r\n\r\n        <div id={styles.scrollTopContainer} ref={this.scrollTopButtonRef} className={styles.displayNone}>\r\n          <div id={styles.scrollTopButton}  onClick={() => {\r\n            window.scrollTo({ top: 0, behavior: 'smooth' });\r\n            // this.featuredListingsRef.current.classList.remove(styles.stickyHeader);\r\n            // this.featuredListingsRef.current.parentElement.classList.remove(styles.stickyHeaderParent);\r\n            // this.followedListingsRef.current.classList.remove(styles.stickyHeader);\r\n            // this.followedListingsRef.current.parentElement.classList.remove(styles.stickyHeaderParent);\r\n          }}>\r\n            <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-up.svg\" />\r\n          </div>\r\n        </div>\r\n\r\n\r\n        <Footer />\r\n        <MobileBottomNav {...this.props} />\r\n        <DesktopTopNav key={new Date().getTime()} {...this.props} />\r\n        {/*<ActivityTicker />*/}\r\n\r\n\r\n        {/*<div ref={this.categoriesContainerRef} id={styles.categoriesMainContainer}>*/}\r\n        {/*  {desktopSearchSuggest}*/}\r\n        {/*</div>*/}\r\n\r\n\r\n        {this.state.isMobileSearchDisplayed == true? <MobileSearch history={this.props.history} closeSearch = {()=>{this.setState({isMobileSearchDisplayed:false})}} categories={this.state.categories} />:null}\r\n\r\n        <Modal title=\"Categories\" closeModal={() => {\r\n          this.setState({\r\n            isCategoriesModalDisplayed: false\r\n          })\r\n        }} show={this.state.isCategoriesModalDisplayed}>\r\n          {allCategoriesList}\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default withTranslation()(Index);\r\n","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\miscFunctions.js",[],"C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\BlogPost.js",["719","720","721","722"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport Footer from \"microComponents/Footer.js\";\r\nimport styles from \"public/style/articlePage.module.css\";\r\nimport DesktopTopNav from \"microComponents/DesktopTopNav.js\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\nimport axios from \"axios\";\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isDataLoading: true,\r\n            post: {}\r\n        }\r\n        this.searchTopContainer = React.createRef();\r\n        this.categoriesContainerRef = React.createRef();\r\n        this.searchInputRef = React.createRef();\r\n        this.followedListingsRef = React.createRef();\r\n        this.searchSuggestModalRef = React.createRef();\r\n        this.featuredListingsRef = React.createRef();\r\n        this.hotListingsRef = React.createRef();\r\n        this.scrollTopButtonRef = React.createRef();\r\n        this.searchContainerRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.match.params.id) {\r\n            let postId = this.props.match.params.id;\r\n            axios.get(window.api_prefix+\"/blogPost?id=\" + postId).then(resp => {\r\n                this.setState({\r\n                    post: resp.data,\r\n                    isDataLoading: false\r\n                });\r\n            });\r\n        } else {\r\n            this.props.history.push(\"/community\");\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.onscroll = undefined;\r\n        document.onclick = undefined;\r\n    }\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n\r\n        if (this.state.isDataLoading == true) {\r\n            return <p>Loading...</p>;\r\n        }\r\n        let bodyStringSplit = this.state.post.body.split(\"<%b%>\");\r\n        console.log(bodyStringSplit);\r\n        let paragraphs = bodyStringSplit.map((parag, key) => {\r\n            if (parag.substring(0, 4) == \"<p%>\") {\r\n                return (\r\n                    <p key={key} className={\"regularText \" + styles.regularText}>{parag.substring(4, parag.length)}</p>\r\n                );\r\n            } else if (parag.substring(0, 4) == \"<t%>\") {\r\n                return (\r\n                    <p key={key} className={\"title2 \" + styles.regularText}>{parag.substring(4, parag.length)}</p>\r\n                );\r\n            } else {\r\n                return null;\r\n            }\r\n        });\r\n        console.log(paragraphs);\r\n        return (\r\n            <div>\r\n                <div id={styles.articleContainer}>\r\n                    <p className={\"title1 \" + styles.regularText}>{this.state.post.title}</p>\r\n                    {paragraphs}\r\n                </div>\r\n                <Footer />\r\n                <MobileBottomNav {...this.props} />\r\n                <DesktopTopNav key={new Date().getTime()} {...this.props} />\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default withTranslation()(Index);\r\n","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\serviceWorkerRegistration.js",[],"C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\subscription.js",[],"C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\employeeScripts\\PrivateRoute.js",[],["723","724"],"C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\employeeScripts\\views\\Login.js",["725","726","727","728","729"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { loginEmployee } from \"../../reduxActions/authActions\";\r\nimport styles from \"../../public/style/authenticationForms.module.css\";\r\nimport Spinner from \"../../microComponents/LoaderAnimation\";\r\n\r\nconst emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\nclass Login extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email: \"\",\r\n            password: \"\",\r\n            formErrorMessage: \"\",\r\n            isDataLoading: false,\r\n            serverErrorMessage: \"\"\r\n        }\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleFormSubmit = this.handleFormSubmit.bind(this);\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        // If logged in and user navigates to Register page, should redirect them to dashboard\r\n        if (this.props.auth.isEmployeeAuthenticated) {\r\n            this.props.history.push(\"/home\");\r\n        }\r\n    }\r\n\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState) {\r\n        console.log(nextProps.auth);\r\n        if (nextProps.auth.isEmployeeAuthenticated) {\r\n            nextProps.history.push(\"/home\"); // push user to dashboard when they login\r\n            return null;\r\n        } else if (nextProps.errors && nextProps.errors.message) {\r\n            console.log(nextProps);\r\n            return { serverErrorMessage: nextProps.errors.message, isDataLoading: false };\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        const { name, value } = e.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    handleFormSubmit() {\r\n        this.setState({\r\n            formErrorMessage: \"\"\r\n        });\r\n        if (this.state.email.length > 0 && this.state.password.length > 0) {\r\n            if (emailRegex.test(this.state.email) === true) {\r\n                this.setState({ isDataLoading: true });\r\n                let loginObj = { email: this.state.email, password: this.state.password };\r\n                this.props.loginEmployee(loginObj);\r\n            } else {\r\n                this.setState({\r\n                    formErrorMessage: \"Your email is not valid.\"\r\n                });\r\n            }\r\n        } else {\r\n            this.setState({\r\n                formErrorMessage: \"Please fill in all the fields.\"\r\n            });\r\n        }\r\n    }\r\n    render() {\r\n        let errorMessage;\r\n        if (this.state.formErrorMessage.length > 0) {\r\n            errorMessage = <p className={\"errorText \" + styles.regularText}>{this.state.formErrorMessage}</p>\r\n        } else if (this.state.serverErrorMessage.length > 0) {\r\n            errorMessage = <p className={\"errorText \" + styles.regularText}>{this.state.serverErrorMessage}</p>\r\n        }\r\n        return (\r\n            <div>\r\n                <div id={styles.bodyContainer}>\r\n                    <div id={styles.formCard}>\r\n                        <Link to=\"/\">\r\n                            <img alt=\"logo\" id={styles.logo} src=\"https://staticassets2020.s3.amazonaws.com/logos/logoV1orangeTransparent.png\" />\r\n                        </Link>\r\n                        <p className={\"title1 \" + styles.regularText}>Employee portal</p>\r\n                        <input className={styles.inputText + \" inputText regularText\"} type=\"email\" name=\"email\" value={this.state.email} onChange={this.handleInputChange} placeholder=\"Email address\"></input>\r\n                        <input className={styles.inputText + \" inputText regularText\"} type=\"password\" name=\"password\" value={this.state.password} onChange={this.handleInputChange} placeholder=\"Password\"></input>\r\n                        {errorMessage}\r\n                        {/* <p className={\"regularText \" + styles.regularText}>Don't have an account? <Link to=\"/signup\" className={styles.link + \" \" + styles.regularText}>Sign up now.</Link></p> */}\r\n                        <button className={styles.button + \" buttonCta regularTextMedium\"} onClick={this.handleFormSubmit}>Continue</button>\r\n                    </div>\r\n                </div>\r\n                {\r\n                    this.state.isDataLoading == true ?\r\n                        <Spinner />\r\n                        :\r\n                        null\r\n                }\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nLogin.propTypes = {\r\n    loginEmployee: PropTypes.func.isRequired,\r\n    auth: PropTypes.object.isRequired,\r\n    errors: PropTypes.object.isRequired\r\n};\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    errors: state.errors\r\n});\r\nexport default connect(\r\n    mapStateToProps,\r\n    { loginEmployee }\r\n)(withTranslation()(Login));","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\employeeScripts\\views\\Signup.js",["730","731","732","733","734","735","736","737","738"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { registerUser } from \"../../reduxActions/authActions\";\r\nimport styles from \"../../public/style/authenticationForms.module.css\";\r\nimport Spinner from \"../../microComponents/LoaderAnimation\";\r\nimport axios from \"axios\";\r\nimport queryString from \"query-string\";\r\n\r\n\r\nconst emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\nclass Signup extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email: \"\",\r\n            password: \"\",\r\n            username: \"\",\r\n            formErrorMessage: \"\",\r\n            isDataLoading: false,\r\n            serverErrorMessage: \"\",\r\n            usernameErrorMessage: \"\",\r\n            usernameSuccessMessage: \"\",\r\n            unameIsValid: false,\r\n            isLoading: true,\r\n            tokenValue: null,\r\n            waitlistSuccessMessage: \"\"\r\n        }\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleFormSubmit = this.handleFormSubmit.bind(this);\r\n        this.verifyUsername = this.verifyUsername.bind(this);\r\n        this.handleWaitlistSubmit = this.handleWaitlistSubmit.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        // If logged in and user navigates to Register page, should redirect them to dashboard\r\n        if (this.props.auth.isEmployeeAuthenticated) {\r\n            this.props.history.push(\"/home\");\r\n        }\r\n        if (queryString.parse(window.location.search).token) {\r\n            let tokenValue = queryString.parse(window.location.search).token;\r\n            this.setState({\r\n                isLoading: false,\r\n                tokenValue: tokenValue\r\n            });\r\n        } else {\r\n            this.setState({\r\n                isLoading: false,\r\n            });\r\n        }\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState) {\r\n        if (nextProps.errors && nextProps.errors.message) {\r\n            return { serverErrorMessage: nextProps.errors.message, isDataLoading: false };\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n    handleInputChange(e) {\r\n        const { name, value } = e.target;\r\n        if (name === \"username\") {\r\n            this.setState({\r\n                [name]: value,\r\n                unameIsValid: false\r\n            });\r\n        } else {\r\n            this.setState({\r\n                [name]: value\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    verifyUsername() {\r\n        this.setState({\r\n            usernameSuccessMessage: \"\",\r\n            usernameErrorMessage: \"\"\r\n        });\r\n        if (this.state.username.length > 0) {\r\n            axios.get(\"/api/usernameIsValid?uname=\" + this.state.username).then(resp => {\r\n                if (parseInt(resp.data.count) > 0) {\r\n                    this.setState({\r\n                        usernameSuccessMessage: \"\",\r\n                        usernameErrorMessage: \"This username is already taken.\",\r\n                        unameIsValid: false\r\n                    });\r\n                } else {\r\n                    this.setState({\r\n                        usernameSuccessMessage: \"Congrats, this username is stil available.\",\r\n                        usernameErrorMessage: \"\",\r\n                        unameIsValid: true\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    handleWaitlistSubmit() {\r\n        this.setState({\r\n            formErrorMessage: \"\",\r\n        });\r\n        if (this.state.email.length > 0) {\r\n            if (emailRegex.test(this.state.email) === true) {\r\n                if (this.state.email.length >= 6 && this.state.email.length < 255) {\r\n                    this.setState({\r\n                        isDataLoading: true\r\n                    });\r\n                    let signupObj = { email: this.state.email };\r\n                    axios.post(\"/api/addUserToWaitlist\", signupObj).then(resp => {\r\n                        this.setState({\r\n                            isDataLoading: false,\r\n                            waitlistSuccessMessage: \"You have successfully been added to our waitlist! Check your emails regularly.\"\r\n                        });\r\n                    }).catch(err => {\r\n                        this.setState({\r\n                            formErrorMessage: \"There has been a server error, please try again.\"\r\n                        });\r\n                        this.setState({\r\n                            isDataLoading: false\r\n                        });\r\n                    });\r\n                } else {\r\n                    this.setState({\r\n                        formErrorMessage: \"Your email should have between 6 and 255 characters.\"\r\n                    });\r\n                    this.setState({\r\n                        isDataLoading: false\r\n                    });\r\n                }\r\n            } else {\r\n                this.setState({\r\n                    formErrorMessage: \"Your email is not valid.\"\r\n                });\r\n                this.setState({\r\n                    isDataLoading: false\r\n                });\r\n            }\r\n        } else {\r\n            this.setState({\r\n                formErrorMessage: \"Please fill in all the fields.\"\r\n            });\r\n        }\r\n    }\r\n\r\n    handleFormSubmit() {\r\n        this.setState({\r\n            formErrorMessage: \"\",\r\n        });\r\n        if (this.state.email.length > 0 && this.state.password.length > 0 && this.state.username.length > 0 && this.state.tokenValue != null) {\r\n            if (emailRegex.test(this.state.email) === true) {\r\n                if (this.state.email.length >= 6 && this.state.email.length < 255) {\r\n                    if (this.state.password.length >= 6 && this.state.password.length < 255) {\r\n                        if (this.state.username.length < 255) {\r\n                            if (this.state.unameIsValid == true) {\r\n                                this.setState({\r\n                                    isDataLoading: true\r\n                                });\r\n                                let signupObj = { token: this.state.tokenValue, email: this.state.email, password: this.state.password, username: this.state.username };\r\n                                this.props.registerUser(signupObj, this.props.history);\r\n                            } else {\r\n                                this.setState({\r\n                                    formErrorMessage: \"Please pick a valid username.\"\r\n                                });\r\n                            }\r\n                        } else {\r\n                            this.setState({\r\n                                formErrorMessage: \"Your last name should have less than 255 characters.\"\r\n                            });\r\n                        }\r\n                    } else {\r\n                        this.setState({\r\n                            formErrorMessage: \"Your password should have between 6 and 255 characters.\"\r\n                        });\r\n                    }\r\n                } else {\r\n                    this.setState({\r\n                        formErrorMessage: \"Your email should have between 6 and 255 characters.\"\r\n                    });\r\n                }\r\n            } else {\r\n                this.setState({\r\n                    formErrorMessage: \"Your email is not valid.\"\r\n                });\r\n            }\r\n        } else {\r\n            this.setState({\r\n                formErrorMessage: \"Please fill in all the fields.\"\r\n            });\r\n        }\r\n    }\r\n    render() {\r\n\r\n        let errorMessage;\r\n        if (this.state.formErrorMessage.length > 0) {\r\n            errorMessage = <p className={\"errorText \" + styles.regularText}>{this.state.formErrorMessage}</p>\r\n        } else if (this.state.serverErrorMessage.length > 0) {\r\n            errorMessage = <p className={\"errorText \" + styles.regularText}>{this.state.serverErrorMessage}</p>\r\n        }\r\n\r\n        let usernameMessage;\r\n        if (this.state.usernameErrorMessage.length > 0) {\r\n            usernameMessage = <p className={\"errorText \" + styles.regularText}>{this.state.usernameErrorMessage}</p>;\r\n        } else if (this.state.usernameSuccessMessage.length > 0) {\r\n            usernameMessage = <p className={styles.regularText} style={{ color: \"green\" }}>{this.state.usernameSuccessMessage}</p>;\r\n        }\r\n\r\n\r\n        if (this.state.isLoading == true) {\r\n            return <p>Loading...</p>\r\n        }\r\n        if (this.state.waitlistSuccessMessage.length > 0) {\r\n            return (\r\n                <div>\r\n                    <div id={styles.bodyContainer}>\r\n                        <div id={styles.formCard}>\r\n                            <Link to=\"/\">\r\n                                <img alt=\"logo\" id={styles.logo} src=\"https://staticassets2020.s3.amazonaws.com/logos/logoV1orangeTransparent.png\" />\r\n                            </Link>\r\n                            <p className={\"title1 \" + styles.regularText}>We're currently still in beta release and it looks like you weren't on our waitlist!</p>\r\n                            <p className={\"regularTextMedium \" + styles.regularText}>{this.state.waitlistSuccessMessage}</p>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        this.state.isDataLoading == true ?\r\n                            <Spinner />\r\n                            :\r\n                            null\r\n                    }\r\n                </div>\r\n            );\r\n        }\r\n        if (this.state.tokenValue == null) {\r\n            return (\r\n                <div>\r\n                    <div id={styles.bodyContainer}>\r\n                        <div id={styles.formCard}>\r\n                            <Link to=\"/\">\r\n                                <img alt=\"logo\" id={styles.logo} src=\"https://staticassets2020.s3.amazonaws.com/logos/logoV1orangeTransparent.png\" />\r\n                            </Link>\r\n                            <p className={\"title1 \" + styles.regularText}>We're currently still in beta release and it looks like you weren't on our waitlist!</p>\r\n                            <p className={\"regularTextMedium \" + styles.regularText}>Join our waitlist now to be the next member of our community.</p>\r\n                            <input className={styles.inputText + \" inputText regularText\"} type=\"email\" name=\"email\" value={this.state.email} onChange={this.handleInputChange} placeholder=\"Email address\"></input>\r\n                            {errorMessage}\r\n                            <p className={\"regularText \" + styles.regularText}>Already have an account? <Link to=\"/login\" className={styles.link + \" \" + styles.regularText}>Sign in now.</Link></p>\r\n                            <button className={styles.button + \" buttonCta regularTextMedium\"} onClick={this.handleWaitlistSubmit}>Continue</button>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        this.state.isDataLoading == true ?\r\n                            <Spinner />\r\n                            :\r\n                            null\r\n                    }\r\n                </div>\r\n            );\r\n        }\r\n\r\n\r\n        return (\r\n            <div>\r\n                <div id={styles.bodyContainer}>\r\n                    <div id={styles.formCard}>\r\n                        <Link to=\"/\">\r\n                            <img alt=\"logo\" id={styles.logo} src=\"https://staticassets2020.s3.amazonaws.com/logos/logoV1orangeTransparent.png\" />\r\n                        </Link>\r\n                        <p className={\"title1 \" + styles.regularText}>Let's get started!</p>\r\n                        <input className={styles.inputText + \" inputText regularText\"} type=\"text\" name=\"username\" value={this.state.username} onChange={this.handleInputChange} onBlur={this.verifyUsername} placeholder=\"Pick a username\"></input>\r\n                        {usernameMessage}\r\n                        <div id={styles.invSpace}></div>\r\n                        <input className={styles.inputText + \" inputText regularText\"} type=\"email\" name=\"email\" value={this.state.email} onChange={this.handleInputChange} placeholder=\"Email address\"></input>\r\n                        <input className={styles.inputText + \" inputText regularText\"} type=\"password\" name=\"password\" value={this.state.password} onChange={this.handleInputChange} placeholder=\"Password\"></input>\r\n                        {errorMessage}\r\n                        <p>By registering, you agree to our <Link className={styles.link + \" \" + styles.regularText}>Privacy policy</Link> and <Link className={styles.link + \" \" + styles.regularText}>Terms and conditions</Link></p>\r\n                        <p className={\"regularText \" + styles.regularText}>Already have an account? <Link to=\"/login\" className={styles.link + \" \" + styles.regularText}>Sign in now.</Link></p>\r\n                        <button className={styles.button + \" buttonCta regularTextMedium\"} onClick={this.handleFormSubmit}>Continue</button>\r\n                    </div>\r\n                </div>\r\n                {\r\n                    this.state.isDataLoading == true ?\r\n                        <Spinner />\r\n                        :\r\n                        null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nSignup.propTypes = {\r\n    registerUser: PropTypes.func.isRequired,\r\n    auth: PropTypes.object.isRequired,\r\n    errors: PropTypes.object.isRequired\r\n};\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    errors: state.errors\r\n});\r\n\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    { registerUser }\r\n)(withRouter(withTranslation()(Signup)));","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\employeeScripts\\views\\BlogPosts.js",["739","740"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styles from \"../style/employeeStyle.module.css\";\r\nimport axios from \"axios\";\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            posts: [],\r\n            errorMessage: \"\"\r\n        }\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        axios.get(window.api_prefix+\"/allBlogPosts\").then(resp => {\r\n            this.setState({\r\n                posts: resp.data\r\n            });\r\n        });\r\n    }\r\n\r\n    deleteBlogPost(postId, key) {\r\n        this.setState({\r\n            errorMessage: \"\"\r\n        });\r\n        axios.post(window.api_prefix+\"/deleteBlogPost\", { postId: postId, token: this.props.token }).then(resp => {\r\n            let currentPosts = this.state.posts;\r\n            currentPosts.splice(key, 1);\r\n            this.setState({\r\n                posts: currentPosts\r\n            });\r\n        }).catch(err => {\r\n            if (err.response) {\r\n                this.setState({\r\n                    errorMessage: err.response.data.message\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n\r\n        let posts = <p>There are no posts for the moment.</p>\r\n        if (this.state.posts.length > 0) {\r\n            posts = this.state.posts.map((post, key) => {\r\n                return (\r\n                    <div style={{ border: \"1px solid #000\", padding: \"20px\", marginBottom: \"50px\" }} key={key} className={styles.postCard}>\r\n                        <p className={\"title2 \" + styles.regularText}>{post.title}</p>\r\n                        <p className={\"regularText \" + styles.regularText}>{post.summary}</p>\r\n                        <button style={{ margin: \"0 20px 0 0\" }} onClick={() => { this.props.editSpecificBlogPost(post.id) }} className={styles.linkP + \" \" + styles.regularTextNoMargin}>Edit</button>\r\n                        <button onClick={() => { this.deleteBlogPost(post.id, key) }} className={styles.linkP + \" \" + styles.regularTextNoMargin}>Delete</button>\r\n                    </div>\r\n                );\r\n            });\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <div id={styles.articleContainer}>\r\n                    <p className={\"title1 \" + styles.regularText}>All posts</p>\r\n                    {this.state.errorMessage.length > 0 ? this.state.errorMessage : null}\r\n                    <button className={styles.button} onClick={this.props.newBlogPost}>NEW BLOG POST</button>\r\n                    {posts}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(Index);\r\n","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\employeeScripts\\views\\EditBlogPost.js",["741","742","743","744","745","746","747","748","749","750"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport styles from \"../style/employeeStyle.module.css\";\r\nimport axios from \"axios\";\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isDataLoading: true,\r\n            post: [],\r\n            title: \"\",\r\n            summary: \"\",\r\n            createPost: false,\r\n            postId: -1\r\n        }\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleNameInputChange = this.handleNameInputChange.bind(this);\r\n        this.savePost = this.savePost.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.createPost) {\r\n            this.setState({\r\n                createPost: true,\r\n                isDataLoading: false\r\n            });\r\n        } else if (this.props.postId) {\r\n            let postId = this.props.postId;\r\n            axios.get(window.api_prefix+\"/blogPost?id=\" + postId).then(resp => {\r\n                let bodyStringSplit = resp.data.body.split(\"<%b%>\");\r\n                let postInputs = bodyStringSplit.map((parag, key) => {\r\n                    if (parag.substring(0, 4) == \"<p%>\") {\r\n                        return {\r\n                            content: parag.substring(4, parag.length),\r\n                            type: \"p\"\r\n                        }\r\n                    } else if (parag.substring(0, 4) == \"<t%>\") {\r\n                        return {\r\n                            content: parag.substring(4, parag.length),\r\n                            type: \"t\"\r\n                        }\r\n                    } else {\r\n                        return null;\r\n                    }\r\n                });\r\n                this.setState({\r\n                    post: postInputs,\r\n                    isDataLoading: false,\r\n                    title: resp.data.title,\r\n                    summary: resp.data.summary\r\n                });\r\n            });\r\n        }\r\n    }\r\n    handleNameInputChange(event) {\r\n        const { name, value } = event.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    handleInputChange(key, event) {\r\n        let currentPosts = this.state.post;\r\n        currentPosts[key].content = event.target.value;\r\n        this.setState({\r\n            post: currentPosts\r\n        });\r\n    }\r\n\r\n    handleRemoveSection(key, event) {\r\n        let currentPosts = this.state.post;\r\n        currentPosts.splice(key, 1);\r\n        this.setState({\r\n            post: currentPosts\r\n        });\r\n    }\r\n\r\n    addSection(type) {\r\n        let currentPosts = this.state.post;\r\n        if (type == \"t\") {\r\n            currentPosts.push({ content: \"\", type: type });\r\n        } else if (type = \"p\") {\r\n            currentPosts.push({ content: \"\", type: type });\r\n        }\r\n        this.setState({\r\n            post: currentPosts\r\n        });\r\n    }\r\n\r\n    savePost() {\r\n        let reqObj = { title: this.state.title, summary: this.state.summary, postId: this.props.postId };\r\n        let bodyString = \"\";\r\n        for (let i = 0; i < this.state.post.length; i++) {\r\n            let post = this.state.post[i];\r\n            if (post.type == \"t\") {\r\n                bodyString += \"<t%>\" + post.content + \"<%b%>\"\r\n            } else {\r\n                bodyString += \"<p%>\" + post.content + \"<%b%>\"\r\n            }\r\n        }\r\n        bodyString = bodyString.substring(0, bodyString.length - 5);\r\n        reqObj.body = bodyString;\r\n        if (this.state.createPost == true) {\r\n            axios.post(window.api_prefix+\"/createBlogPost\", { token: this.props.token, post: reqObj }).then(resp => {\r\n                this.props.returnDashboard();\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    this.setState({\r\n                        errorMessage: err.response.data.message\r\n                    });\r\n                }\r\n            });\r\n        } else {\r\n            axios.post(window.api_prefix+\"/updateBlogPost\", { token: this.props.token, post: reqObj }).then(resp => {\r\n                this.props.returnDashboard();\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    this.setState({\r\n                        errorMessage: err.response.data.message\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n        if (this.state.isDataLoading == true) {\r\n            return <p>Loading...</p>;\r\n        }\r\n        let paragraphs = this.state.post.map((parag, key) => {\r\n            if (parag.type == \"p\") {\r\n                return (\r\n                    <div>\r\n                        <p className={styles.regularText + \" title2\"}>Section text</p>\r\n                        <textarea className={styles.textareaNoMargin} key={key} type=\"text\" onChange={this.handleInputChange.bind(this, key)} value={parag.content} />\r\n                        <button className={styles.button} onClick={this.handleRemoveSection.bind(this, key)} > Remove</button>\r\n                    </div>\r\n\r\n                );\r\n            } else if (parag.type == \"t\") {\r\n                return (\r\n                    <div>\r\n                        <p className={styles.regularText + \" title2\"}>Section title</p>\r\n                        <textarea className={styles.textareaNoMargin} key={key} type=\"text\" onChange={this.handleInputChange.bind(this, key)} value={parag.content} />\r\n                        <br />\r\n                        <button className={styles.button} onClick={this.handleRemoveSection.bind(this, key)}>Remove</button>\r\n                    </div>\r\n                );\r\n            } else {\r\n                return null;\r\n            }\r\n        });\r\n        return (\r\n            <div>\r\n                <div id={styles.articleContainer}>\r\n                    <p className={styles.regularText + \" title2\"}>Post title</p>\r\n                    <textarea className={styles.textarea} type=\"text\" name=\"title\" value={this.state.title} onChange={this.handleNameInputChange} />\r\n                    <p className={styles.regularText + \" title2\"}>Post summary</p>\r\n                    <textarea className={styles.textarea} type=\"text\" name=\"summary\" value={this.state.summary} onChange={this.handleNameInputChange} />\r\n                    {paragraphs}\r\n                    <button className={styles.inlineButton} onClick={() => { this.addSection(\"t\") }}>Add section title</button>\r\n                    <button className={styles.inlineButton} onClick={() => { this.addSection(\"p\") }}>Add section text</button>\r\n                    <br />\r\n                    <button className={styles.button} onClick={this.savePost}>Save post</button>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default withTranslation()(Index);\r\n","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\employeeScripts\\views\\Listings.js",["751","752","753"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport styles from \"../style/employeeStyle.module.css\";\r\nimport axios from \"axios\";\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isDataLoading: true,\r\n            listings: [],\r\n            errorMessage: \"\"\r\n        }\r\n        this.verifyListing = this.verifyListing.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get(window.api_prefix+\"/allListingsToVerify\").then(resp => {\r\n            this.setState({\r\n                listings: resp.data,\r\n                isDataLoading: false\r\n            });\r\n        });\r\n    }\r\n\r\n    verifyListing(key, listingId, decision) {\r\n        axios.post(window.api_prefix+\"/verifyListing\", { update: { decision: decision, listingId: listingId }, token: this.props.token }).then(resp => {\r\n            let currentListings = this.state.listings;\r\n            currentListings.splice(key, 1);\r\n            this.setState({\r\n                listings: currentListings\r\n            });\r\n        }).catch(err => {\r\n            if (err.response) {\r\n                this.setState({\r\n                    errorMessage: err.response.data.message\r\n                });\r\n            }\r\n        });\r\n    }\r\n    render() {\r\n        const { t } = this.props;\r\n\r\n        if (this.state.isDataLoading == true) {\r\n            return <p>Loading...</p>;\r\n        }\r\n        let listings = <p>No listings to verify</p>;\r\n        if (this.state.listings.length > 0) {\r\n            listings = this.state.listings.map((listing, key) => {\r\n                return (\r\n                    <div key={key} style={{ marginBottom: \"50px\", border: \"1px solid #000\", padding: \"20px\" }}>\r\n                        <img style={{ height: \"200px\" }} src={listing.verificationpicture} />\r\n                        <p>Listing id: {listing.id}</p>\r\n                        <p>Type: {listing.title}</p>\r\n                        <p>Paper must contain @{listing.sellerusername} and token {listing.verificationtimestamp}</p>\r\n                        <button onClick={() => { this.verifyListing(key, listing.id, 3) }}>Accept</button>\r\n                        <button onClick={() => { this.verifyListing(key, listing.id, 2) }}>Decline</button>\r\n                    </div>\r\n                );\r\n            });\r\n        }\r\n        return (\r\n            <div>\r\n                <div id={styles.articleContainer}>\r\n                    <p className={\"megaTitle\"}>Verify listings</p>\r\n                    {listings}\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default withTranslation()(Index);\r\n","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\employeeScripts\\views\\Dashboard.js",["754","755","756","757","758","759","760","761","762","763","764","765","766","767","768"],"import React from \"react\";\r\nimport styles from \"../../public/style/authenticationForms.module.css\";\r\nimport styles2 from \"../style/employeeStyle.module.css\";\r\n\r\nimport Spinner from \"../../microComponents/LoaderAnimation\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport AllBlogPosts from \"./BlogPosts\";\r\nimport EditBlogPost from \"./EditBlogPost\";\r\nimport AllListings from \"./Listings\";\r\nimport NewGuestUser from \"./NewGuestUsers\";\r\nimport NewGuestListing from \"./NewGuestListing\";\r\n\r\n\r\nimport PredefinedItems from \"./PredefinedItems\";\r\nimport NewGuestUsers from \"./NewGuestUsers\";\r\nimport ExistingGuestListings from \"./ExistingGuestListings\";\r\n\r\nconst emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\nclass Dashboard extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            activePage: 0, //0 = login, 1 = dashboard, 2 = all blog posts, 3 = specifc blog post, 4 = all listings to verify, 5 = new blog post, 6 = new guest user\r\n            email: \"\",\r\n            password: \"\",\r\n            loginErrorMessage: \"\",\r\n            isDataLoading: false,\r\n            token: \"\",\r\n            userName: \"\",\r\n            editPostId: -1\r\n        }\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.editSpecificBlogPost = this.editSpecificBlogPost.bind(this);\r\n        this.handleLoginSubmit = this.handleLoginSubmit.bind(this);\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        const { name, value } = e.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    handleLoginSubmit() {\r\n        this.setState({\r\n            loginErrorMessage: \"\"\r\n        });\r\n        if (this.state.email.length > 0 && this.state.password.length > 0) {\r\n            if (emailRegex.test(this.state.email) === true) {\r\n                this.setState({ isDataLoading: true });\r\n                let loginObj = { email: this.state.email, password: this.state.password };\r\n                axios.post(window.api_prefix+\"/loginEmployee\", loginObj).then((resp) => {\r\n                    this.setState({\r\n                        activePage: 1,\r\n                        employeeName: resp.data.name,\r\n                        token: resp.data.token\r\n                    });\r\n                }).catch(err => {\r\n                    if (err.response) {\r\n                        this.setState({\r\n                            loginErrorMessage: err.response.data.message,\r\n                            isDataLoading: false\r\n                        });\r\n                    }\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    loginErrorMessage: \"Your email is not valid.\",\r\n                    isDataLoading: false\r\n                });\r\n            }\r\n        } else {\r\n            this.setState({\r\n                loginErrorMessage: \"Please fill in all the fields.\",\r\n                isDataLoading: false\r\n            });\r\n        }\r\n    }\r\n\r\n    editSpecificBlogPost(postId) {\r\n        this.setState({\r\n            activePage: 3,\r\n            editPostId: postId\r\n        });\r\n    }\r\n\r\n\r\n    render() {\r\n        if (this.state.activePage == 0) {\r\n            //login\r\n            let errorMessage;\r\n            if (this.state.loginErrorMessage.length > 0) {\r\n                errorMessage = <p className={\"errorText \" + styles.regularText}>{this.state.loginErrorMessage}</p>\r\n            }\r\n            return (\r\n                <div>\r\n                    <div id={styles.bodyContainer}>\r\n                        <div id={styles.formCard}>\r\n                            <Link to=\"/\">\r\n                                <img alt=\"logo\" id={styles.logo} src=\"https://staticassets2020.s3.amazonaws.com/logos/logoV1orangeTransparent.png\" />\r\n                            </Link>\r\n                            <p className={\"title1 \" + styles.regularText}>Employee portal</p>\r\n                            <input className={styles.inputText + \" inputText regularText\"} type=\"email\" name=\"email\" value={this.state.email} onChange={this.handleInputChange} placeholder=\"Email address\"></input>\r\n                            <input className={styles.inputText + \" inputText regularText\"} type=\"password\" name=\"password\" value={this.state.password} onChange={this.handleInputChange} placeholder=\"Password\"></input>\r\n                            {errorMessage}\r\n                            {/* <p className={\"regularText \" + styles.regularText}>Don't have an account? <Link to=\"/signup\" className={styles.link + \" \" + styles.regularText}>Sign up now.</Link></p> */}\r\n                            <button className={styles.button + \" buttonCta regularTextMedium\"} onClick={this.handleLoginSubmit}>Continue</button>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        this.state.isDataLoading == true ?\r\n                            <Spinner />\r\n                            :\r\n                            null\r\n                    }\r\n                </div>\r\n\r\n            )\r\n        }\r\n        let content;\r\n        if (this.state.activePage == 1) {\r\n            //dashboard\r\n            content = <p>Welcome {this.state.employeeName}</p>\r\n        } else if (this.state.activePage == 2) {\r\n            //all blog posts\r\n            content = (\r\n                <AllBlogPosts newBlogPost={() => { this.setState({ activePage: 5 }); }} editSpecificBlogPost={this.editSpecificBlogPost} token={this.state.token} />\r\n            );\r\n        } else if (this.state.activePage == 3) {\r\n            //specific blog posts\r\n            content = (\r\n                <EditBlogPost token={this.state.token} returnDashboard={() => { this.setState({ activePage: 1 }); }} postId={this.state.editPostId} />\r\n            );\r\n        } else if (this.state.activePage == 4) {\r\n            //all listings to verify\r\n            content = (\r\n                <AllListings token={this.state.token} />\r\n            );\r\n        } else if(this.state.activePage == 5){\r\n            //new blog post\r\n            content = (\r\n                <PredefinedItems token={this.state.token} />\r\n            );\r\n        }else if(this.state.activePage == 6){\r\n            //new guest user\r\n            content = (\r\n                <NewGuestUser token={this.state.token} />\r\n            );\r\n        }else if(this.state.activePage == 7){\r\n            //new guest listing\r\n            content = (\r\n                <NewGuestListing token={this.state.token} />\r\n            );\r\n        }else if(this.state.activePage == 8){\r\n            content = (\r\n                <ExistingGuestListings token={this.state.token} />\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <div id={styles2.nav}>\r\n                    <Link to=\"/\" className={\"regularTextBold\"}>Cambio</Link>\r\n                    <p className={\"regularTextBold\"} onClick={() => { this.setState({ activePage: 1 }); }}>Dashboard</p>\r\n                    <p className={\"regularTextBold\"} onClick={() => { this.setState({ activePage: 2 }); }}>Blog posts</p>\r\n                    <p className={\"regularTextBold\"} onClick={() => { this.setState({ activePage: 4 }); }}>Listings to verify</p>\r\n                    <p className={\"regularTextBold\"} onClick={() => { this.setState({ activePage: 5 }); }}>Predefined items</p>\r\n                    <p className={\"regularTextBold\"} onClick={() => { this.setState({ activePage: 6 }); }}>New guest user</p>\r\n                    <p className={\"regularTextBold\"} onClick={() => { this.setState({ activePage: 7 }); }}>New guest listing</p>\r\n                    <p className={\"regularTextBold\"} onClick={() => { this.setState({ activePage: 8 }); }}>Guest listings & offers</p>\r\n                </div>\r\n                <div>\r\n                    {content}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Dashboard;","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\employeeScripts\\views\\PredefinedItems.js",["769","770","771","772","773","774","775","776","777","778","779","780","781","782","783","784","785","786","787","788","789","790","791","792","793","794","795","796","797","798","799"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport axios from \"axios\";\r\nimport styles from \"public/style/newListing.module.css\";\r\nimport queryString from \"query-string\";\r\nimport Spinner from \"microComponents/LoaderAnimation\";\r\n\r\n\r\nclass NewListing extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            title: \"\",\r\n            category: 1,\r\n            categoryOptions: [],\r\n            filterTypes: [],\r\n            listingId: 0,\r\n            listingMode: 0, //0 = new listing, 1 = edit listing, 2 = draft mode\r\n            formError: \"\",\r\n            isDataLoading: false\r\n        }\r\n\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleFilterValueChange = this.handleFilterValueChange.bind(this);\r\n        this.postListing = this.postListing.bind(this);\r\n        this.fetchFilters = this.fetchFilters.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        let listingId;\r\n        let listingMode;\r\n        if (queryString.parse(window.location.search).listingid && queryString.parse(window.location.search).listingmode) {\r\n            listingId = queryString.parse(window.location.search).listingid;\r\n            listingMode = queryString.parse(window.location.search).listingmode;\r\n            if (listingMode == 1 || listingMode == 2) {\r\n                axios.get(window.api_prefix+\"/listingDetails?id=\" + listingId).then(resp => {\r\n                    let listingDetails = resp.data.listingDetails;\r\n                    let filters = resp.data.filters;\r\n                    if (listingDetails) {\r\n                        this.setState({\r\n                            title: listingDetails.title,\r\n                            category: listingDetails.categoryid,\r\n                            listingMode: 1,\r\n                            listingId: listingId\r\n                        });\r\n                        this.fetchFilters(listingDetails.categoryid, () => {\r\n                            let currentFilters = this.state.filterTypes;\r\n                            for (let i = 0; i < currentFilters.length; i++) {\r\n                                for (let j = 0; j < filters.length; j++) {\r\n                                    if (currentFilters[i].id == filters[j].filtertypeid) {\r\n                                        if (currentFilters[i].type == 0) {\r\n                                            currentFilters[i].userSelection = filters[j].value;\r\n                                        } else if (currentFilters[i].type == 1) {\r\n                                            if (filters[j].value == -1) {\r\n                                                currentFilters[i].searchValue = filters[j].textvalue;\r\n                                            } else {\r\n                                                currentFilters[i].searchValue = \"\";\r\n                                                let optionIndex = 0;\r\n                                                for (let k = 0; k < currentFilters[i].options.length; k++) {\r\n                                                    if (currentFilters[i].options[k].value == filters[j].value) {\r\n                                                        optionIndex = k;\r\n                                                        break;\r\n                                                    }\r\n                                                }\r\n                                                currentFilters[i].searchValue = optionIndex;\r\n                                            }\r\n                                        } else if (currentFilters[i].type == 2) {\r\n                                            currentFilters[i].userSelection = filters[j].value;\r\n                                        }\r\n                                        filters.splice(j, 1);\r\n                                        break;\r\n                                    }\r\n                                }\r\n                            }\r\n                            this.setState({\r\n                                filterTypes: currentFilters\r\n                            });\r\n                        });\r\n                    } else {\r\n                        this.setState({\r\n                            listingMode: 0\r\n                        });\r\n                    }\r\n                });\r\n            } else {\r\n                this.fetchFilters(1, null);\r\n                this.setState({\r\n                    listingMode: 0\r\n                });\r\n            }\r\n        } else {\r\n            this.fetchFilters(1, null);\r\n            this.setState({\r\n                listingMode: 0\r\n            });\r\n        }\r\n        axios.get(window.api_prefix+\"/allLeafCategories\").then(resp => {\r\n            this.setState({\r\n                categoryOptions: resp.data\r\n            });\r\n        }).catch();\r\n    }\r\n\r\n    fetchFilters(value, cb) {\r\n        axios.get(window.api_prefix+\"/getFiltersFromCategoryIdForPredefinedItem?id=\" + value).then(resp => {\r\n            if (resp.data.filterValues && resp.data.filterTypes && resp.data.filterValues.length > 0 && resp.data.filterTypes.length > 0) {\r\n                let filterTypes = resp.data.filterTypes;\r\n                let filterValues = resp.data.filterValues;\r\n                for (let i = 0; i < filterTypes.length; i++) {\r\n                    filterTypes[i].options = [];\r\n                    if (filterTypes[i].type == 0) {\r\n                        filterTypes[i].userSelection = 0;\r\n                    } else if (filterTypes[i].type == 1) {\r\n                        filterTypes[i].searchValue = \"\";\r\n                        filterTypes[i].userSelection = -1;\r\n                    } if (filterTypes[i].type == 2) {\r\n                        filterTypes[i].userSelection = 0;\r\n                    }\r\n                }\r\n                for (let i = 0; i < filterValues.length; i++) {\r\n                    for (let j = 0; j < filterTypes.length; j++) {\r\n                        if (filterValues[i].filtertypeid == filterTypes[j].id) {\r\n                            if (filterTypes[j].type == 1) {\r\n                                filterTypes[j].options.push(filterValues[i]);\r\n                                filterTypes[j].userSelection = filterTypes[j].options.length - 1;\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                this.setState({\r\n                    filterTypes: filterTypes,\r\n                }, cb);\r\n            } else {\r\n                this.setState({\r\n                    filterTypes: [],\r\n                }, cb);\r\n            }\r\n        }).catch();\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        const { name, value } = e.target;\r\n        if (name == \"category\") {\r\n            // this.fetchFilters(value);\r\n            this.setState({\r\n                [name]: value\r\n            });\r\n        } else {\r\n            this.setState({\r\n                [name]: value\r\n            });\r\n        }\r\n    }\r\n\r\n    handleFilterValueChange(arrayIndex, event) {\r\n        let allFilters = this.state.filterTypes;\r\n        let currentFilter = allFilters[arrayIndex];\r\n        if (currentFilter.type == 0) {\r\n            currentFilter.userSelection = event.target.value;\r\n        } else if (currentFilter.type == 1) {\r\n            currentFilter.userSelection = event.target.value;\r\n            currentFilter.searchValue = \"\";\r\n        } else if (currentFilter.type == 2) {\r\n            currentFilter.userSelection = event.target.value;\r\n        }\r\n        allFilters[arrayIndex] = currentFilter;\r\n        this.setState({\r\n            filterTypes: allFilters\r\n        });\r\n    }\r\n\r\n    handleCustomFilterValueChange(arrayIndex, event) {\r\n        let allFilters = this.state.filterTypes;\r\n        let currentFilter = allFilters[arrayIndex];\r\n        currentFilter.searchValue = event.target.value;\r\n        allFilters[arrayIndex] = currentFilter;\r\n        this.setState({\r\n            filterTypes: allFilters\r\n        });\r\n    }\r\n\r\n\r\n    postListing() {\r\n        let filters = this.state.filterTypes;\r\n        let title = this.state.title;\r\n        let cat = this.state.category;\r\n\r\n        let filtersType0 = [];\r\n        let filtersType1Custom = [];\r\n        let filtersType1Predefined = [];\r\n        let filtersType2 = [];\r\n        for (let i = 0; i < filters.length; i++) {\r\n            if (filters[i].type == 0) {\r\n                filtersType0.push({ id: filters[i].id, value: filters[i].userSelection });\r\n            } else if (filters[i].type == 1) {\r\n                if (filters[i].userSelection == -1 || filters[i].searchValue.length > 0) {\r\n                    filtersType1Custom.push({ id: filters[i].id, searchValue: filters[i].searchValue });\r\n                } else {\r\n                    let value = filters[i].options[filters[i].userSelection].id;\r\n                    filtersType1Predefined.push({ id: filters[i].id, value: value });\r\n                }\r\n            } else if (filters[i].type == 2) {\r\n                filtersType2.push({ id: filters[i].id, value: filters[i].userSelection });\r\n            }\r\n        }\r\n\r\n        if (title.length > 0 && title.length < 255) {\r\n            for (let i = 0; i < filters.length; i++) {\r\n                console.log(filters[i]);\r\n            }\r\n\r\n            let reqObj = { listingId: this.state.listingId, title: title, cat: cat, filtersType0: filtersType0, filtersType1Custom: filtersType1Custom, filtersType1Predefined: filtersType1Predefined, filtersType2 };\r\n            if (this.state.listingMode == 1) {\r\n                axios.post(window.api_prefix+\"/editPredefItem\", reqObj).then((resp) => {\r\n                    alert(\"POSTED!\");\r\n                });\r\n            } else {\r\n                axios.post(window.api_prefix+\"/postPredefItem\", reqObj).then(resp => {\r\n                    alert(\"POSTED!\");\r\n                });\r\n            }\r\n        } else {\r\n            this.setState({\r\n                formError: \"Your listing title should be between 1 and 255 characters.\"\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n\r\n\r\n\r\n        let categoriesOptions = this.state.categoryOptions.map((cat, key) => {\r\n            return (\r\n                <option key={key} value={cat.id}>{cat.name}</option>\r\n            );\r\n        });\r\n\r\n\r\n        let filtersList;\r\n        if (this.state.filterTypes.length > 0) {\r\n            filtersList = this.state.filterTypes.map((filter, key) => {\r\n\r\n                if (filter.type == 0) {\r\n                    return (\r\n                        <div key={key}>\r\n                            <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>{filter.name}?</p>\r\n                            <select value={filter.userSelection} onChange={this.handleFilterValueChange.bind(this, key)} className={styles.selectInput + \" regularText\"}>\r\n                                <option value=\"0\">No</option>\r\n                                <option value=\"1\">Yes</option>\r\n                            </select>\r\n                            <button onClick={() => {\r\n                                let currentFilters = this.state.filterTypes;\r\n                                currentFilters.splice(key, 1);\r\n                                this.setState({\r\n                                    filterTypes: currentFilters\r\n                                });\r\n                            }}>Remove</button>\r\n                        </div>\r\n                    );\r\n                } else if (filter.type == 1) {\r\n                    let options = filter.options.map((option, key) => {\r\n                        return (\r\n                            <option value={key} key={key}>{option.textvalue}</option>\r\n                        );\r\n                    });\r\n                    let inputValue = \"\";\r\n                    if (filter.searchValue.length > 0 || filter.options.length == 0) {\r\n                        inputValue = filter.searchValue;\r\n                    } else {\r\n                        inputValue = filter.options[filter.userSelection].textvalue;\r\n                    }\r\n                    return (\r\n                        <div key={key}>\r\n                            <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>{filter.name}</p>\r\n                            <input type=\"text\" className={styles.textInput + \" regularText\"} value={inputValue} onChange={this.handleCustomFilterValueChange.bind(this, key)} ></input>\r\n                            {\r\n                                filter.options.length > 0 ?\r\n                                    <select value={filter.userSelection} onChange={this.handleFilterValueChange.bind(this, key)} className={styles.selectInput + \" regularText\"}>\r\n                                        {options}\r\n                                    </select>\r\n                                    :\r\n                                    null\r\n                            }\r\n                            <button onClick={() => {\r\n                                let currentFilters = this.state.filterTypes;\r\n                                currentFilters.splice(key, 1);\r\n                                this.setState({\r\n                                    filterTypes: currentFilters\r\n                                });\r\n                            }}>Remove</button>\r\n                        </div>\r\n                    );\r\n                } else if (filter.type == 2) {\r\n                    return (\r\n                        <div key={key}>\r\n                            <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}># {filter.name}</p>\r\n                            <input type=\"number\" className={styles.textInput + \" regularText\"} step=\"1\" min=\"0\" max=\"1000\" value={filter.userSelection} onChange={this.handleFilterValueChange.bind(this, key)} ></input>\r\n                            <button onClick={() => {\r\n                                let currentFilters = this.state.filterTypes;\r\n                                currentFilters.splice(key, 1);\r\n                                this.setState({\r\n                                    filterTypes: currentFilters\r\n                                });\r\n                            }}>Remove</button>\r\n                        </div>\r\n                    );\r\n                }\r\n            });\r\n        } else {\r\n            filtersList = null;\r\n        }\r\n        let pageTitle = \"New listing\";\r\n\r\n        if (this.state.listingMode == 1) {\r\n            pageTitle = \"Edit listing\";\r\n        } else if (this.state.listingMode == 2) {\r\n            pageTitle = \"Publish draft listing\";\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <div id={styles.topMainContainer}>\r\n                    <div id={styles.formContainer}>\r\n                        <p className={styles.regularText + \" title1\"}>{pageTitle}</p>\r\n                        <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>Title</p>\r\n                        <input className={styles.textInput + \" regularText\"} name=\"title\" value={this.state.title} onChange={this.handleInputChange} type=\"text\"></input>\r\n                        <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>Category</p>\r\n                        <select value={this.state.category} onChange={this.handleInputChange} className={styles.selectInput + \" regularText\"} name=\"category\">\r\n                            {categoriesOptions}\r\n                        </select>\r\n                        {filtersList}\r\n                        <p>{this.state.formError}</p>\r\n                        <button className={\"buttonCta regularTextMedium \" + styles.ctaButton} onClick={this.postListing}>List now</button>\r\n                    </div>\r\n                </div>\r\n\r\n                {\r\n                    this.state.isDataLoading == true ?\r\n                        <Spinner />\r\n                        :\r\n                        null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(NewListing);\r\n","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\views\\PredefItems.js",["800","801","802","803"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport styles from \"public/style/aboutUs.module.css\";\r\nimport axios from \"axios\";\r\nclass aboutUs extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            predefItems:[],\r\n            isLoading:true\r\n        }\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get(window.api_prefix+\"/predefProductsList\").then(resp=>{\r\n            console.log(resp.data);\r\n            this.setState({\r\n                predefItems:resp.data,\r\n                isLoading:false\r\n            })\r\n        }).catch(err=>{\r\n            if(err.response){\r\n             alert(\"ERROR\");\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n    if(this.state.isLoading){\r\n        return null;\r\n    }\r\n\r\n        for(let i = 0;i<this.state.predefItems.types.length;i++){\r\n            for(let j=0;j<this.state.predefItems.filters.length;j++){\r\n                if(this.state.predefItems.types[i].id == this.state.predefItems.filters[j].filtertypeid){\r\n                    this.state.predefItems.filters[j].type = this.state.predefItems.types[i].name;\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        let items = [];\r\n        for(let i=0; i<this.state.predefItems.items.length; i++){\r\n            let item = this.state.predefItems.items[i];\r\n            item.filters = [];\r\n            for(let j=0; j<this.state.predefItems.filters.length; j++){\r\n                if(this.state.predefItems.filters[j].itemid == item.id){\r\n                    item.filters.push(this.state.predefItems.filters[j]);\r\n                }\r\n            }\r\n\r\n            let specsString = \"(\";\r\n            for(let v=0;v<item.filters.length;v++){\r\n                specsString+=\",   \"+item.filters[v].type+\" : \"+item.filters[v].textvalue;\r\n            }\r\n            specsString+=\")\";\r\n            items.push(\r\n                <div key={i}>\r\n                    <p>ID {item.id} {item.title} {specsString}</p>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div style={{cursor:\"text\"}}>\r\n                {items}\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default withTranslation()(aboutUs);","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\microComponents\\MobileSearch.js",["804","805","806","807","808","809","810","811"],"import React from \"react\";\r\nimport styles from \"../public/style/mobileSearch.module.css\";\r\nimport {Link} from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nclass MobileSearch extends React.Component{\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            categories:[],\r\n            searchInput: \"\",\r\n            searchSuggestions: [],\r\n            showSearchSuggestion: false,\r\n            categoryCurrentParentId: -1,\r\n        }\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n\r\n        this.searchContainerRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount(){\r\n        if(this.props.categories){\r\n            this.setState({\r\n                categories:this.props.categories\r\n            })\r\n        }\r\n        this.searchInputRef.focus();\r\n        document.body.style.overflow = \"hidden\";\r\n    }\r\n    componentWillUnmount(){\r\n        document.body.style.overflow = \"auto\";\r\n    }\r\n\r\n    postCatTrend(catId) {\r\n        axios.post(window.api_prefix+\"/categorySearchClick\", { catId: catId });\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        const { name, value } = e.target;\r\n\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n\r\n        if (name === \"searchInput\") {\r\n            if (value.length == 0) {\r\n                this.setState({\r\n                    searchSuggestions: [],\r\n                    showSearchSuggestion:false\r\n                });\r\n            } else {\r\n                axios.get(window.api_prefix+\"/searchQuerySuggest?q=\"+value).then(resp=>{\r\n                    this.setState({\r\n                        searchSuggestions: resp.data,\r\n                        showSearchSuggestion:true\r\n                    });\r\n                }).catch(err=>{\r\n                    if(err.response){\r\n                        this.setState({\r\n                            searchSuggestions: [],\r\n                            showSearchSuggestion:true\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    render(){\r\n\r\n\r\n        let searchSuggestArray = [];\r\n        let searchSuggest;\r\n\r\n        if (this.state.searchInput.length > 0 && this.state.showSearchSuggestion) {\r\n            if (this.state.searchSuggestions.categories.length > 0 || this.state.searchSuggestions.predefItems.length >0) {\r\n\r\n                let nbCategories = this.state.searchSuggestions.categories.length;\r\n                for (let i = 0; i < this.state.searchSuggestions.predefItems.length && nbCategories+i <= 6; i++) {\r\n                    searchSuggestArray.push(\r\n                        <p onClick={()=>{this.props.history.push(\"/search?predefType=\"+this.state.searchSuggestions.predefItems[i].id); this.props.history.go();}} className={styles.searchSuggestP+\" regularText\"} key={i + \"_-1\"}>{this.state.searchSuggestions.predefItems[i].title}</p>\r\n                    );\r\n                }\r\n                for(let i = 0; i < nbCategories; i++){\r\n                    searchSuggestArray.push(\r\n                        <p onClick={()=>{this.props.history.push(\"/search?cat=\"+this.state.searchSuggestions.categories[i].id); this.props.history.go();}} className={styles.searchSuggestP+\" regularText\"} key={i + \"_-2\"}>{this.state.searchSuggestions.categories[i].name}</p>\r\n                    );\r\n                }\r\n\r\n\r\n                searchSuggest = (\r\n                    <div>\r\n                        <div ref={this.searchSuggestModalRef} className={styles.searchSuggestMainContainer}>\r\n                            {searchSuggestArray}\r\n                        </div>\r\n                    </div>\r\n                );\r\n            } else {\r\n                searchSuggest = (\r\n                    <div ref={this.searchSuggestModalRef} className={styles.searchSuggestMainContainer}>\r\n                        <p className={styles.searchSuggestP + \" regularText\"}>No results</p>\r\n                    </div>\r\n                );\r\n            }\r\n        } else {\r\n            let categoriesList;\r\n            if (this.state.categoryCurrentParentId == -1) {\r\n                let seeMoreDiv;\r\n                let catQtity = 0;\r\n                categoriesList = [];\r\n                for (let j = 0; j < this.state.categories.length; j++) {\r\n                    let cat = this.state.categories[j];\r\n                    catQtity++;\r\n                    if (cat.children) {\r\n                        categoriesList.push(\r\n                            <p className={styles.searchSuggestP + \" regularText\"} onClick={() => { this.setState({ categoryCurrentParentId: cat.id }) }} key={j}>{cat.name} <img className={styles.chevronImgCategories} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-right.svg\" /></p>\r\n                        );\r\n                    } else {\r\n                        categoriesList.push(\r\n                            <p key={j} onClick={()=>{this.postCatTrend(cat.id); this.props.history.push(\"/search?cat=\" + cat.id); this.props.history.go();}} className={styles.searchSuggestP + \" regularText\"} >{cat.name}</p>\r\n                        );\r\n                    }\r\n                }\r\n                // if (2 == 2) {\r\n                //   seeMoreDiv = (\r\n                //     <div id={styles.seeMoreCats}>\r\n                //       <p className={styles.regularTextNoMargin + \" regularText\"} onClick={() => { this.setState({ isCategoriesModalDisplayed: true }); }}>See more</p>\r\n                //     </div>\r\n                //   );\r\n                // }\r\n                searchSuggest = (\r\n                    <div>\r\n                        <div ref={this.searchSuggestModalRef} className={styles.searchSuggestMainContainer}>\r\n                            <p className={styles.regularTextNoMargin + \" regularTextBold\"}>Categories</p>\r\n                            {categoriesList}\r\n                        </div>\r\n                        {seeMoreDiv}\r\n                    </div>\r\n                );\r\n            } else {\r\n                let seeMoreDiv;\r\n                for (let i = 0; i < this.state.categories.length; i++) {\r\n                    if (this.state.categories[i].id === this.state.categoryCurrentParentId) {\r\n                        let parentCategoryName = this.state.categories[i].name;\r\n                        let catQtity = 0;\r\n                        categoriesList = this.state.categories[i].children.map((cat, key) => {\r\n                            catQtity++;\r\n                            return (\r\n                                <p key={key} onClick={()=>{this.postCatTrend(cat.id); this.props.history.push(\"/search?cat=\" + cat.id); this.props.history.go();}} className={styles.searchSuggestP + \" regularText\"} >{cat.name}</p>\r\n                            );\r\n                        });\r\n                        categoriesList.push(\r\n                            <p key={\"cat_all\"} onClick={()=>{this.postCatTrend(this.state.categoryCurrentParentId); this.props.history.push(\"/search?cat=\" + this.state.categoryCurrentParentId); this.props.history.go();}} className={styles.searchSuggestP + \" regularText\"} >See all {parentCategoryName}</p>\r\n                        );\r\n                        if (catQtity * 50 > (window.innerHeight - 365)) {\r\n                            seeMoreDiv = (\r\n                                <div id={styles.seeMoreCats} onClick={() => { this.setState({ isCategoriesModalDisplayed: true }); }}>\r\n                                    <p className={styles.regularTextNoMargin + \" regularText\"}>See more</p>\r\n                                </div>\r\n                            );\r\n                        }\r\n                        searchSuggest = (\r\n                            <div>\r\n                                <div ref={this.searchSuggestModalRef} className={styles.searchSuggestMainContainer}>\r\n                                    <p className={styles.regularTextNoMargin + \" regularTextBold \" + styles.clickable} onClick={() => { this.setState({ categoryCurrentParentId: -1 }) }}><img className={styles.chevronImgCategories + \" \" + styles.bottomAlignChevron} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-left.svg\" /> {parentCategoryName}</p>\r\n                                    {categoriesList}\r\n                                </div>\r\n                                {seeMoreDiv}\r\n                            </div>\r\n                        );\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n\r\n        return (\r\n            <div id={styles.searchTransparentContainer} className={styles.searchContainerVisible}>\r\n                <div id={styles.searchMainContainer}>\r\n                    <div id={styles.searchTopContainer}>\r\n                        <p className={styles.regularText + \" regularTextBold\"}>Search</p>\r\n                        <img onClick={() => {this.props.closeSearch()}} id={styles.searchXImg} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/x.svg\" />\r\n                        <div id={styles.searchInputDiv}>\r\n                            <img id={styles.iconTopMobileNav} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/search-grey.svg\" />\r\n                            <input ref={(input) => { this.searchInputRef = input; }}  id={styles.searchInput} value={this.state.searchInput} name=\"searchInput\" onChange={this.handleInputChange} placeholder=\"Search pre-owned electronics\" className={\"regularText\"} type=\"text\"></input>\r\n                        </div>\r\n                    </div>\r\n                    <div id={styles.searchSuggestScroller}>\r\n                        {searchSuggest}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MobileSearch;\r\n\r\n","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\employeeScripts\\views\\NewGuestUsers.js",["812","813","814"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styles from \"../style/employeeStyle.module.css\";\r\nimport axios from \"axios\";\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userName:\"\",\r\n            signupSource:0,\r\n            email:\"\",\r\n            errorMessage:\"\",\r\n            description:\"\",\r\n            signupSourceValues:[\"organic\",\"guest_fake_supply\"],\r\n            allGuestUsers:[],\r\n            guestUserSelect:0\r\n        }\r\n        this.createUser = this.createUser.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n    componentDidMount() {\r\n        axios.get(window.api_prefix+\"/getAllGuestUsers\").then(resp=>{\r\n            this.setState({\r\n                allGuestUsers:resp.data\r\n            });\r\n        }).catch(err=>{\r\n            if(err.response){\r\n                alert(\"Error retrieving guest users\");\r\n            }\r\n        });\r\n    }\r\n\r\n    handleChange(e){\r\n        const {name, value} = e.target;\r\n        this.setState({\r\n            [name]:value\r\n        })\r\n    }\r\n\r\n    createUser() {\r\n        this.setState({\r\n            errorMessage: \"\"\r\n        });\r\n        if(this.state.userName.length==0 || this.state.description.length==0){\r\n            return this.setState({\r\n                errorMessage:\"Please fill in all fields.\"\r\n            });\r\n        }\r\n        axios.post(window.api_prefix+\"/createGuestUser\", { email:this.state.email, username:this.state.userName, description:this.state.description }).then(resp => {\r\n           alert(\"SUCCESS!\");\r\n        }).catch(err => {\r\n            if (err.response) {\r\n                this.setState({\r\n                    errorMessage: err.response.data.message\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        let allGuestUsers = this.state.allGuestUsers.map((user, key)=>{\r\n            return (\r\n                <option key={key} value={key}>{user.name}</option>\r\n            );\r\n        });\r\n        let guestUserLinkValue = \"\";\r\n        if(allGuestUsers.length>0){\r\n            guestUserLinkValue = \"https://joincambio.com/signup?token=50&pwd=\"+this.state.allGuestUsers[this.state.guestUserSelect].password+\"&uid=\"+this.state.allGuestUsers[this.state.guestUserSelect].id;\r\n        }\r\n        return (\r\n            <div>\r\n                <div id={styles.articleContainer}>\r\n                    <p className={\"regularText \" + styles.regularText}>username</p>\r\n                    <input type={\"text\"} value={this.state.userName} onChange={this.handleChange} name={\"userName\"} />\r\n                    <p className={\"regularText \" + styles.regularText}>email</p>\r\n                    <input type={\"text\"} value={this.state.email} onChange={this.handleChange} name={\"email\"} />\r\n                    <p className={\"regularText \" + styles.regularText}>description</p>\r\n                    <textarea value={this.state.description} name={\"description\"} onChange={this.handleChange}></textarea>\r\n                    {this.state.errorMessage.length > 0 ? this.state.errorMessage : null}\r\n                    <button className={styles.button} onClick={this.createUser}>Create user</button>\r\n                    <p className={\"title2\"}>Guest user signup link generator</p>\r\n                    <select name=\"guestUserSelect\" value={this.state.guestUserSelect} onChange={this.handleChange}>\r\n                        {allGuestUsers}\r\n                    </select>\r\n                    <input type={\"text\"} value={guestUserLinkValue} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(Index);\r\n","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\employeeScripts\\views\\NewGuestListing.js",["815","816","817","818","819","820","821","822","823","824","825","826","827","828","829","830","831","832","833","834","835","836","837","838"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport axios from \"axios\";\r\nimport styles from \"public/style/newListing.module.css\";\r\nimport queryString from \"query-string\";\r\nimport {integerMoneyToDecimal, integerToMoneyString} from \"miscFunctions\";\r\nimport Spinner from \"microComponents/LoaderAnimation\";\r\n\r\n\r\nclass NewListing extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            title: \"\",\r\n            category: 1,\r\n            price: 1,\r\n            description: \"\",\r\n            pictures: [],\r\n            condition: 0,\r\n            categoryOptions: [],\r\n            filterTypes: [],\r\n            listingId: 0,\r\n            listingMode: 0, //0 = new listing, 1 = edit listing, 2 = draft mode\r\n            formError: \"\",\r\n            isDataLoading: false,\r\n            currentPage:0,\r\n\r\n\r\n            predefItemSearch:\"\",\r\n            isUnlistedItemModalDisplayed:false,\r\n            recommendItemInput:\"\",\r\n            blockAutofillDiv:false,\r\n            predefItemsSearchResult:[],\r\n            predefItemId:-1,\r\n            predefItemName:\"\",\r\n            allGuestUsers:[],\r\n\r\n            guestUserSelect:0\r\n        }\r\n\r\n        this.pictureInputRef = React.createRef();\r\n        this.predefItemAutofillRef = React.createRef();\r\n        this.predefItemInputRef = React.createRef();\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleImageUpload = this.handleImageUpload.bind(this);\r\n        this.removePicture = this.removePicture.bind(this);\r\n        this.handleFilterValueChange = this.handleFilterValueChange.bind(this);\r\n        this.postListing = this.postListing.bind(this);\r\n        // this.fetchFilters = this.fetchFilters.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        let listingId;\r\n        let listingMode;\r\n        if (queryString.parse(window.location.search).listingid && queryString.parse(window.location.search).listingmode) {\r\n            listingId = queryString.parse(window.location.search).listingid;\r\n            listingMode = queryString.parse(window.location.search).listingmode;\r\n            if (listingMode == 1 || listingMode == 2) {\r\n                axios.get(window.api_prefix+\"/listingDetails?id=\" + listingId).then(resp => {\r\n                    let listingDetails = resp.data.listingDetails;\r\n                    let filters = resp.data.filters;\r\n                    if (listingDetails) {\r\n                        this.setState({\r\n                            title: listingDetails.title,\r\n                            price: integerMoneyToDecimal(listingDetails.price),\r\n                            condition: listingDetails.condition,\r\n                            description: listingDetails.description,\r\n                            pictures: listingDetails.pictures,\r\n                            category: listingDetails.categoryid,\r\n                            listingMode: 1,\r\n                            currentPage:1,\r\n                            listingId: listingId\r\n                        });\r\n                    } else {\r\n                        this.setState({\r\n                            listingMode: 0\r\n                        });\r\n                    }\r\n                });\r\n            } else {\r\n                axios.get(window.api_prefix+\"/getAllGuestUsers\").then(resp=>{\r\n                    this.setState({\r\n                        allGuestUsers:resp.data\r\n                    });\r\n                }).catch(err=>{\r\n                    if(err.response){\r\n                      alert(\"Error retrieving guest users\");\r\n                    }\r\n                });\r\n                this.setState({\r\n                    listingMode: 0\r\n                });\r\n            }\r\n        } else {\r\n            axios.get(window.api_prefix+\"/getAllGuestUsers\").then(resp=>{\r\n                this.setState({\r\n                    allGuestUsers:resp.data\r\n                });\r\n            }).catch(err=>{\r\n                if(err.response){\r\n                    alert(\"Error retrieving guest users\");\r\n                }\r\n            });\r\n            this.setState({\r\n                listingMode: 0\r\n            });\r\n        }\r\n        axios.get(window.api_prefix+\"/allLeafCategories\").then(resp => {\r\n            this.setState({\r\n                categoryOptions: resp.data\r\n            });\r\n        }).catch();\r\n\r\n\r\n        document.addEventListener(\"click\", (e) => {\r\n            if (this.predefItemAutofillRef.current) {\r\n                //search suggest is active\r\n                if (e.target !== this.predefItemAutofillRef.current && !e.target.classList.contains(styles.predefItemAutoFillInnerContainer)) {\r\n                    this.setState({\r\n                        blockAutofillDiv:true\r\n                    })\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        const {name, value} = e.target;\r\n        if (name == \"category\") {\r\n            // this.fetchFilters(value);\r\n            this.setState({\r\n                [name]: value\r\n            });\r\n        } else if(name == \"predefItemSearch\"){\r\n            this.setState({\r\n                [name]: value,\r\n                blockAutofillDiv:false,\r\n                predefItemsSearchResult:[]\r\n            });\r\n            if(value.length>0){\r\n                axios.get(window.api_prefix+\"/searchPredefItemsByName?search=\"+value).then(resp=>{\r\n                    this.setState({\r\n                        predefItemsSearchResult:resp.data\r\n                    })\r\n                }).catch();\r\n            }\r\n        }else{\r\n            this.setState({\r\n                [name]: value\r\n            });\r\n        }\r\n    }\r\n\r\n    handleFilterValueChange(arrayIndex, event) {\r\n        let allFilters = this.state.filterTypes;\r\n        let currentFilter = allFilters[arrayIndex];\r\n        if (currentFilter.type == 0) {\r\n            currentFilter.userSelection = event.target.value;\r\n        } else if (currentFilter.type == 1) {\r\n            currentFilter.userSelection = event.target.value;\r\n            currentFilter.searchValue = \"\";\r\n        } else if (currentFilter.type == 2) {\r\n            currentFilter.userSelection = event.target.value;\r\n        }\r\n        allFilters[arrayIndex] = currentFilter;\r\n        this.setState({\r\n            filterTypes: allFilters\r\n        });\r\n    }\r\n\r\n    handleCustomFilterValueChange(arrayIndex, event) {\r\n        let allFilters = this.state.filterTypes;\r\n        let currentFilter = allFilters[arrayIndex];\r\n        currentFilter.searchValue = event.target.value;\r\n        allFilters[arrayIndex] = currentFilter;\r\n        this.setState({\r\n            filterTypes: allFilters\r\n        });\r\n    }\r\n\r\n    removePicture(index) {\r\n        let currentPictures = this.state.pictures;\r\n        currentPictures.splice(index, 1);\r\n        // axios.post(window.api_prefix+\"/removeListingPicture\").then(resp => {\r\n\r\n        // }).catch(err => {\r\n\r\n        // });\r\n        this.setState({\r\n            pictures: currentPictures\r\n        });\r\n    }\r\n\r\n    handleImageUpload(e) {\r\n        let file = e.target.files;\r\n        try {\r\n            if (!file) {\r\n                throw new Error('Select a file first!');\r\n            }\r\n            let availableNbPictures = 5 - this.state.pictures.length;\r\n            let nbPicturesCompleted = 0;\r\n            this.setState({\r\n                isDataLoading: true\r\n            });\r\n            let nbFiles = file.length;\r\n            for (let i = 0; i < nbFiles; i++) {\r\n                if (i >= availableNbPictures) {\r\n                    this.setState({\r\n                        isDataLoading: false,\r\n                        formError: \"You have uploaded the maximum number of pictures. Only \" + availableNbPictures + \" pictures were uploaded.\"\r\n                    });\r\n                    return;\r\n                }\r\n                let fileName = file[i].name;\r\n                const formData = new FormData();\r\n                formData.append('file', file[i]);\r\n                axios.post(window.api_prefix+`/uploadListingPicture`, formData, {\r\n                    headers: {\r\n                        'Content-Type': 'multipart/form-data',\r\n                    },\r\n                }).then(resp => {\r\n                    nbPicturesCompleted++;\r\n                    if (nbPicturesCompleted == nbFiles) {\r\n                        this.setState({\r\n                            isDataLoading: false\r\n                        });\r\n                    }\r\n                    let currentPictures = this.state.pictures;\r\n                    currentPictures.push(resp.data.Location);\r\n                    this.setState({\r\n                        pictures: currentPictures\r\n                    });\r\n                }).catch(err => {\r\n                    if (err.response) {\r\n                        this.setState({\r\n                            isDataLoading: false,\r\n                            formError: \"Your file \" + fileName + \" could not be uploaded, please try again.\"\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n            this.pictureInputRef.current.value = null;\r\n        } catch (error) {\r\n            // handle error\r\n            this.setState({\r\n                isDataLoading: false\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    postListing() {\r\n        // let filters = this.state.filterTypes;\r\n        // let title = this.state.title;\r\n        // let cat = this.state.category;\r\n        let price = this.state.price;\r\n        let description = this.state.description;\r\n        let condition = this.state.condition;\r\n        let predefType = this.state.predefItemId;\r\n        let predefTypeName = this.state.predefItemName;\r\n\r\n        let pictures = this.state.pictures;\r\n\r\n        let sellerId = this.state.allGuestUsers[this.state.guestUserSelect].id;\r\n\r\n        if(predefType != -1 && predefTypeName.length>0){\r\n            if (price.toString().length > 0 && price.toString().length < 255) {\r\n                if (description.length < 255) {\r\n                    if (pictures.length > 0) {\r\n                        if (pictures.length < 6) {\r\n                            let reqObj = { listingId: this.state.listingId, predefTypeName:predefTypeName, price: price, description: description, sellerId:sellerId ,condition: condition, pictures: pictures, predefType:predefType};\r\n                            if (this.state.listingMode == 1) {\r\n                                axios.post(window.api_prefix+\"/editGuestListing\", reqObj).then((resp) => {\r\n                                   alert(\"SUCCESS!!\");\r\n                                }).catch(err=>{\r\n                                    if(err.response){\r\n                                        alert(\"ERROR!\");\r\n                                    }\r\n                                });\r\n                            } else {\r\n                                axios.post(window.api_prefix+\"/postGuestListing\", reqObj).then(resp => {\r\n                                    alert(\"SUCCESS!!\");\r\n                                }).catch(err=>{\r\n                                    if(err.response){\r\n                                        alert(\"ERROR!\");\r\n                                    }\r\n                                });\r\n                            }\r\n                        } else {\r\n                            this.setState({\r\n                                formError: \"You have exceeded the amount of authorized pictures. Please remove at least 1 picture.\"\r\n                            });\r\n                        }\r\n                    } else {\r\n                        this.setState({\r\n                            formError: \"Please upload at least 1 picture.\"\r\n                        });\r\n                    }\r\n                } else {\r\n                    this.setState({\r\n                        formError: \"Your listing description should be between 1 and 255 characters.\"\r\n                    });\r\n                }\r\n            } else {\r\n                this.setState({\r\n                    formError: \"Please fill in a listing price.\"\r\n                });\r\n            }\r\n        }else{\r\n            this.setState({\r\n                formError: \"Please select an item type that we accept.\"\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n        let smallPictures = [];\r\n        //start from second picture\r\n        if (this.state.pictures.length > 1) {\r\n            for (let i = 1; i < this.state.pictures.length; i++) {\r\n                smallPictures.push(<div key={i} style={{ backgroundImage: \"url('/assets/landingPage/stockPic3.jpg')\" }} className={styles.smallPictureImg}></div>);\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n        let conditionsOptionsArray = [\r\n            {\r\n                id: 0,\r\n                name: \"New (sealed)\"\r\n            },\r\n            {\r\n                id: 1,\r\n                name: \"Like new\"\r\n            },\r\n            {\r\n                id: 2,\r\n                name: \"Lightly used\"\r\n            },\r\n            {\r\n                id: 3,\r\n                name: \"Used\"\r\n            },\r\n            {\r\n                id: 4,\r\n                name: \"Broken\"\r\n            },\r\n            {\r\n                id: 5,\r\n                name: \"For parts\"\r\n            }\r\n        ];\r\n\r\n        let conditionsOptions = conditionsOptionsArray.map((cond, key) => {\r\n            return (\r\n                <option key={key} value={cond.id}>{cond.name}</option>\r\n            );\r\n        });\r\n\r\n        let pageTitle = \"New listing\";\r\n\r\n        if (this.state.listingMode == 1) {\r\n            pageTitle = \"Edit listing\";\r\n        } else if (this.state.listingMode == 2) {\r\n            pageTitle = \"Publish draft listing\";\r\n        }else if(this.state.listingMode == 0 && this.state.predefItemName.length>0){\r\n            pageTitle = \"Selling \"+this.state.predefItemName;\r\n        }\r\n\r\n        let picturePreviews = this.state.pictures.map((pics, key) => {\r\n            return (\r\n                <div key={key} className={styles.pictureSquare} onClick={() => this.removePicture(key)} style={{ backgroundImage: \"url('\" + pics + \"')\" }}>\r\n                    <div>\r\n                        <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/x.svg\" />\r\n                    </div>\r\n                </div>\r\n            );\r\n        });\r\n\r\n        let predefItemAutofill = null;\r\n        if(this.predefItemInputRef.current){\r\n            let autofillInputPos = this.predefItemInputRef.current.getBoundingClientRect();\r\n            if(this.state.currentPage != 1 && this.state.predefItemSearch.length > 0 && this.state.blockAutofillDiv == false){\r\n                predefItemAutofill = (\r\n                    <div id={styles.predefItemAutofillContainer} style={{left:autofillInputPos.left, top:autofillInputPos.top+50, width:this.predefItemInputRef.current.offsetWidth}} ref={this.predefItemAutofillRef}>\r\n                        {this.state.predefItemsSearchResult.length == 0 ?\r\n                            <p>No result</p>\r\n                            :\r\n                            this.state.predefItemsSearchResult.map((item, key)=>{\r\n                                return (\r\n                                    <div className={styles.predefItemAutofillInnerContainer} key={key} onClick={()=>{\r\n                                        this.setState(prevState=>({\r\n                                            currentPage:1,\r\n                                            predefItemId:prevState.predefItemsSearchResult[key].id,\r\n                                            predefItemName:prevState.predefItemsSearchResult[key].title\r\n                                        }));\r\n                                    }}>\r\n                                        <p>{item.title}</p>\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                );\r\n            }\r\n        }\r\n\r\n        let currentPage;\r\n\r\n        let guestUserOptions = this.state.allGuestUsers.map((user, key)=>{\r\n            return (\r\n                <option value={key} key={key}>@{user.name}</option>\r\n            );\r\n        });\r\n        if(this.state.currentPage == 1){\r\n            currentPage = (\r\n                <div id={styles.formContainer}>\r\n                    <p className={styles.regularText + \" title1\"}>{pageTitle}</p>\r\n                    <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>Seller user name</p>\r\n                    <select value={this.state.guestUserSelect} onChange={this.handleInputChange} className={styles.selectInput + \" regularText\"} name=\"guestUserSelect\">\r\n                        {guestUserOptions}\r\n                    </select>\r\n                    <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>In what condition is the item?</p>\r\n                    <select value={this.state.condition} onChange={this.handleInputChange} className={styles.selectInput + \" regularText\"} name=\"condition\">\r\n                        {conditionsOptions}\r\n                    </select>\r\n                    <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>At what price will your item be listed?</p>\r\n                    <input min=\"1\" step=\"0.05\" className={styles.textInput + \" regularText\"} name=\"price\" value={this.state.price} onChange={this.handleInputChange} type=\"number\"></input>\r\n\r\n                    <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>List all defects, errors, missing parts your item might have</p>\r\n                    <textarea id={styles.descriptionTextarea} name=\"description\" value={this.state.description} onChange={this.handleInputChange}></textarea>\r\n                    <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>Pictures</p>\r\n                    {picturePreviews}\r\n                    {\r\n                        this.state.pictures.length < 5 ?\r\n                            <label id={styles.fileInputLabel} htmlFor={styles.fileInput}>\r\n                                <div>\r\n                                    <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/plus.svg\" />\r\n                                </div>\r\n                            </label>\r\n                            :\r\n                            null\r\n                    }\r\n                    <input id={styles.fileInput} onChange={this.handleImageUpload} ref={this.pictureInputRef} type=\"file\" accept=\".jpg, .jpeg, .png, .svg\" multiple></input>\r\n                    <p>{this.state.formError}</p>\r\n                    <button className={\"buttonCta regularTextMedium \" + styles.ctaButton} onClick={this.postListing}>List now</button>\r\n                </div>\r\n            );\r\n        }else{\r\n            currentPage = (\r\n                <div id={styles.formContainer}>\r\n                    <p className={styles.regularText + \" title1\"}>{pageTitle}</p>\r\n                    <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>What item are you selling?</p>\r\n                    <input ref={this.predefItemInputRef} className={styles.textInput + \" regularText\"} placeholder={\"search for brand, model, color, storage\"} name=\"predefItemSearch\" value={this.state.predefItemSearch} onChange={this.handleInputChange} type=\"text\"></input>\r\n                    <p>{this.state.formError}</p>\r\n                </div>\r\n            );\r\n        }\r\n        return (\r\n            <div>\r\n                <div id={styles.topMainContainer}>\r\n                    {currentPage}\r\n                </div>\r\n                {predefItemAutofill}\r\n                {\r\n                    this.state.isDataLoading == true ?\r\n                        <Spinner />\r\n                        :\r\n                        null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(NewListing);\r\n","C:\\Users\\Marc\\Documents\\cambio\\frontend\\src\\employeeScripts\\views\\ExistingGuestListings.js",["839","840"],"import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport styles from \"../style/employeeStyle.module.css\";\r\nimport axios from \"axios\";\r\nimport {integerToMoneyString} from \"../../miscFunctions\";\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isDataLoading: true,\r\n            listings: [],\r\n            offers:[],\r\n            errorMessage: \"\"\r\n        }\r\n        this.deleteListing = this.deleteListing.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get(window.api_prefix+\"/getAllGuestListings\").then(resp => {\r\n            this.setState({\r\n                listings: resp.data,\r\n                isDataLoading: false\r\n            });\r\n        });\r\n\r\n        axios.get(window.api_prefix+\"/getGuestOffers\").then(resp => {\r\n            this.setState({\r\n                offers: resp.data,\r\n                isDataLoading: false\r\n            });\r\n        });\r\n    }\r\n\r\n    deleteListing(key, listingId) {\r\n        axios.post(window.api_prefix+\"/deleteGuestListing\", { id:  listingId, token: this.props.token }).then(resp => {\r\n            let currentListings = this.state.listings;\r\n            currentListings.splice(key, 1);\r\n            this.setState({\r\n                listings: currentListings\r\n            });\r\n        }).catch(err => {\r\n            if (err.response) {\r\n                this.setState({\r\n                    errorMessage: err.response.data.message\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    acceptOffer(key, offerId) {\r\n        axios.post(window.api_prefix+\"/declineGuestOffer\", { id:  offerId, token: this.props.token }).then(resp => {\r\n            let currentOffers = this.state.offers;\r\n            currentOffers.splice(key, 1);\r\n            this.setState({\r\n                offers: currentOffers\r\n            });\r\n        }).catch(err => {\r\n            if (err.response) {\r\n                this.setState({\r\n                    errorMessage: err.response.data.message\r\n                });\r\n            }\r\n        });\r\n    }\r\n    declineOffer(key, offerId) {\r\n        axios.post(window.api_prefix+\"/acceptGuestOffer\", { id:  offerId, token: this.props.token }).then(resp => {\r\n            let currentOffers = this.state.offers;\r\n            currentOffers.splice(key, 1);\r\n            this.setState({\r\n                offers: currentOffers\r\n            });\r\n        }).catch(err => {\r\n            if (err.response) {\r\n                this.setState({\r\n                    errorMessage: err.response.data.message\r\n                });\r\n            }\r\n        });\r\n    }\r\n    render() {\r\n        const { t } = this.props;\r\n\r\n        if (this.state.isDataLoading == true) {\r\n            return <p>Loading...</p>;\r\n        }\r\n        let listings = <p>No listings to verify</p>;\r\n        if (this.state.listings.length > 0) {\r\n            listings = this.state.listings.map((listing, key) => {\r\n                return (\r\n                    <div key={key} style={{ marginBottom: \"50px\", border: \"1px solid #000\", padding: \"20px\" }}>\r\n                        <p>Listing id: {listing.id}</p>\r\n                        <p>Seller: @{listing.sellername}</p>\r\n                        <p>Type: {listing.title}</p>\r\n                        <button onClick={() => { this.deleteListing(key, listing.id) }}>Delete</button>\r\n                    </div>\r\n                );\r\n            });\r\n        }\r\n\r\n        let offers = <p>No offers to accept</p>\r\n        if (this.state.offers.length > 0) {\r\n            offers = this.state.offers.map((offer, key) => {\r\n                return (\r\n                    <div key={key} style={{ marginBottom: \"50px\", border: \"1px solid #000\", padding: \"20px\" }}>\r\n                        <p>offer id: {offer.id}</p>\r\n                        <p>Amount: {integerToMoneyString(offer.amount)}</p>\r\n                        <p>Seller description:</p>\r\n                        <p>@{offer.sellername}</p>\r\n                        <p>{offer.sellerdescription}</p>\r\n                        <button onClick={() => { this.acceptOffer(key, offer.id) }}>Accept</button>\r\n                        <button onClick={() => { this.declineOffer(key, offer.id) }}>Decline</button>\r\n                    </div>\r\n                );\r\n            });\r\n        }\r\n        return (\r\n            <div>\r\n                <div id={styles.articleContainer}>\r\n                    <p className={\"megaTitle\"}>Guest listings</p>\r\n                    {listings}\r\n                    <p className={\"megaTitle\"}>Guest listings offers</p>\r\n                    {offers}\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default withTranslation()(Index);\r\n",{"ruleId":"841","severity":1,"message":"842","line":6,"column":13,"nodeType":"843","messageId":"844","endLine":6,"endColumn":38},{"ruleId":"845","severity":1,"message":"846","line":13,"column":49,"nodeType":"847","messageId":"848","endLine":13,"endColumn":51},{"ruleId":"849","replacedBy":"850"},{"ruleId":"851","replacedBy":"852"},{"ruleId":"853","severity":1,"message":"854","line":10,"column":42,"nodeType":"855","messageId":"856","endLine":10,"endColumn":43,"suggestions":"857"},{"ruleId":"853","severity":1,"message":"854","line":10,"column":67,"nodeType":"855","messageId":"856","endLine":10,"endColumn":68,"suggestions":"858"},{"ruleId":"853","severity":1,"message":"854","line":10,"column":76,"nodeType":"855","messageId":"856","endLine":10,"endColumn":77,"suggestions":"859"},{"ruleId":"853","severity":1,"message":"854","line":10,"column":80,"nodeType":"855","messageId":"856","endLine":10,"endColumn":81,"suggestions":"860"},{"ruleId":"845","severity":1,"message":"846","line":138,"column":236,"nodeType":"847","messageId":"848","endLine":138,"endColumn":238},{"ruleId":"861","severity":1,"message":"862","line":142,"column":29,"nodeType":"863","endLine":142,"endColumn":67},{"ruleId":"864","severity":1,"message":"865","line":143,"column":33,"nodeType":"863","endLine":143,"endColumn":142},{"ruleId":"861","severity":1,"message":"862","line":145,"column":29,"nodeType":"863","endLine":145,"endColumn":68},{"ruleId":"864","severity":1,"message":"865","line":146,"column":33,"nodeType":"863","endLine":146,"endColumn":143},{"ruleId":"864","severity":1,"message":"865","line":173,"column":25,"nodeType":"863","endLine":173,"endColumn":120},{"ruleId":"853","severity":1,"message":"854","line":13,"column":42,"nodeType":"855","messageId":"856","endLine":13,"endColumn":43,"suggestions":"866"},{"ruleId":"853","severity":1,"message":"854","line":13,"column":67,"nodeType":"855","messageId":"856","endLine":13,"endColumn":68,"suggestions":"867"},{"ruleId":"853","severity":1,"message":"854","line":13,"column":76,"nodeType":"855","messageId":"856","endLine":13,"endColumn":77,"suggestions":"868"},{"ruleId":"853","severity":1,"message":"854","line":13,"column":80,"nodeType":"855","messageId":"856","endLine":13,"endColumn":81,"suggestions":"869"},{"ruleId":"845","severity":1,"message":"846","line":161,"column":57,"nodeType":"847","messageId":"848","endLine":161,"endColumn":59},{"ruleId":"845","severity":1,"message":"846","line":222,"column":34,"nodeType":"847","messageId":"848","endLine":222,"endColumn":36},{"ruleId":"845","severity":1,"message":"846","line":238,"column":50,"nodeType":"847","messageId":"848","endLine":238,"endColumn":52},{"ruleId":"845","severity":1,"message":"846","line":263,"column":50,"nodeType":"847","messageId":"848","endLine":263,"endColumn":52},{"ruleId":"845","severity":1,"message":"846","line":293,"column":46,"nodeType":"847","messageId":"848","endLine":293,"endColumn":48},{"ruleId":"864","severity":1,"message":"865","line":25,"column":21,"nodeType":"863","endLine":25,"endColumn":116},{"ruleId":"853","severity":1,"message":"854","line":9,"column":42,"nodeType":"855","messageId":"856","endLine":9,"endColumn":43,"suggestions":"870"},{"ruleId":"853","severity":1,"message":"854","line":9,"column":67,"nodeType":"855","messageId":"856","endLine":9,"endColumn":68,"suggestions":"871"},{"ruleId":"853","severity":1,"message":"854","line":9,"column":76,"nodeType":"855","messageId":"856","endLine":9,"endColumn":77,"suggestions":"872"},{"ruleId":"853","severity":1,"message":"854","line":9,"column":80,"nodeType":"855","messageId":"856","endLine":9,"endColumn":81,"suggestions":"873"},{"ruleId":"845","severity":1,"message":"846","line":96,"column":46,"nodeType":"847","messageId":"848","endLine":96,"endColumn":48},{"ruleId":"874","severity":1,"message":"875","line":12,"column":8,"nodeType":"876","endLine":12,"endColumn":10,"suggestions":"877"},{"ruleId":"849","replacedBy":"878"},{"ruleId":"851","replacedBy":"879"},{"ruleId":"841","severity":1,"message":"880","line":29,"column":17,"nodeType":"843","messageId":"844","endLine":29,"endColumn":18},{"ruleId":"845","severity":1,"message":"846","line":68,"column":46,"nodeType":"847","messageId":"848","endLine":68,"endColumn":48},{"ruleId":"864","severity":1,"message":"865","line":76,"column":25,"nodeType":"863","endLine":76,"endColumn":110},{"ruleId":"845","severity":1,"message":"881","line":79,"column":32,"nodeType":"847","messageId":"848","endLine":79,"endColumn":34},{"ruleId":"864","severity":1,"message":"865","line":81,"column":25,"nodeType":"863","endLine":81,"endColumn":115},{"ruleId":"845","severity":1,"message":"846","line":89,"column":154,"nodeType":"847","messageId":"848","endLine":89,"endColumn":156},{"ruleId":"845","severity":1,"message":"846","line":103,"column":149,"nodeType":"847","messageId":"848","endLine":103,"endColumn":151},{"ruleId":"841","severity":1,"message":"882","line":2,"column":10,"nodeType":"843","messageId":"844","endLine":2,"endColumn":25},{"ruleId":"845","severity":1,"message":"846","line":34,"column":46,"nodeType":"847","messageId":"848","endLine":34,"endColumn":48},{"ruleId":"845","severity":1,"message":"846","line":34,"column":95,"nodeType":"847","messageId":"848","endLine":34,"endColumn":97},{"ruleId":"845","severity":1,"message":"846","line":88,"column":30,"nodeType":"847","messageId":"848","endLine":88,"endColumn":32},{"ruleId":"841","severity":1,"message":"880","line":113,"column":17,"nodeType":"843","messageId":"844","endLine":113,"endColumn":18},{"ruleId":"864","severity":1,"message":"865","line":194,"column":25,"nodeType":"863","endLine":194,"endColumn":103},{"ruleId":"864","severity":1,"message":"865","line":206,"column":25,"nodeType":"863","endLine":206,"endColumn":103},{"ruleId":"864","severity":1,"message":"865","line":222,"column":29,"nodeType":"863","endLine":222,"endColumn":148},{"ruleId":"864","severity":1,"message":"865","line":225,"column":29,"nodeType":"863","endLine":225,"endColumn":166},{"ruleId":"841","severity":1,"message":"883","line":3,"column":8,"nodeType":"843","messageId":"844","endLine":3,"endColumn":13},{"ruleId":"841","severity":1,"message":"880","line":14,"column":17,"nodeType":"843","messageId":"844","endLine":14,"endColumn":18},{"ruleId":"864","severity":1,"message":"865","line":21,"column":29,"nodeType":"863","endLine":21,"endColumn":105},{"ruleId":"864","severity":1,"message":"865","line":53,"column":29,"nodeType":"863","endLine":53,"endColumn":111},{"ruleId":"864","severity":1,"message":"865","line":81,"column":29,"nodeType":"863","endLine":81,"endColumn":107},{"ruleId":"841","severity":1,"message":"882","line":5,"column":10,"nodeType":"843","messageId":"844","endLine":5,"endColumn":25},{"ruleId":"841","severity":1,"message":"884","line":13,"column":8,"nodeType":"843","messageId":"844","endLine":13,"endColumn":22},{"ruleId":"845","severity":1,"message":"846","line":72,"column":55,"nodeType":"847","messageId":"848","endLine":72,"endColumn":57},{"ruleId":"841","severity":1,"message":"880","line":113,"column":17,"nodeType":"843","messageId":"844","endLine":113,"endColumn":18},{"ruleId":"845","severity":1,"message":"846","line":121,"column":34,"nodeType":"847","messageId":"848","endLine":121,"endColumn":36},{"ruleId":"864","severity":1,"message":"865","line":128,"column":29,"nodeType":"863","endLine":128,"endColumn":142},{"ruleId":"845","severity":1,"message":"881","line":131,"column":36,"nodeType":"847","messageId":"848","endLine":131,"endColumn":38},{"ruleId":"864","severity":1,"message":"865","line":133,"column":29,"nodeType":"863","endLine":133,"endColumn":147},{"ruleId":"845","severity":1,"message":"846","line":142,"column":109,"nodeType":"847","messageId":"848","endLine":142,"endColumn":111},{"ruleId":"841","severity":1,"message":"885","line":177,"column":17,"nodeType":"843","messageId":"844","endLine":177,"endColumn":32},{"ruleId":"845","severity":1,"message":"846","line":181,"column":143,"nodeType":"847","messageId":"848","endLine":181,"endColumn":145},{"ruleId":"864","severity":1,"message":"865","line":194,"column":76,"nodeType":"863","endLine":194,"endColumn":154},{"ruleId":"845","severity":1,"message":"846","line":198,"column":87,"nodeType":"847","messageId":"848","endLine":198,"endColumn":89},{"ruleId":"864","severity":1,"message":"865","line":201,"column":157,"nodeType":"863","endLine":201,"endColumn":242},{"ruleId":"864","severity":1,"message":"865","line":201,"column":345,"nodeType":"863","endLine":201,"endColumn":420},{"ruleId":"845","severity":1,"message":"846","line":210,"column":27,"nodeType":"847","messageId":"848","endLine":210,"endColumn":29},{"ruleId":"864","severity":1,"message":"865","line":217,"column":25,"nodeType":"863","endLine":217,"endColumn":138},{"ruleId":"845","severity":1,"message":"881","line":220,"column":32,"nodeType":"847","messageId":"848","endLine":220,"endColumn":34},{"ruleId":"864","severity":1,"message":"865","line":222,"column":25,"nodeType":"863","endLine":222,"endColumn":143},{"ruleId":"841","severity":1,"message":"882","line":2,"column":10,"nodeType":"843","messageId":"844","endLine":2,"endColumn":25},{"ruleId":"845","severity":1,"message":"846","line":112,"column":59,"nodeType":"847","messageId":"848","endLine":112,"endColumn":61},{"ruleId":"841","severity":1,"message":"880","line":196,"column":17,"nodeType":"843","messageId":"844","endLine":196,"endColumn":18},{"ruleId":"845","severity":1,"message":"846","line":203,"column":39,"nodeType":"847","messageId":"848","endLine":203,"endColumn":41},{"ruleId":"845","severity":1,"message":"846","line":215,"column":43,"nodeType":"847","messageId":"848","endLine":215,"endColumn":45},{"ruleId":"845","severity":1,"message":"846","line":236,"column":66,"nodeType":"847","messageId":"848","endLine":236,"endColumn":68},{"ruleId":"864","severity":1,"message":"865","line":260,"column":21,"nodeType":"863","endLine":260,"endColumn":98},{"ruleId":"864","severity":1,"message":"865","line":273,"column":25,"nodeType":"863","endLine":273,"endColumn":110},{"ruleId":"845","severity":1,"message":"881","line":276,"column":32,"nodeType":"847","messageId":"848","endLine":276,"endColumn":34},{"ruleId":"864","severity":1,"message":"865","line":278,"column":25,"nodeType":"863","endLine":278,"endColumn":115},{"ruleId":"845","severity":1,"message":"846","line":286,"column":109,"nodeType":"847","messageId":"848","endLine":286,"endColumn":111},{"ruleId":"864","severity":1,"message":"865","line":311,"column":78,"nodeType":"863","endLine":311,"endColumn":156},{"ruleId":"845","severity":1,"message":"846","line":316,"column":38,"nodeType":"847","messageId":"848","endLine":316,"endColumn":40},{"ruleId":"845","severity":1,"message":"881","line":330,"column":68,"nodeType":"847","messageId":"848","endLine":330,"endColumn":70},{"ruleId":"845","severity":1,"message":"881","line":330,"column":94,"nodeType":"847","messageId":"848","endLine":330,"endColumn":96},{"ruleId":"845","severity":1,"message":"881","line":344,"column":48,"nodeType":"847","messageId":"848","endLine":344,"endColumn":50},{"ruleId":"845","severity":1,"message":"881","line":345,"column":52,"nodeType":"847","messageId":"848","endLine":345,"endColumn":54},{"ruleId":"845","severity":1,"message":"881","line":361,"column":52,"nodeType":"847","messageId":"848","endLine":361,"endColumn":54},{"ruleId":"845","severity":1,"message":"846","line":373,"column":23,"nodeType":"847","messageId":"848","endLine":373,"endColumn":25},{"ruleId":"864","severity":1,"message":"865","line":380,"column":21,"nodeType":"863","endLine":380,"endColumn":106},{"ruleId":"845","severity":1,"message":"881","line":383,"column":28,"nodeType":"847","messageId":"848","endLine":383,"endColumn":30},{"ruleId":"864","severity":1,"message":"865","line":385,"column":21,"nodeType":"863","endLine":385,"endColumn":111},{"ruleId":"861","severity":1,"message":"862","line":428,"column":37,"nodeType":"863","endLine":428,"endColumn":80},{"ruleId":"864","severity":1,"message":"865","line":429,"column":41,"nodeType":"863","endLine":429,"endColumn":150},{"ruleId":"861","severity":1,"message":"862","line":431,"column":37,"nodeType":"863","endLine":431,"endColumn":75},{"ruleId":"864","severity":1,"message":"865","line":432,"column":41,"nodeType":"863","endLine":432,"endColumn":145},{"ruleId":"864","severity":1,"message":"865","line":434,"column":37,"nodeType":"863","endLine":446,"endColumn":114},{"ruleId":"845","severity":1,"message":"846","line":460,"column":59,"nodeType":"847","messageId":"848","endLine":460,"endColumn":61},{"ruleId":"845","severity":1,"message":"846","line":465,"column":103,"nodeType":"847","messageId":"848","endLine":465,"endColumn":105},{"ruleId":"845","severity":1,"message":"846","line":468,"column":73,"nodeType":"847","messageId":"848","endLine":468,"endColumn":75},{"ruleId":"845","severity":1,"message":"846","line":476,"column":52,"nodeType":"847","messageId":"848","endLine":476,"endColumn":54},{"ruleId":"845","severity":1,"message":"846","line":476,"column":86,"nodeType":"847","messageId":"848","endLine":476,"endColumn":88},{"ruleId":"845","severity":1,"message":"846","line":487,"column":62,"nodeType":"847","messageId":"848","endLine":487,"endColumn":64},{"ruleId":"861","severity":1,"message":"862","line":550,"column":33,"nodeType":"863","endLine":550,"endColumn":76},{"ruleId":"864","severity":1,"message":"865","line":551,"column":37,"nodeType":"863","endLine":551,"endColumn":146},{"ruleId":"861","severity":1,"message":"862","line":553,"column":33,"nodeType":"863","endLine":553,"endColumn":71},{"ruleId":"864","severity":1,"message":"865","line":554,"column":37,"nodeType":"863","endLine":554,"endColumn":141},{"ruleId":"864","severity":1,"message":"865","line":556,"column":33,"nodeType":"863","endLine":568,"endColumn":110},{"ruleId":"845","severity":1,"message":"846","line":600,"column":112,"nodeType":"847","messageId":"848","endLine":600,"endColumn":114},{"ruleId":"845","severity":1,"message":"846","line":611,"column":51,"nodeType":"847","messageId":"848","endLine":611,"endColumn":53},{"ruleId":"841","severity":1,"message":"880","line":68,"column":17,"nodeType":"843","messageId":"844","endLine":68,"endColumn":18},{"ruleId":"886","severity":1,"message":"887","line":76,"column":21,"nodeType":"888","messageId":"889","endLine":76,"endColumn":237},{"ruleId":"841","severity":1,"message":"890","line":3,"column":10,"nodeType":"843","messageId":"844","endLine":3,"endColumn":14},{"ruleId":"841","severity":1,"message":"883","line":4,"column":8,"nodeType":"843","messageId":"844","endLine":4,"endColumn":13},{"ruleId":"841","severity":1,"message":"880","line":56,"column":17,"nodeType":"843","messageId":"844","endLine":56,"endColumn":18},{"ruleId":"841","severity":1,"message":"880","line":29,"column":17,"nodeType":"843","messageId":"844","endLine":29,"endColumn":18},{"ruleId":"845","severity":1,"message":"846","line":62,"column":46,"nodeType":"847","messageId":"848","endLine":62,"endColumn":48},{"ruleId":"864","severity":1,"message":"865","line":70,"column":25,"nodeType":"863","endLine":70,"endColumn":110},{"ruleId":"845","severity":1,"message":"881","line":73,"column":32,"nodeType":"847","messageId":"848","endLine":73,"endColumn":34},{"ruleId":"864","severity":1,"message":"865","line":75,"column":25,"nodeType":"863","endLine":75,"endColumn":115},{"ruleId":"845","severity":1,"message":"846","line":85,"column":154,"nodeType":"847","messageId":"848","endLine":85,"endColumn":156},{"ruleId":"841","severity":1,"message":"891","line":9,"column":8,"nodeType":"843","messageId":"844","endLine":9,"endColumn":19},{"ruleId":"841","severity":1,"message":"892","line":11,"column":8,"nodeType":"843","messageId":"844","endLine":11,"endColumn":12},{"ruleId":"841","severity":1,"message":"880","line":127,"column":17,"nodeType":"843","messageId":"844","endLine":127,"endColumn":18},{"ruleId":"845","severity":1,"message":"846","line":129,"column":36,"nodeType":"847","messageId":"848","endLine":129,"endColumn":38},{"ruleId":"841","severity":1,"message":"893","line":142,"column":25,"nodeType":"843","messageId":"844","endLine":142,"endColumn":34},{"ruleId":"864","severity":1,"message":"865","line":158,"column":37,"nodeType":"863","endLine":158,"endColumn":127},{"ruleId":"845","severity":1,"message":"846","line":218,"column":43,"nodeType":"847","messageId":"848","endLine":218,"endColumn":45},{"ruleId":"841","severity":1,"message":"893","line":229,"column":25,"nodeType":"843","messageId":"844","endLine":229,"endColumn":34},{"ruleId":"864","severity":1,"message":"865","line":246,"column":37,"nodeType":"863","endLine":246,"endColumn":127},{"ruleId":"845","severity":1,"message":"846","line":304,"column":43,"nodeType":"847","messageId":"848","endLine":304,"endColumn":45},{"ruleId":"845","severity":1,"message":"846","line":321,"column":39,"nodeType":"847","messageId":"848","endLine":321,"endColumn":41},{"ruleId":"845","severity":1,"message":"846","line":323,"column":45,"nodeType":"847","messageId":"848","endLine":323,"endColumn":47},{"ruleId":"864","severity":1,"message":"865","line":347,"column":37,"nodeType":"863","endLine":347,"endColumn":127},{"ruleId":"845","severity":1,"message":"846","line":375,"column":66,"nodeType":"847","messageId":"848","endLine":375,"endColumn":68},{"ruleId":"845","severity":1,"message":"881","line":437,"column":53,"nodeType":"847","messageId":"848","endLine":437,"endColumn":55},{"ruleId":"845","severity":1,"message":"881","line":450,"column":62,"nodeType":"847","messageId":"848","endLine":450,"endColumn":64},{"ruleId":"845","severity":1,"message":"881","line":451,"column":103,"nodeType":"847","messageId":"848","endLine":451,"endColumn":105},{"ruleId":"845","severity":1,"message":"881","line":472,"column":63,"nodeType":"847","messageId":"848","endLine":472,"endColumn":65},{"ruleId":"845","severity":1,"message":"881","line":525,"column":106,"nodeType":"847","messageId":"848","endLine":525,"endColumn":108},{"ruleId":"845","severity":1,"message":"881","line":525,"column":149,"nodeType":"847","messageId":"848","endLine":525,"endColumn":151},{"ruleId":"845","severity":1,"message":"846","line":537,"column":76,"nodeType":"847","messageId":"848","endLine":537,"endColumn":78},{"ruleId":"845","severity":1,"message":"846","line":550,"column":51,"nodeType":"847","messageId":"848","endLine":550,"endColumn":53},{"ruleId":"841","severity":1,"message":"894","line":9,"column":8,"nodeType":"843","messageId":"844","endLine":9,"endColumn":19},{"ruleId":"841","severity":1,"message":"891","line":10,"column":8,"nodeType":"843","messageId":"844","endLine":10,"endColumn":19},{"ruleId":"845","severity":1,"message":"846","line":91,"column":21,"nodeType":"847","messageId":"848","endLine":91,"endColumn":23},{"ruleId":"841","severity":1,"message":"880","line":168,"column":17,"nodeType":"843","messageId":"844","endLine":168,"endColumn":18},{"ruleId":"845","severity":1,"message":"846","line":187,"column":50,"nodeType":"847","messageId":"848","endLine":187,"endColumn":52},{"ruleId":"864","severity":1,"message":"865","line":236,"column":41,"nodeType":"863","endLine":236,"endColumn":131},{"ruleId":"864","severity":1,"message":"865","line":314,"column":37,"nodeType":"863","endLine":314,"endColumn":127},{"ruleId":"845","severity":1,"message":"846","line":391,"column":39,"nodeType":"847","messageId":"848","endLine":391,"endColumn":41},{"ruleId":"845","severity":1,"message":"846","line":393,"column":45,"nodeType":"847","messageId":"848","endLine":393,"endColumn":47},{"ruleId":"864","severity":1,"message":"865","line":416,"column":37,"nodeType":"863","endLine":416,"endColumn":127},{"ruleId":"845","severity":1,"message":"846","line":444,"column":65,"nodeType":"847","messageId":"848","endLine":444,"endColumn":67},{"ruleId":"845","severity":1,"message":"846","line":505,"column":99,"nodeType":"847","messageId":"848","endLine":505,"endColumn":101},{"ruleId":"845","severity":1,"message":"881","line":547,"column":53,"nodeType":"847","messageId":"848","endLine":547,"endColumn":55},{"ruleId":"845","severity":1,"message":"881","line":560,"column":61,"nodeType":"847","messageId":"848","endLine":560,"endColumn":63},{"ruleId":"845","severity":1,"message":"846","line":567,"column":106,"nodeType":"847","messageId":"848","endLine":567,"endColumn":108},{"ruleId":"845","severity":1,"message":"846","line":567,"column":203,"nodeType":"847","messageId":"848","endLine":567,"endColumn":205},{"ruleId":"845","severity":1,"message":"881","line":581,"column":56,"nodeType":"847","messageId":"848","endLine":581,"endColumn":58},{"ruleId":"845","severity":1,"message":"881","line":582,"column":95,"nodeType":"847","messageId":"848","endLine":582,"endColumn":97},{"ruleId":"845","severity":1,"message":"846","line":593,"column":182,"nodeType":"847","messageId":"848","endLine":593,"endColumn":184},{"ruleId":"845","severity":1,"message":"881","line":642,"column":114,"nodeType":"847","messageId":"848","endLine":642,"endColumn":116},{"ruleId":"845","severity":1,"message":"846","line":683,"column":76,"nodeType":"847","messageId":"848","endLine":683,"endColumn":78},{"ruleId":"845","severity":1,"message":"846","line":718,"column":47,"nodeType":"847","messageId":"848","endLine":718,"endColumn":49},{"ruleId":"841","severity":1,"message":"880","line":30,"column":17,"nodeType":"843","messageId":"844","endLine":30,"endColumn":18},{"ruleId":"845","severity":1,"message":"846","line":88,"column":133,"nodeType":"847","messageId":"848","endLine":88,"endColumn":135},{"ruleId":"845","severity":1,"message":"846","line":120,"column":133,"nodeType":"847","messageId":"848","endLine":120,"endColumn":135},{"ruleId":"845","severity":1,"message":"846","line":157,"column":137,"nodeType":"847","messageId":"848","endLine":157,"endColumn":139},{"ruleId":"845","severity":1,"message":"846","line":164,"column":73,"nodeType":"847","messageId":"848","endLine":164,"endColumn":75},{"ruleId":"845","severity":1,"message":"846","line":32,"column":105,"nodeType":"847","messageId":"848","endLine":32,"endColumn":107},{"ruleId":"864","severity":1,"message":"865","line":38,"column":60,"nodeType":"863","endLine":38,"endColumn":142},{"ruleId":"864","severity":1,"message":"865","line":41,"column":60,"nodeType":"863","endLine":41,"endColumn":135},{"ruleId":"864","severity":1,"message":"865","line":44,"column":60,"nodeType":"863","endLine":44,"endColumn":146},{"ruleId":"864","severity":1,"message":"865","line":47,"column":60,"nodeType":"863","endLine":47,"endColumn":138},{"ruleId":"864","severity":1,"message":"865","line":50,"column":60,"nodeType":"863","endLine":50,"endColumn":138},{"ruleId":"864","severity":1,"message":"865","line":53,"column":60,"nodeType":"863","endLine":53,"endColumn":142},{"ruleId":"841","severity":1,"message":"890","line":3,"column":10,"nodeType":"843","messageId":"844","endLine":3,"endColumn":14},{"ruleId":"845","severity":1,"message":"881","line":57,"column":28,"nodeType":"847","messageId":"848","endLine":57,"endColumn":30},{"ruleId":"845","severity":1,"message":"881","line":60,"column":39,"nodeType":"847","messageId":"848","endLine":60,"endColumn":41},{"ruleId":"841","severity":1,"message":"880","line":125,"column":17,"nodeType":"843","messageId":"844","endLine":125,"endColumn":18},{"ruleId":"864","severity":1,"message":"865","line":134,"column":33,"nodeType":"863","endLine":134,"endColumn":111},{"ruleId":"864","severity":1,"message":"865","line":147,"column":29,"nodeType":"863","endLine":147,"endColumn":105},{"ruleId":"845","severity":1,"message":"881","line":155,"column":80,"nodeType":"847","messageId":"848","endLine":155,"endColumn":82},{"ruleId":"841","severity":1,"message":"890","line":3,"column":10,"nodeType":"843","messageId":"844","endLine":3,"endColumn":14},{"ruleId":"841","severity":1,"message":"880","line":126,"column":17,"nodeType":"843","messageId":"844","endLine":126,"endColumn":18},{"ruleId":"864","severity":1,"message":"865","line":133,"column":100,"nodeType":"863","endLine":133,"endColumn":228},{"ruleId":"841","severity":1,"message":"890","line":3,"column":10,"nodeType":"843","messageId":"844","endLine":3,"endColumn":14},{"ruleId":"841","severity":1,"message":"895","line":10,"column":32,"nodeType":"843","messageId":"844","endLine":10,"endColumn":52},{"ruleId":"845","severity":1,"message":"846","line":61,"column":29,"nodeType":"847","messageId":"848","endLine":61,"endColumn":31},{"ruleId":"845","severity":1,"message":"846","line":61,"column":49,"nodeType":"847","messageId":"848","endLine":61,"endColumn":51},{"ruleId":"841","severity":1,"message":"896","line":64,"column":25,"nodeType":"843","messageId":"844","endLine":64,"endColumn":32},{"ruleId":"845","severity":1,"message":"846","line":149,"column":18,"nodeType":"847","messageId":"848","endLine":149,"endColumn":20},{"ruleId":"845","severity":1,"message":"846","line":154,"column":24,"nodeType":"847","messageId":"848","endLine":154,"endColumn":26},{"ruleId":"845","severity":1,"message":"846","line":177,"column":32,"nodeType":"847","messageId":"848","endLine":177,"endColumn":34},{"ruleId":"845","severity":1,"message":"846","line":179,"column":39,"nodeType":"847","messageId":"848","endLine":179,"endColumn":41},{"ruleId":"845","severity":1,"message":"846","line":182,"column":39,"nodeType":"847","messageId":"848","endLine":182,"endColumn":41},{"ruleId":"897","severity":1,"message":"898","line":241,"column":25,"nodeType":"899","messageId":"900","endLine":253,"endColumn":18},{"ruleId":"845","severity":1,"message":"846","line":243,"column":45,"nodeType":"847","messageId":"848","endLine":243,"endColumn":47},{"ruleId":"845","severity":1,"message":"846","line":348,"column":35,"nodeType":"847","messageId":"848","endLine":348,"endColumn":37},{"ruleId":"845","severity":1,"message":"881","line":348,"column":55,"nodeType":"847","messageId":"848","endLine":348,"endColumn":57},{"ruleId":"845","severity":1,"message":"846","line":354,"column":56,"nodeType":"847","messageId":"848","endLine":354,"endColumn":58},{"ruleId":"841","severity":1,"message":"880","line":392,"column":17,"nodeType":"843","messageId":"844","endLine":392,"endColumn":18},{"ruleId":"841","severity":1,"message":"901","line":403,"column":13,"nodeType":"843","messageId":"844","endLine":403,"endColumn":30},{"ruleId":"902","severity":1,"message":"903","line":445,"column":68,"nodeType":"899","messageId":"904","endLine":445,"endColumn":70},{"ruleId":"845","severity":1,"message":"846","line":447,"column":33,"nodeType":"847","messageId":"848","endLine":447,"endColumn":35},{"ruleId":"845","severity":1,"message":"846","line":457,"column":40,"nodeType":"847","messageId":"848","endLine":457,"endColumn":42},{"ruleId":"845","severity":1,"message":"846","line":464,"column":80,"nodeType":"847","messageId":"848","endLine":464,"endColumn":82},{"ruleId":"845","severity":1,"message":"846","line":483,"column":40,"nodeType":"847","messageId":"848","endLine":483,"endColumn":42},{"ruleId":"841","severity":1,"message":"905","line":493,"column":13,"nodeType":"843","messageId":"844","endLine":493,"endColumn":24},{"ruleId":"845","severity":1,"message":"846","line":497,"column":36,"nodeType":"847","messageId":"848","endLine":497,"endColumn":38},{"ruleId":"845","severity":1,"message":"846","line":499,"column":43,"nodeType":"847","messageId":"848","endLine":499,"endColumn":45},{"ruleId":"845","severity":1,"message":"846","line":501,"column":41,"nodeType":"847","messageId":"848","endLine":501,"endColumn":43},{"ruleId":"864","severity":1,"message":"865","line":509,"column":25,"nodeType":"863","endLine":509,"endColumn":98},{"ruleId":"845","severity":1,"message":"881","line":518,"column":39,"nodeType":"847","messageId":"848","endLine":518,"endColumn":41},{"ruleId":"845","severity":1,"message":"846","line":518,"column":117,"nodeType":"847","messageId":"848","endLine":518,"endColumn":119},{"ruleId":"845","severity":1,"message":"846","line":521,"column":68,"nodeType":"847","messageId":"848","endLine":521,"endColumn":70},{"ruleId":"845","severity":1,"message":"846","line":544,"column":35,"nodeType":"847","messageId":"848","endLine":544,"endColumn":37},{"ruleId":"864","severity":1,"message":"865","line":572,"column":37,"nodeType":"863","endLine":572,"endColumn":113},{"ruleId":"845","severity":1,"message":"846","line":603,"column":46,"nodeType":"847","messageId":"848","endLine":603,"endColumn":48},{"ruleId":"841","severity":1,"message":"882","line":2,"column":10,"nodeType":"843","messageId":"844","endLine":2,"endColumn":25},{"ruleId":"841","severity":1,"message":"890","line":3,"column":10,"nodeType":"843","messageId":"844","endLine":3,"endColumn":14},{"ruleId":"841","severity":1,"message":"906","line":11,"column":8,"nodeType":"843","messageId":"844","endLine":11,"endColumn":13},{"ruleId":"845","severity":1,"message":"846","line":98,"column":25,"nodeType":"847","messageId":"848","endLine":98,"endColumn":27},{"ruleId":"845","severity":1,"message":"846","line":115,"column":45,"nodeType":"847","messageId":"848","endLine":115,"endColumn":47},{"ruleId":"845","severity":1,"message":"846","line":124,"column":52,"nodeType":"847","messageId":"848","endLine":124,"endColumn":54},{"ruleId":"845","severity":1,"message":"846","line":133,"column":70,"nodeType":"847","messageId":"848","endLine":133,"endColumn":72},{"ruleId":"845","severity":1,"message":"846","line":146,"column":70,"nodeType":"847","messageId":"848","endLine":146,"endColumn":72},{"ruleId":"845","severity":1,"message":"846","line":147,"column":59,"nodeType":"847","messageId":"848","endLine":147,"endColumn":61},{"ruleId":"845","severity":1,"message":"846","line":156,"column":66,"nodeType":"847","messageId":"848","endLine":156,"endColumn":68},{"ruleId":"845","severity":1,"message":"846","line":162,"column":52,"nodeType":"847","messageId":"848","endLine":162,"endColumn":54},{"ruleId":"845","severity":1,"message":"846","line":186,"column":38,"nodeType":"847","messageId":"848","endLine":186,"endColumn":40},{"ruleId":"845","severity":1,"message":"846","line":187,"column":57,"nodeType":"847","messageId":"848","endLine":187,"endColumn":59},{"ruleId":"845","severity":1,"message":"846","line":189,"column":45,"nodeType":"847","messageId":"848","endLine":189,"endColumn":47},{"ruleId":"845","severity":1,"message":"846","line":203,"column":39,"nodeType":"847","messageId":"848","endLine":203,"endColumn":41},{"ruleId":"845","severity":1,"message":"846","line":204,"column":32,"nodeType":"847","messageId":"848","endLine":204,"endColumn":34},{"ruleId":"845","severity":1,"message":"846","line":206,"column":31,"nodeType":"847","messageId":"848","endLine":206,"endColumn":33},{"ruleId":"845","severity":1,"message":"881","line":211,"column":31,"nodeType":"847","messageId":"848","endLine":211,"endColumn":33},{"ruleId":"841","severity":1,"message":"907","line":257,"column":13,"nodeType":"843","messageId":"844","endLine":257,"endColumn":23},{"ruleId":"902","severity":1,"message":"903","line":257,"column":63,"nodeType":"899","messageId":"904","endLine":257,"endColumn":65},{"ruleId":"845","severity":1,"message":"846","line":259,"column":29,"nodeType":"847","messageId":"848","endLine":259,"endColumn":31},{"ruleId":"845","severity":1,"message":"846","line":262,"column":60,"nodeType":"847","messageId":"848","endLine":262,"endColumn":62},{"ruleId":"845","severity":1,"message":"846","line":270,"column":36,"nodeType":"847","messageId":"848","endLine":270,"endColumn":38},{"ruleId":"845","severity":1,"message":"846","line":292,"column":36,"nodeType":"847","messageId":"848","endLine":292,"endColumn":38},{"ruleId":"864","severity":1,"message":"865","line":317,"column":37,"nodeType":"863","endLine":317,"endColumn":117},{"ruleId":"845","severity":1,"message":"846","line":339,"column":53,"nodeType":"847","messageId":"848","endLine":339,"endColumn":55},{"ruleId":"845","severity":1,"message":"846","line":11,"column":22,"nodeType":"847","messageId":"848","endLine":11,"endColumn":24},{"ruleId":"864","severity":1,"message":"865","line":29,"column":25,"nodeType":"863","endLine":29,"endColumn":161},{"ruleId":"841","severity":1,"message":"890","line":3,"column":10,"nodeType":"843","messageId":"844","endLine":3,"endColumn":14},{"ruleId":"845","severity":1,"message":"846","line":45,"column":112,"nodeType":"847","messageId":"848","endLine":45,"endColumn":114},{"ruleId":"845","severity":1,"message":"846","line":47,"column":112,"nodeType":"847","messageId":"848","endLine":47,"endColumn":114},{"ruleId":"845","severity":1,"message":"846","line":49,"column":112,"nodeType":"847","messageId":"848","endLine":49,"endColumn":114},{"ruleId":"845","severity":1,"message":"846","line":51,"column":112,"nodeType":"847","messageId":"848","endLine":51,"endColumn":114},{"ruleId":"845","severity":1,"message":"846","line":53,"column":112,"nodeType":"847","messageId":"848","endLine":53,"endColumn":114},{"ruleId":"841","severity":1,"message":"908","line":9,"column":8,"nodeType":"843","messageId":"844","endLine":9,"endColumn":22},{"ruleId":"845","severity":1,"message":"846","line":105,"column":39,"nodeType":"847","messageId":"848","endLine":105,"endColumn":41},{"ruleId":"845","severity":1,"message":"846","line":107,"column":38,"nodeType":"847","messageId":"848","endLine":107,"endColumn":40},{"ruleId":"845","severity":1,"message":"881","line":117,"column":47,"nodeType":"847","messageId":"848","endLine":117,"endColumn":49},{"ruleId":"845","severity":1,"message":"881","line":123,"column":47,"nodeType":"847","messageId":"848","endLine":123,"endColumn":49},{"ruleId":"845","severity":1,"message":"881","line":129,"column":47,"nodeType":"847","messageId":"848","endLine":129,"endColumn":49},{"ruleId":"845","severity":1,"message":"881","line":135,"column":47,"nodeType":"847","messageId":"848","endLine":135,"endColumn":49},{"ruleId":"845","severity":1,"message":"846","line":168,"column":24,"nodeType":"847","messageId":"848","endLine":168,"endColumn":26},{"ruleId":"841","severity":1,"message":"880","line":192,"column":13,"nodeType":"843","messageId":"844","endLine":192,"endColumn":14},{"ruleId":"845","severity":1,"message":"846","line":201,"column":44,"nodeType":"847","messageId":"848","endLine":201,"endColumn":46},{"ruleId":"841","severity":1,"message":"909","line":206,"column":9,"nodeType":"843","messageId":"844","endLine":206,"endColumn":17},{"ruleId":"864","severity":1,"message":"865","line":209,"column":157,"nodeType":"863","endLine":209,"endColumn":282},{"ruleId":"910","severity":1,"message":"911","line":219,"column":11,"nodeType":"847","messageId":"912","endLine":219,"endColumn":17},{"ruleId":"864","severity":1,"message":"865","line":264,"column":167,"nodeType":"863","endLine":264,"endColumn":325},{"ruleId":"845","severity":1,"message":"846","line":308,"column":46,"nodeType":"847","messageId":"848","endLine":308,"endColumn":48},{"ruleId":"841","severity":1,"message":"909","line":314,"column":11,"nodeType":"843","messageId":"844","endLine":314,"endColumn":19},{"ruleId":"864","severity":1,"message":"865","line":317,"column":159,"nodeType":"863","endLine":317,"endColumn":284},{"ruleId":"864","severity":1,"message":"865","line":372,"column":169,"nodeType":"863","endLine":372,"endColumn":327},{"ruleId":"845","severity":1,"message":"881","line":424,"column":39,"nodeType":"847","messageId":"848","endLine":424,"endColumn":41},{"ruleId":"913","severity":1,"message":"914","line":426,"column":7,"nodeType":"915","messageId":"916","endLine":436,"endColumn":8},{"ruleId":"864","severity":1,"message":"865","line":450,"column":17,"nodeType":"863","endLine":450,"endColumn":135},{"ruleId":"864","severity":1,"message":"865","line":451,"column":17,"nodeType":"863","endLine":455,"endColumn":98},{"ruleId":"864","severity":1,"message":"865","line":460,"column":106,"nodeType":"863","endLine":460,"endColumn":232},{"ruleId":"864","severity":1,"message":"865","line":496,"column":11,"nodeType":"863","endLine":496,"endColumn":93},{"ruleId":"864","severity":1,"message":"865","line":513,"column":15,"nodeType":"863","endLine":513,"endColumn":251},{"ruleId":"864","severity":1,"message":"865","line":515,"column":17,"nodeType":"863","endLine":515,"endColumn":129},{"ruleId":"849","replacedBy":"917"},{"ruleId":"851","replacedBy":"918"},{"ruleId":"845","severity":1,"message":"846","line":101,"column":45,"nodeType":"847","messageId":"848","endLine":101,"endColumn":47},{"ruleId":"845","severity":1,"message":"846","line":103,"column":46,"nodeType":"847","messageId":"848","endLine":103,"endColumn":48},{"ruleId":"845","severity":1,"message":"881","line":113,"column":59,"nodeType":"847","messageId":"848","endLine":113,"endColumn":61},{"ruleId":"845","severity":1,"message":"881","line":119,"column":59,"nodeType":"847","messageId":"848","endLine":119,"endColumn":61},{"ruleId":"845","severity":1,"message":"881","line":125,"column":59,"nodeType":"847","messageId":"848","endLine":125,"endColumn":61},{"ruleId":"845","severity":1,"message":"881","line":131,"column":59,"nodeType":"847","messageId":"848","endLine":131,"endColumn":61},{"ruleId":"845","severity":1,"message":"846","line":167,"column":30,"nodeType":"847","messageId":"848","endLine":167,"endColumn":32},{"ruleId":"841","severity":1,"message":"880","line":187,"column":17,"nodeType":"843","messageId":"844","endLine":187,"endColumn":18},{"ruleId":"845","severity":1,"message":"846","line":197,"column":48,"nodeType":"847","messageId":"848","endLine":197,"endColumn":50},{"ruleId":"841","severity":1,"message":"909","line":202,"column":17,"nodeType":"843","messageId":"844","endLine":202,"endColumn":25},{"ruleId":"864","severity":1,"message":"865","line":205,"column":169,"nodeType":"863","endLine":205,"endColumn":294},{"ruleId":"910","severity":1,"message":"911","line":215,"column":17,"nodeType":"847","messageId":"912","endLine":215,"endColumn":23},{"ruleId":"864","severity":1,"message":"865","line":260,"column":183,"nodeType":"863","endLine":260,"endColumn":341},{"ruleId":"845","severity":1,"message":"846","line":272,"column":82,"nodeType":"847","messageId":"848","endLine":272,"endColumn":84},{"ruleId":"845","severity":1,"message":"846","line":304,"column":52,"nodeType":"847","messageId":"848","endLine":304,"endColumn":54},{"ruleId":"841","severity":1,"message":"909","line":310,"column":21,"nodeType":"843","messageId":"844","endLine":310,"endColumn":29},{"ruleId":"864","severity":1,"message":"865","line":313,"column":173,"nodeType":"863","endLine":313,"endColumn":298},{"ruleId":"864","severity":1,"message":"865","line":368,"column":187,"nodeType":"863","endLine":368,"endColumn":345},{"ruleId":"845","severity":1,"message":"881","line":423,"column":43,"nodeType":"847","messageId":"848","endLine":423,"endColumn":45},{"ruleId":"913","severity":1,"message":"914","line":425,"column":13,"nodeType":"915","messageId":"916","endLine":435,"endColumn":14},{"ruleId":"864","severity":1,"message":"865","line":449,"column":33,"nodeType":"863","endLine":449,"endColumn":151},{"ruleId":"864","severity":1,"message":"865","line":450,"column":33,"nodeType":"863","endLine":454,"endColumn":114},{"ruleId":"864","severity":1,"message":"865","line":459,"column":122,"nodeType":"863","endLine":459,"endColumn":248},{"ruleId":"864","severity":1,"message":"865","line":475,"column":118,"nodeType":"863","endLine":475,"endColumn":244},{"ruleId":"864","severity":1,"message":"865","line":493,"column":134,"nodeType":"863","endLine":493,"endColumn":260},{"ruleId":"864","severity":1,"message":"865","line":515,"column":21,"nodeType":"863","endLine":515,"endColumn":103},{"ruleId":"864","severity":1,"message":"865","line":532,"column":29,"nodeType":"863","endLine":532,"endColumn":265},{"ruleId":"864","severity":1,"message":"865","line":534,"column":33,"nodeType":"863","endLine":534,"endColumn":145},{"ruleId":"841","severity":1,"message":"882","line":2,"column":10,"nodeType":"843","messageId":"844","endLine":2,"endColumn":25},{"ruleId":"853","severity":1,"message":"854","line":9,"column":42,"nodeType":"855","messageId":"856","endLine":9,"endColumn":43,"suggestions":"919"},{"ruleId":"853","severity":1,"message":"854","line":9,"column":67,"nodeType":"855","messageId":"856","endLine":9,"endColumn":68,"suggestions":"920"},{"ruleId":"853","severity":1,"message":"854","line":9,"column":76,"nodeType":"855","messageId":"856","endLine":9,"endColumn":77,"suggestions":"921"},{"ruleId":"853","severity":1,"message":"854","line":9,"column":80,"nodeType":"855","messageId":"856","endLine":9,"endColumn":81,"suggestions":"922"},{"ruleId":"845","severity":1,"message":"846","line":88,"column":46,"nodeType":"847","messageId":"848","endLine":88,"endColumn":48},{"ruleId":"841","severity":1,"message":"890","line":2,"column":10,"nodeType":"843","messageId":"844","endLine":2,"endColumn":14},{"ruleId":"841","severity":1,"message":"883","line":3,"column":8,"nodeType":"843","messageId":"844","endLine":3,"endColumn":13},{"ruleId":"841","severity":1,"message":"923","line":5,"column":8,"nodeType":"843","messageId":"844","endLine":5,"endColumn":17},{"ruleId":"841","severity":1,"message":"924","line":6,"column":10,"nodeType":"843","messageId":"844","endLine":6,"endColumn":17},{"ruleId":"841","severity":1,"message":"925","line":7,"column":10,"nodeType":"843","messageId":"844","endLine":7,"endColumn":20},{"ruleId":"841","severity":1,"message":"880","line":47,"column":17,"nodeType":"843","messageId":"844","endLine":47,"endColumn":18},{"ruleId":"864","severity":1,"message":"865","line":104,"column":21,"nodeType":"863","endLine":104,"endColumn":103},{"ruleId":"845","severity":1,"message":"846","line":35,"column":30,"nodeType":"847","messageId":"848","endLine":35,"endColumn":32},{"ruleId":"845","severity":1,"message":"846","line":59,"column":43,"nodeType":"847","messageId":"848","endLine":59,"endColumn":45},{"ruleId":"845","severity":1,"message":"846","line":28,"column":49,"nodeType":"847","messageId":"848","endLine":28,"endColumn":51},{"ruleId":"864","severity":1,"message":"865","line":126,"column":96,"nodeType":"863","endLine":126,"endColumn":214},{"ruleId":"864","severity":1,"message":"865","line":135,"column":100,"nodeType":"863","endLine":135,"endColumn":217},{"ruleId":"845","severity":1,"message":"846","line":143,"column":60,"nodeType":"847","messageId":"848","endLine":143,"endColumn":62},{"ruleId":"845","severity":1,"message":"846","line":174,"column":60,"nodeType":"847","messageId":"848","endLine":174,"endColumn":62},{"ruleId":"845","severity":1,"message":"846","line":184,"column":46,"nodeType":"847","messageId":"848","endLine":184,"endColumn":48},{"ruleId":"845","severity":1,"message":"846","line":61,"column":25,"nodeType":"847","messageId":"848","endLine":61,"endColumn":27},{"ruleId":"845","severity":1,"message":"846","line":148,"column":153,"nodeType":"847","messageId":"848","endLine":148,"endColumn":155},{"ruleId":"841","severity":1,"message":"926","line":150,"column":19,"nodeType":"843","messageId":"844","endLine":150,"endColumn":30},{"ruleId":"845","severity":1,"message":"846","line":200,"column":45,"nodeType":"847","messageId":"848","endLine":200,"endColumn":47},{"ruleId":"845","severity":1,"message":"846","line":233,"column":46,"nodeType":"847","messageId":"848","endLine":233,"endColumn":48},{"ruleId":"849","replacedBy":"927"},{"ruleId":"851","replacedBy":"928"},{"ruleId":"841","severity":1,"message":"892","line":10,"column":8,"nodeType":"843","messageId":"844","endLine":10,"endColumn":12},{"ruleId":"841","severity":1,"message":"890","line":3,"column":10,"nodeType":"843","messageId":"844","endLine":3,"endColumn":14},{"ruleId":"841","severity":1,"message":"891","line":9,"column":8,"nodeType":"843","messageId":"844","endLine":9,"endColumn":19},{"ruleId":"841","severity":1,"message":"892","line":11,"column":8,"nodeType":"843","messageId":"844","endLine":11,"endColumn":12},{"ruleId":"841","severity":1,"message":"906","line":12,"column":8,"nodeType":"843","messageId":"844","endLine":12,"endColumn":13},{"ruleId":"841","severity":1,"message":"929","line":13,"column":8,"nodeType":"843","messageId":"844","endLine":13,"endColumn":19},{"ruleId":"841","severity":1,"message":"880","line":130,"column":17,"nodeType":"843","messageId":"844","endLine":130,"endColumn":18},{"ruleId":"845","severity":1,"message":"846","line":131,"column":34,"nodeType":"847","messageId":"848","endLine":131,"endColumn":36},{"ruleId":"864","severity":1,"message":"865","line":152,"column":25,"nodeType":"863","endLine":152,"endColumn":98},{"ruleId":"864","severity":1,"message":"865","line":169,"column":41,"nodeType":"863","endLine":169,"endColumn":117},{"ruleId":"845","severity":1,"message":"846","line":187,"column":47,"nodeType":"847","messageId":"848","endLine":187,"endColumn":49},{"ruleId":"841","severity":1,"message":"930","line":77,"column":9,"nodeType":"843","messageId":"844","endLine":77,"endColumn":25},{"ruleId":"841","severity":1,"message":"931","line":80,"column":9,"nodeType":"843","messageId":"844","endLine":80,"endColumn":25},{"ruleId":"841","severity":1,"message":"932","line":81,"column":9,"nodeType":"843","messageId":"844","endLine":81,"endColumn":25},{"ruleId":"841","severity":1,"message":"933","line":82,"column":9,"nodeType":"843","messageId":"844","endLine":82,"endColumn":20},{"ruleId":"845","severity":1,"message":"846","line":105,"column":39,"nodeType":"847","messageId":"848","endLine":105,"endColumn":41},{"ruleId":"845","severity":1,"message":"846","line":107,"column":38,"nodeType":"847","messageId":"848","endLine":107,"endColumn":40},{"ruleId":"841","severity":1,"message":"880","line":169,"column":13,"nodeType":"843","messageId":"844","endLine":169,"endColumn":14},{"ruleId":"845","severity":1,"message":"846","line":173,"column":44,"nodeType":"847","messageId":"848","endLine":173,"endColumn":46},{"ruleId":"841","severity":1,"message":"909","line":178,"column":9,"nodeType":"843","messageId":"844","endLine":178,"endColumn":17},{"ruleId":"864","severity":1,"message":"865","line":181,"column":157,"nodeType":"863","endLine":181,"endColumn":282},{"ruleId":"910","severity":1,"message":"911","line":191,"column":11,"nodeType":"847","messageId":"912","endLine":191,"endColumn":17},{"ruleId":"841","severity":1,"message":"934","line":233,"column":11,"nodeType":"843","messageId":"844","endLine":233,"endColumn":31},{"ruleId":"864","severity":1,"message":"865","line":236,"column":167,"nodeType":"863","endLine":236,"endColumn":325},{"ruleId":"841","severity":1,"message":"935","line":251,"column":7,"nodeType":"843","messageId":"844","endLine":251,"endColumn":23},{"ruleId":"841","severity":1,"message":"936","line":269,"column":7,"nodeType":"843","messageId":"844","endLine":269,"endColumn":18},{"ruleId":"845","severity":1,"message":"881","line":287,"column":39,"nodeType":"847","messageId":"848","endLine":287,"endColumn":41},{"ruleId":"913","severity":1,"message":"914","line":289,"column":7,"nodeType":"915","messageId":"916","endLine":299,"endColumn":8},{"ruleId":"841","severity":1,"message":"937","line":300,"column":7,"nodeType":"843","messageId":"844","endLine":300,"endColumn":25},{"ruleId":"864","severity":1,"message":"865","line":314,"column":19,"nodeType":"863","endLine":314,"endColumn":44},{"ruleId":"864","severity":1,"message":"865","line":350,"column":21,"nodeType":"863","endLine":350,"endColumn":99},{"ruleId":"864","severity":1,"message":"865","line":412,"column":13,"nodeType":"863","endLine":412,"endColumn":95},{"ruleId":"845","severity":1,"message":"846","line":428,"column":45,"nodeType":"847","messageId":"848","endLine":428,"endColumn":47},{"ruleId":"841","severity":1,"message":"880","line":46,"column":17,"nodeType":"843","messageId":"844","endLine":46,"endColumn":18},{"ruleId":"845","severity":1,"message":"846","line":48,"column":38,"nodeType":"847","messageId":"848","endLine":48,"endColumn":40},{"ruleId":"845","severity":1,"message":"846","line":54,"column":39,"nodeType":"847","messageId":"848","endLine":54,"endColumn":41},{"ruleId":"845","severity":1,"message":"846","line":58,"column":46,"nodeType":"847","messageId":"848","endLine":58,"endColumn":48},{"ruleId":"849","replacedBy":"938"},{"ruleId":"851","replacedBy":"939"},{"ruleId":"853","severity":1,"message":"854","line":10,"column":42,"nodeType":"855","messageId":"856","endLine":10,"endColumn":43,"suggestions":"940"},{"ruleId":"853","severity":1,"message":"854","line":10,"column":67,"nodeType":"855","messageId":"856","endLine":10,"endColumn":68,"suggestions":"941"},{"ruleId":"853","severity":1,"message":"854","line":10,"column":76,"nodeType":"855","messageId":"856","endLine":10,"endColumn":77,"suggestions":"942"},{"ruleId":"853","severity":1,"message":"854","line":10,"column":80,"nodeType":"855","messageId":"856","endLine":10,"endColumn":81,"suggestions":"943"},{"ruleId":"845","severity":1,"message":"846","line":99,"column":46,"nodeType":"847","messageId":"848","endLine":99,"endColumn":48},{"ruleId":"853","severity":1,"message":"854","line":13,"column":42,"nodeType":"855","messageId":"856","endLine":13,"endColumn":43,"suggestions":"944"},{"ruleId":"853","severity":1,"message":"854","line":13,"column":67,"nodeType":"855","messageId":"856","endLine":13,"endColumn":68,"suggestions":"945"},{"ruleId":"853","severity":1,"message":"854","line":13,"column":76,"nodeType":"855","messageId":"856","endLine":13,"endColumn":77,"suggestions":"946"},{"ruleId":"853","severity":1,"message":"854","line":13,"column":80,"nodeType":"855","messageId":"856","endLine":13,"endColumn":81,"suggestions":"947"},{"ruleId":"845","severity":1,"message":"846","line":161,"column":57,"nodeType":"847","messageId":"848","endLine":161,"endColumn":59},{"ruleId":"845","severity":1,"message":"846","line":215,"column":34,"nodeType":"847","messageId":"848","endLine":215,"endColumn":36},{"ruleId":"845","severity":1,"message":"846","line":231,"column":50,"nodeType":"847","messageId":"848","endLine":231,"endColumn":52},{"ruleId":"845","severity":1,"message":"846","line":256,"column":50,"nodeType":"847","messageId":"848","endLine":256,"endColumn":52},{"ruleId":"845","severity":1,"message":"846","line":286,"column":46,"nodeType":"847","messageId":"848","endLine":286,"endColumn":48},{"ruleId":"841","severity":1,"message":"890","line":3,"column":10,"nodeType":"843","messageId":"844","endLine":3,"endColumn":14},{"ruleId":"841","severity":1,"message":"880","line":44,"column":17,"nodeType":"843","messageId":"844","endLine":44,"endColumn":18},{"ruleId":"845","severity":1,"message":"846","line":32,"column":47,"nodeType":"847","messageId":"848","endLine":32,"endColumn":49},{"ruleId":"845","severity":1,"message":"846","line":37,"column":54,"nodeType":"847","messageId":"848","endLine":37,"endColumn":56},{"ruleId":"845","severity":1,"message":"846","line":80,"column":18,"nodeType":"847","messageId":"848","endLine":80,"endColumn":20},{"ruleId":"948","severity":1,"message":"949","line":82,"column":20,"nodeType":"950","messageId":"951","endLine":82,"endColumn":30},{"ruleId":"845","severity":1,"message":"846","line":95,"column":27,"nodeType":"847","messageId":"848","endLine":95,"endColumn":29},{"ruleId":"845","severity":1,"message":"846","line":103,"column":35,"nodeType":"847","messageId":"848","endLine":103,"endColumn":37},{"ruleId":"841","severity":1,"message":"880","line":127,"column":17,"nodeType":"843","messageId":"844","endLine":127,"endColumn":18},{"ruleId":"845","severity":1,"message":"846","line":128,"column":38,"nodeType":"847","messageId":"848","endLine":128,"endColumn":40},{"ruleId":"845","severity":1,"message":"846","line":132,"column":28,"nodeType":"847","messageId":"848","endLine":132,"endColumn":30},{"ruleId":"845","severity":1,"message":"846","line":141,"column":35,"nodeType":"847","messageId":"848","endLine":141,"endColumn":37},{"ruleId":"841","severity":1,"message":"880","line":41,"column":17,"nodeType":"843","messageId":"844","endLine":41,"endColumn":18},{"ruleId":"845","severity":1,"message":"846","line":43,"column":38,"nodeType":"847","messageId":"848","endLine":43,"endColumn":40},{"ruleId":"864","severity":1,"message":"865","line":51,"column":25,"nodeType":"863","endLine":51,"endColumn":94},{"ruleId":"841","severity":1,"message":"952","line":17,"column":8,"nodeType":"843","messageId":"844","endLine":17,"endColumn":21},{"ruleId":"853","severity":1,"message":"854","line":20,"column":42,"nodeType":"855","messageId":"856","endLine":20,"endColumn":43,"suggestions":"953"},{"ruleId":"853","severity":1,"message":"854","line":20,"column":67,"nodeType":"855","messageId":"856","endLine":20,"endColumn":68,"suggestions":"954"},{"ruleId":"853","severity":1,"message":"854","line":20,"column":76,"nodeType":"855","messageId":"856","endLine":20,"endColumn":77,"suggestions":"955"},{"ruleId":"853","severity":1,"message":"854","line":20,"column":80,"nodeType":"855","messageId":"856","endLine":20,"endColumn":81,"suggestions":"956"},{"ruleId":"845","severity":1,"message":"846","line":92,"column":35,"nodeType":"847","messageId":"848","endLine":92,"endColumn":37},{"ruleId":"845","severity":1,"message":"846","line":114,"column":50,"nodeType":"847","messageId":"848","endLine":114,"endColumn":52},{"ruleId":"845","severity":1,"message":"846","line":124,"column":35,"nodeType":"847","messageId":"848","endLine":124,"endColumn":37},{"ruleId":"845","severity":1,"message":"846","line":127,"column":42,"nodeType":"847","messageId":"848","endLine":127,"endColumn":44},{"ruleId":"845","severity":1,"message":"846","line":132,"column":42,"nodeType":"847","messageId":"848","endLine":132,"endColumn":44},{"ruleId":"845","severity":1,"message":"846","line":137,"column":42,"nodeType":"847","messageId":"848","endLine":137,"endColumn":44},{"ruleId":"845","severity":1,"message":"846","line":142,"column":41,"nodeType":"847","messageId":"848","endLine":142,"endColumn":43},{"ruleId":"845","severity":1,"message":"846","line":147,"column":40,"nodeType":"847","messageId":"848","endLine":147,"endColumn":42},{"ruleId":"845","severity":1,"message":"846","line":152,"column":40,"nodeType":"847","messageId":"848","endLine":152,"endColumn":42},{"ruleId":"845","severity":1,"message":"846","line":157,"column":40,"nodeType":"847","messageId":"848","endLine":157,"endColumn":42},{"ruleId":"845","severity":1,"message":"846","line":36,"column":29,"nodeType":"847","messageId":"848","endLine":36,"endColumn":31},{"ruleId":"845","severity":1,"message":"846","line":36,"column":49,"nodeType":"847","messageId":"848","endLine":36,"endColumn":51},{"ruleId":"845","severity":1,"message":"846","line":51,"column":62,"nodeType":"847","messageId":"848","endLine":51,"endColumn":64},{"ruleId":"845","severity":1,"message":"846","line":52,"column":68,"nodeType":"847","messageId":"848","endLine":52,"endColumn":70},{"ruleId":"845","severity":1,"message":"846","line":54,"column":75,"nodeType":"847","messageId":"848","endLine":54,"endColumn":77},{"ruleId":"845","severity":1,"message":"846","line":55,"column":66,"nodeType":"847","messageId":"848","endLine":55,"endColumn":68},{"ruleId":"845","severity":1,"message":"846","line":61,"column":92,"nodeType":"847","messageId":"848","endLine":61,"endColumn":94},{"ruleId":"845","severity":1,"message":"846","line":68,"column":75,"nodeType":"847","messageId":"848","endLine":68,"endColumn":77},{"ruleId":"845","severity":1,"message":"846","line":112,"column":45,"nodeType":"847","messageId":"848","endLine":112,"endColumn":47},{"ruleId":"845","severity":1,"message":"846","line":114,"column":52,"nodeType":"847","messageId":"848","endLine":114,"endColumn":54},{"ruleId":"845","severity":1,"message":"846","line":117,"column":47,"nodeType":"847","messageId":"848","endLine":117,"endColumn":49},{"ruleId":"845","severity":1,"message":"846","line":123,"column":58,"nodeType":"847","messageId":"848","endLine":123,"endColumn":60},{"ruleId":"845","severity":1,"message":"846","line":124,"column":53,"nodeType":"847","messageId":"848","endLine":124,"endColumn":55},{"ruleId":"845","severity":1,"message":"846","line":145,"column":18,"nodeType":"847","messageId":"848","endLine":145,"endColumn":20},{"ruleId":"845","severity":1,"message":"846","line":160,"column":32,"nodeType":"847","messageId":"848","endLine":160,"endColumn":34},{"ruleId":"845","severity":1,"message":"846","line":162,"column":39,"nodeType":"847","messageId":"848","endLine":162,"endColumn":41},{"ruleId":"845","severity":1,"message":"846","line":165,"column":39,"nodeType":"847","messageId":"848","endLine":165,"endColumn":41},{"ruleId":"845","severity":1,"message":"846","line":195,"column":33,"nodeType":"847","messageId":"848","endLine":195,"endColumn":35},{"ruleId":"845","severity":1,"message":"846","line":197,"column":40,"nodeType":"847","messageId":"848","endLine":197,"endColumn":42},{"ruleId":"845","severity":1,"message":"846","line":198,"column":46,"nodeType":"847","messageId":"848","endLine":198,"endColumn":48},{"ruleId":"845","severity":1,"message":"846","line":204,"column":40,"nodeType":"847","messageId":"848","endLine":204,"endColumn":42},{"ruleId":"845","severity":1,"message":"846","line":215,"column":40,"nodeType":"847","messageId":"848","endLine":215,"endColumn":42},{"ruleId":"841","severity":1,"message":"880","line":233,"column":17,"nodeType":"843","messageId":"844","endLine":233,"endColumn":18},{"ruleId":"902","severity":1,"message":"903","line":246,"column":68,"nodeType":"899","messageId":"904","endLine":246,"endColumn":70},{"ruleId":"845","severity":1,"message":"846","line":248,"column":33,"nodeType":"847","messageId":"848","endLine":248,"endColumn":35},{"ruleId":"845","severity":1,"message":"846","line":265,"column":40,"nodeType":"847","messageId":"848","endLine":265,"endColumn":42},{"ruleId":"845","severity":1,"message":"846","line":272,"column":80,"nodeType":"847","messageId":"848","endLine":272,"endColumn":82},{"ruleId":"845","severity":1,"message":"846","line":298,"column":40,"nodeType":"847","messageId":"848","endLine":298,"endColumn":42},{"ruleId":"845","severity":1,"message":"846","line":319,"column":36,"nodeType":"847","messageId":"848","endLine":319,"endColumn":38},{"ruleId":"845","severity":1,"message":"846","line":321,"column":43,"nodeType":"847","messageId":"848","endLine":321,"endColumn":45},{"ruleId":"845","severity":1,"message":"846","line":343,"column":46,"nodeType":"847","messageId":"848","endLine":343,"endColumn":48},{"ruleId":"841","severity":1,"message":"957","line":3,"column":8,"nodeType":"843","messageId":"844","endLine":3,"endColumn":14},{"ruleId":"845","severity":1,"message":"846","line":38,"column":55,"nodeType":"847","messageId":"848","endLine":38,"endColumn":57},{"ruleId":"958","severity":1,"message":"959","line":39,"column":21,"nodeType":"960","endLine":39,"endColumn":54},{"ruleId":"845","severity":1,"message":"846","line":50,"column":61,"nodeType":"847","messageId":"848","endLine":50,"endColumn":63},{"ruleId":"841","severity":1,"message":"890","line":3,"column":9,"nodeType":"843","messageId":"844","endLine":3,"endColumn":13},{"ruleId":"845","severity":1,"message":"846","line":47,"column":30,"nodeType":"847","messageId":"848","endLine":47,"endColumn":32},{"ruleId":"845","severity":1,"message":"846","line":108,"column":52,"nodeType":"847","messageId":"848","endLine":108,"endColumn":54},{"ruleId":"841","severity":1,"message":"909","line":114,"column":21,"nodeType":"843","messageId":"844","endLine":114,"endColumn":29},{"ruleId":"864","severity":1,"message":"865","line":117,"column":173,"nodeType":"863","endLine":117,"endColumn":298},{"ruleId":"864","severity":1,"message":"865","line":166,"column":187,"nodeType":"863","endLine":166,"endColumn":345},{"ruleId":"864","severity":1,"message":"865","line":185,"column":25,"nodeType":"863","endLine":185,"endColumn":164},{"ruleId":"864","severity":1,"message":"865","line":187,"column":29,"nodeType":"863","endLine":187,"endColumn":141},{"ruleId":"841","severity":1,"message":"890","line":3,"column":10,"nodeType":"843","messageId":"844","endLine":3,"endColumn":14},{"ruleId":"845","severity":1,"message":"846","line":45,"column":38,"nodeType":"847","messageId":"848","endLine":45,"endColumn":40},{"ruleId":"845","severity":1,"message":"846","line":45,"column":74,"nodeType":"847","messageId":"848","endLine":45,"endColumn":76},{"ruleId":"841","severity":1,"message":"895","line":6,"column":32,"nodeType":"843","messageId":"844","endLine":6,"endColumn":52},{"ruleId":"845","severity":1,"message":"846","line":59,"column":29,"nodeType":"847","messageId":"848","endLine":59,"endColumn":31},{"ruleId":"845","severity":1,"message":"846","line":59,"column":49,"nodeType":"847","messageId":"848","endLine":59,"endColumn":51},{"ruleId":"841","severity":1,"message":"896","line":62,"column":25,"nodeType":"843","messageId":"844","endLine":62,"endColumn":32},{"ruleId":"845","severity":1,"message":"846","line":130,"column":18,"nodeType":"847","messageId":"848","endLine":130,"endColumn":20},{"ruleId":"845","severity":1,"message":"846","line":135,"column":24,"nodeType":"847","messageId":"848","endLine":135,"endColumn":26},{"ruleId":"845","severity":1,"message":"846","line":158,"column":32,"nodeType":"847","messageId":"848","endLine":158,"endColumn":34},{"ruleId":"845","severity":1,"message":"846","line":160,"column":39,"nodeType":"847","messageId":"848","endLine":160,"endColumn":41},{"ruleId":"845","severity":1,"message":"846","line":163,"column":39,"nodeType":"847","messageId":"848","endLine":163,"endColumn":41},{"ruleId":"897","severity":1,"message":"898","line":222,"column":25,"nodeType":"899","messageId":"900","endLine":234,"endColumn":18},{"ruleId":"845","severity":1,"message":"846","line":224,"column":45,"nodeType":"847","messageId":"848","endLine":224,"endColumn":47},{"ruleId":"845","severity":1,"message":"881","line":267,"column":23,"nodeType":"847","messageId":"848","endLine":267,"endColumn":25},{"ruleId":"845","severity":1,"message":"846","line":273,"column":56,"nodeType":"847","messageId":"848","endLine":273,"endColumn":58},{"ruleId":"841","severity":1,"message":"880","line":319,"column":17,"nodeType":"843","messageId":"844","endLine":319,"endColumn":18},{"ruleId":"845","severity":1,"message":"846","line":366,"column":36,"nodeType":"847","messageId":"848","endLine":366,"endColumn":38},{"ruleId":"845","severity":1,"message":"846","line":368,"column":43,"nodeType":"847","messageId":"848","endLine":368,"endColumn":45},{"ruleId":"845","severity":1,"message":"846","line":370,"column":41,"nodeType":"847","messageId":"848","endLine":370,"endColumn":43},{"ruleId":"864","severity":1,"message":"865","line":378,"column":25,"nodeType":"863","endLine":378,"endColumn":98},{"ruleId":"845","severity":1,"message":"881","line":387,"column":39,"nodeType":"847","messageId":"848","endLine":387,"endColumn":41},{"ruleId":"845","severity":1,"message":"846","line":387,"column":117,"nodeType":"847","messageId":"848","endLine":387,"endColumn":119},{"ruleId":"845","severity":1,"message":"846","line":390,"column":68,"nodeType":"847","messageId":"848","endLine":390,"endColumn":70},{"ruleId":"845","severity":1,"message":"846","line":419,"column":35,"nodeType":"847","messageId":"848","endLine":419,"endColumn":37},{"ruleId":"864","severity":1,"message":"865","line":442,"column":37,"nodeType":"863","endLine":442,"endColumn":113},{"ruleId":"845","severity":1,"message":"846","line":470,"column":46,"nodeType":"847","messageId":"848","endLine":470,"endColumn":48},{"ruleId":"841","severity":1,"message":"880","line":81,"column":17,"nodeType":"843","messageId":"844","endLine":81,"endColumn":18},{"ruleId":"845","severity":1,"message":"846","line":83,"column":38,"nodeType":"847","messageId":"848","endLine":83,"endColumn":40},"no-unused-vars","'serviceWorkerRegistration' is defined but never used.","Identifier","unusedVar","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-native-reassign",["961"],"no-negated-in-lhs",["962"],"no-useless-escape","Unnecessary escape character: \\\".","Literal","unnecessaryEscape",["963","964"],["965","966"],["967","968"],["969","970"],"react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXOpeningElement","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.",["971","972"],["973","974"],["975","976"],["977","978"],["979","980"],["981","982"],["983","984"],["985","986"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.","ArrayExpression",["987"],["961"],["962"],"'t' is assigned a value but never used.","Expected '!==' and instead saw '!='.","'withTranslation' is defined but never used.","'axios' is defined but never used.","'ActivityTicker' is defined but never used.","'recentPurchases' is assigned a value but never used.","no-unreachable","Unreachable code.","ExpressionStatement","unreachableCode","'Link' is defined but never used.","'SpecialCard' is defined but never used.","'Body' is defined but never used.","'limitDate' is assigned a value but never used.","'ListingCard' is defined but never used.","'integerToMoneyString' is defined but never used.","'filters' is assigned a value but never used.","no-loop-func","Function declared in a loop contains unsafe references to variable(s) 'nbPicturesCompleted', 'nbPicturesCompleted'.","ArrowFunctionExpression","unsafeRefs","'categoriesOptions' is assigned a value but never used.","array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","expectedAtEnd","'filtersList' is assigned a value but never used.","'Modal' is defined but never used.","'filtersDiv' is assigned a value but never used.","'activityTicker' is defined but never used.","'catQtity' is assigned a value but never used.","no-self-compare","Comparing to itself is potentially pointless.","comparingToSelf","default-case","Expected a default case.","SwitchStatement","missingDefaultCase",["961"],["962"],["988","989"],["990","991"],["992","993"],["994","995"],"'PropTypes' is defined but never used.","'connect' is defined but never used.","'logoutUser' is defined but never used.","'cardElement' is assigned a value but never used.",["961"],["962"],"'ReviewsCard' is defined but never used.","'followedListings' is assigned a value but never used.","'followedPosition' is assigned a value but never used.","'featuredPosition' is assigned a value but never used.","'hotPosition' is assigned a value but never used.","'desktopSearchSuggest' is assigned a value but never used.","'featuredListings' is assigned a value but never used.","'hotListings' is assigned a value but never used.","'mobileStickyHeader' is assigned a value but never used.",["961"],["962"],["996","997"],["998","999"],["1000","1001"],["1002","1003"],["1004","1005"],["1006","1007"],["1008","1009"],["1010","1011"],"no-cond-assign","Expected a conditional expression and instead saw an assignment.","AssignmentExpression","missing","'NewGuestUsers' is defined but never used.",["1012","1013"],["1014","1015"],["1016","1017"],["1018","1019"],"'styles' is defined but never used.","react/no-direct-mutation-state","Do not mutate state directly. Use setState().","MemberExpression","no-global-assign","no-unsafe-negation",{"messageId":"1020","fix":"1021","desc":"1022"},{"messageId":"1023","fix":"1024","desc":"1025"},{"messageId":"1020","fix":"1026","desc":"1022"},{"messageId":"1023","fix":"1027","desc":"1025"},{"messageId":"1020","fix":"1028","desc":"1022"},{"messageId":"1023","fix":"1029","desc":"1025"},{"messageId":"1020","fix":"1030","desc":"1022"},{"messageId":"1023","fix":"1031","desc":"1025"},{"messageId":"1020","fix":"1032","desc":"1022"},{"messageId":"1023","fix":"1033","desc":"1025"},{"messageId":"1020","fix":"1034","desc":"1022"},{"messageId":"1023","fix":"1035","desc":"1025"},{"messageId":"1020","fix":"1036","desc":"1022"},{"messageId":"1023","fix":"1037","desc":"1025"},{"messageId":"1020","fix":"1038","desc":"1022"},{"messageId":"1023","fix":"1039","desc":"1025"},{"messageId":"1020","fix":"1040","desc":"1022"},{"messageId":"1023","fix":"1041","desc":"1025"},{"messageId":"1020","fix":"1042","desc":"1022"},{"messageId":"1023","fix":"1043","desc":"1025"},{"messageId":"1020","fix":"1044","desc":"1022"},{"messageId":"1023","fix":"1045","desc":"1025"},{"messageId":"1020","fix":"1046","desc":"1022"},{"messageId":"1023","fix":"1047","desc":"1025"},{"desc":"1048","fix":"1049"},{"messageId":"1020","fix":"1050","desc":"1022"},{"messageId":"1023","fix":"1051","desc":"1025"},{"messageId":"1020","fix":"1052","desc":"1022"},{"messageId":"1023","fix":"1053","desc":"1025"},{"messageId":"1020","fix":"1054","desc":"1022"},{"messageId":"1023","fix":"1055","desc":"1025"},{"messageId":"1020","fix":"1056","desc":"1022"},{"messageId":"1023","fix":"1057","desc":"1025"},{"messageId":"1020","fix":"1058","desc":"1022"},{"messageId":"1023","fix":"1059","desc":"1025"},{"messageId":"1020","fix":"1060","desc":"1022"},{"messageId":"1023","fix":"1061","desc":"1025"},{"messageId":"1020","fix":"1062","desc":"1022"},{"messageId":"1023","fix":"1063","desc":"1025"},{"messageId":"1020","fix":"1064","desc":"1022"},{"messageId":"1023","fix":"1065","desc":"1025"},{"messageId":"1020","fix":"1066","desc":"1022"},{"messageId":"1023","fix":"1067","desc":"1025"},{"messageId":"1020","fix":"1068","desc":"1022"},{"messageId":"1023","fix":"1069","desc":"1025"},{"messageId":"1020","fix":"1070","desc":"1022"},{"messageId":"1023","fix":"1071","desc":"1025"},{"messageId":"1020","fix":"1072","desc":"1022"},{"messageId":"1023","fix":"1073","desc":"1025"},{"messageId":"1020","fix":"1074","desc":"1022"},{"messageId":"1023","fix":"1075","desc":"1025"},{"messageId":"1020","fix":"1076","desc":"1022"},{"messageId":"1023","fix":"1077","desc":"1025"},{"messageId":"1020","fix":"1078","desc":"1022"},{"messageId":"1023","fix":"1079","desc":"1025"},{"messageId":"1020","fix":"1080","desc":"1022"},{"messageId":"1023","fix":"1081","desc":"1025"},"removeEscape",{"range":"1082","text":"1083"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"1084","text":"1085"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"1086","text":"1083"},{"range":"1087","text":"1085"},{"range":"1088","text":"1083"},{"range":"1089","text":"1085"},{"range":"1090","text":"1083"},{"range":"1091","text":"1085"},{"range":"1092","text":"1083"},{"range":"1093","text":"1085"},{"range":"1094","text":"1083"},{"range":"1095","text":"1085"},{"range":"1096","text":"1083"},{"range":"1097","text":"1085"},{"range":"1098","text":"1083"},{"range":"1099","text":"1085"},{"range":"1100","text":"1083"},{"range":"1101","text":"1085"},{"range":"1102","text":"1083"},{"range":"1103","text":"1085"},{"range":"1104","text":"1083"},{"range":"1105","text":"1085"},{"range":"1106","text":"1083"},{"range":"1107","text":"1085"},"Update the dependencies array to be: [history]",{"range":"1108","text":"1109"},{"range":"1110","text":"1083"},{"range":"1111","text":"1085"},{"range":"1112","text":"1083"},{"range":"1113","text":"1085"},{"range":"1114","text":"1083"},{"range":"1115","text":"1085"},{"range":"1116","text":"1083"},{"range":"1117","text":"1085"},{"range":"1118","text":"1083"},{"range":"1119","text":"1085"},{"range":"1120","text":"1083"},{"range":"1121","text":"1085"},{"range":"1122","text":"1083"},{"range":"1123","text":"1085"},{"range":"1124","text":"1083"},{"range":"1125","text":"1085"},{"range":"1126","text":"1083"},{"range":"1127","text":"1085"},{"range":"1128","text":"1083"},{"range":"1129","text":"1085"},{"range":"1130","text":"1083"},{"range":"1131","text":"1085"},{"range":"1132","text":"1083"},{"range":"1133","text":"1085"},{"range":"1134","text":"1083"},{"range":"1135","text":"1085"},{"range":"1136","text":"1083"},{"range":"1137","text":"1085"},{"range":"1138","text":"1083"},{"range":"1139","text":"1085"},{"range":"1140","text":"1083"},{"range":"1141","text":"1085"},[346,347],"",[346,346],"\\",[371,372],[371,371],[380,381],[380,380],[384,385],[384,384],[507,508],[507,507],[532,533],[532,532],[541,542],[541,541],[545,546],[545,545],[419,420],[419,419],[444,445],[444,444],[453,454],[453,453],[457,458],[457,457],[338,340],"[history]",[419,420],[419,419],[444,445],[444,444],[453,454],[453,453],[457,458],[457,457],[440,441],[440,440],[465,466],[465,465],[474,475],[474,474],[478,479],[478,478],[522,523],[522,522],[547,548],[547,547],[556,557],[556,556],[560,561],[560,560],[719,720],[719,719],[744,745],[744,744],[753,754],[753,753],[757,758],[757,757]]